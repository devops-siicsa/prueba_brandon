import{ab as Wl,ac as Zl,k as j,d as P,n as he,m as Me,c as G,o as D,w as l,a as t,a8 as U,aa as S,f as a,g as O,h as I,t as N,ad as ve,i as Ve,ae as Q,a7 as Z,j as ge,af as Yt,W as se,a9 as ke,ag as Jl,z as Ne,A as ye,I as je,ah as Xe,B as Ql,D as Mt,F as Ct,s as Be,Q as bt,ai as Xl,aj as mt,M as ne,R as Oe,ak as Yl,X as Ot,Y as Lt,al as ea,_ as el,a2 as jt,am as Se,S as oe,an as Zt,a4 as We,ao as tl,v as Dt,ap as Ye,aq as Je,Z as rt,ar as ta,l as Pe,x as la,as as aa,at as oa,au as nt,av as na,aw as yt,ax as xt,ay as vt,az as Bt,E as ll,a0 as Gt,aA as sa,aB as ft,aC as Nt,aD as zt,aE as gt,aF as al,r as ia,aG as ol,aH as ra,u as da,aI as pt,aJ as ua,aK as ca,aL as ma,aM as va,aN as Jt,aO as fa,aP as ga,aQ as pa,a5 as ba,aR as ya,aS as xa,aT as ha,G as wa,aU as ka,aV as Va,aW as Ca,e as Ia}from"./index--cwzPgFN.js";import{u as Ie,b as X,c as pe,d as ie,e as Ce,f as $e,a as et}from"./useMobileDetection-DVtk2gMU.js";import{_ as Te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as z,m as nl,c as dt,b as sl,d as Sa,L as Aa,e as $a,f as _a,u as Pa,a as Ta,R as Et}from"./VGrid-Bvk_EzwB.js";import{V as De}from"./VForm-Dx6NHo9p.js";import{V as re,a as B,b as de,u as Da,m as Na}from"./VTextField-oy8GBoI6.js";import{V as Ue,a as Ge,b as Re,c as st,u as il,m as rl,d as Ea,e as za,f as Fa,g as Ua,h as Ra}from"./VSwitch-DeZFYIz0.js";import{V as fe,U as Ma}from"./UserList-BqASrbP5.js";import{V as ue}from"./VDialog-BMR7tClG.js";import{V as ce}from"./VChip-hM0WfqDl.js";import{c as Oa}from"./index-BvfS-qSn.js";import{V as La}from"./VTooltip-g5pwnaZf.js";import{V as ut}from"./VContainer-B_ZFSiXZ.js";import{u as ja,t as ot,V as Ft,a as Qe,c as Ba}from"./VList-ClXTKyiG.js";import{V as Ga}from"./VMenu-Cdl4H-mK.js";import"./VAlert-Conwkj8S.js";function Qt(e,d,n){return Object.keys(e).filter(o=>Wl(o)&&o.endsWith(d)).reduce((o,i)=>(o[i.slice(0,-d.length)]=u=>Zl(e[i],u,n(u)),o),{})}const Ha={class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},qa={class:"d-flex align-center"},Ka={class:"header-icon-box mr-3"},Wa={class:"text-h6 font-weight-bold text-grey-darken-3",style:{"line-height":"1.2"}},Za={class:"text-caption text-grey mt-1"},Ja={class:"d-flex align-center"},Qa={__name:"CompanyForm",props:{modelValue:Boolean,company:Object},emits:["update:modelValue","saved"],setup(e,{emit:d}){const n=e,o=d,{isMobileApp:i}=Ie(),u=j({get:()=>n.modelValue,set:h=>o("update:modelValue",h)}),c=P({NIT:"",RazonSocial:"",Direccion:"",DepartamentoId:null,CiudadId:null,Telefono:"",Activo:!0}),V=P([]),x=P([]),$=P(!1);async function y(){try{const h=await Q.get("/api/config/departments",{withCredentials:!0});V.value=h.data}catch(h){console.error(h)}}async function v(h){if(!h){x.value=[];return}try{const b=await Q.get(`/api/config/cities/${h}`,{withCredentials:!0});x.value=b.data}catch(b){console.error(b)}}async function g(){$.value=!0;try{const h=n.company?`/api/config/companies/${n.company.Id}`:"/api/config/companies",b=n.company?"put":"post";await Q[b](h,c.value,{withCredentials:!0}),o("saved"),u.value=!1}catch(h){alert("Error al guardar: "+(h.response?.data?.message||h.message))}finally{$.value=!1}}return he(()=>n.company,async h=>{h?c.value={...h}:(c.value={NIT:"",RazonSocial:"",Direccion:"",DepartamentoId:null,CiudadId:null,Telefono:"",Activo:!0},x.value=[])}),Me(y),(h,b)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":b[9]||(b[9]=r=>u.value=r),"max-width":S(i)?"100%":"600",fullscreen:S(i),transition:S(i)?"dialog-bottom-transition":"dialog-transition",persistent:""},{default:l(()=>[t(X,{class:U(["rounded-xl elevation-0",{"rounded-0":S(i)}])},{default:l(()=>[a("div",Ha,[a("div",qa,[a("div",Ka,[t(O,{color:"primary",size:"24"},{default:l(()=>[...b[10]||(b[10]=[I("mdi-domain",-1)])]),_:1})]),a("div",null,[a("h2",Wa,N(e.company?"Editar Empresa":"Registrar Empresa"),1),a("p",Za,N(e.company?"Actualizar información":"Nueva entidad"),1)])]),t(z,{icon:"mdi-close",variant:"text",color:"grey-darken-1",density:"comfortable",onClick:b[0]||(b[0]=r=>u.value=!1)})]),t(pe,{class:"mx-6 my-2"}),t(ie,{class:"px-6 py-2 scroll-container",style:ve(S(i)?"height: calc(100vh - 140px); overflow-y: auto;":"max-height: 60vh; overflow-y: auto;")},{default:l(()=>[t(De,{ref:"form",onSubmit:Ve(g,["prevent"])},{default:l(()=>[t(re,{dense:""},{default:l(()=>[t(B,{cols:"12",md:"6"},{default:l(()=>[b[11]||(b[11]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NIT / IDENTIFICACIÓN",-1)),t(de,{modelValue:c.value.NIT,"onUpdate:modelValue":b[1]||(b[1]=r=>c.value.NIT=r),placeholder:"Ej. 900.123.456-7",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-pound","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[r=>!!r||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[b[12]||(b[12]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"RAZÓN SOCIAL",-1)),t(de,{modelValue:c.value.RazonSocial,"onUpdate:modelValue":b[2]||(b[2]=r=>c.value.RazonSocial=r),placeholder:"Nombre de la empresa",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-office-building","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[r=>!!r||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(B,{cols:"12"},{default:l(()=>[b[13]||(b[13]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DIRECCIÓN PRINCIPAL",-1)),t(de,{modelValue:c.value.Direccion,"onUpdate:modelValue":b[3]||(b[3]=r=>c.value.Direccion=r),placeholder:"Calle, Carrera, Avenida...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[b[14]||(b[14]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DEPARTAMENTO",-1)),t(Ue,{modelValue:c.value.DepartamentoId,"onUpdate:modelValue":[b[4]||(b[4]=r=>c.value.DepartamentoId=r),v],items:V.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[b[15]||(b[15]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CIUDAD",-1)),t(Ue,{modelValue:c.value.CiudadId,"onUpdate:modelValue":b[5]||(b[5]=r=>c.value.CiudadId=r),items:x.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-radius-outline","bg-color":"grey-lighten-5",class:"rounded-lg",disabled:!c.value.DepartamentoId,"hide-details":"auto"},null,8,["modelValue","items","disabled"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[b[16]||(b[16]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"TELÉFONO DE CONTACTO",-1)),t(de,{modelValue:c.value.Telefono,"onUpdate:modelValue":b[6]||(b[6]=r=>c.value.Telefono=r),placeholder:"(+57) 300 000 0000",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-phone-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[b[17]||(b[17]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO DE LA EMPRESA",-1)),a("div",{class:U(["status-box d-flex align-center justify-space-between px-3 py-0 rounded-lg",c.value.Activo?"bg-blue-lighten-5":"bg-grey-lighten-4"])},[a("div",Ja,[t(O,{color:c.value.Activo?"primary":"grey",class:"mr-2",size:"16"},{default:l(()=>[I(N(c.value.Activo?"mdi-check-circle":"mdi-minus-circle"),1)]),_:1},8,["color"]),a("span",{class:U(["text-caption font-weight-medium",c.value.Activo?"text-primary":"text-grey-darken-1"])},N(c.value.Activo?"Empresa Activa":"Empresa Inactiva"),3)]),t(Ge,{modelValue:c.value.Activo,"onUpdate:modelValue":b[7]||(b[7]=r=>c.value.Activo=r),color:"primary","hide-details":"",density:"compact",inset:"",class:"scale-switch"},null,8,["modelValue"])],2)]),_:1})]),_:1})]),_:1},512)]),_:1},8,["style"]),t(Ce,{class:"px-6 pb-6 pt-4 bg-white"},{default:l(()=>[t(fe),t(z,{variant:"text",class:"text-capitalize text-grey-darken-1 mr-2",onClick:b[8]||(b[8]=r=>u.value=!1),density:"comfortable"},{default:l(()=>[...b[18]||(b[18]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"blue-grey-darken-4",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-content-save-outline",onClick:g,loading:$.value,elevation:"0",density:"comfortable"},{default:l(()=>[I(N(e.company?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","max-width","fullscreen","transition"]))}},Xa=Te(Qa,[["__scopeId","data-v-7000ea03"]]),Ya={key:0,class:"d-flex justify-center align-center py-12"},eo={key:1,class:"d-flex flex-column align-center justify-center py-12 text-center"},to={class:"d-flex justify-space-between align-start mb-2"},lo={class:"text-subtitle-1 font-weight-bold text-grey-darken-3 text-truncate"},ao={class:"text-caption text-grey-darken-1 mb-2 font-weight-medium"},oo={class:"text-caption text-grey mb-1 d-flex align-center"},no={class:"text-truncate"},so={class:"text-caption text-grey d-flex align-center"},io={__name:"CompanyList",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const{isMobileApp:n}=Ie(),o=P([]),i=P(!1),u=P(""),c=P("all"),V=P(!1),x=P(null);async function $(){i.value=!0;try{const g=await Q.get("/api/config/companies",{withCredentials:!0});o.value=g.data}catch(g){console.error(g)}finally{i.value=!1}}const y=j(()=>o.value.filter(g=>{if(g.EsCliente)return!1;const h=g.RazonSocial?.toLowerCase().includes(u.value.toLowerCase())||g.NIT?.includes(u.value),b=c.value==="all"?!0:c.value==="active"?g.Activo:!g.Activo;return h&&b}));function v(g){x.value=g,V.value=!0}return Me(()=>{$()}),(g,h)=>(D(),G(X,{class:U(["h-100","elevation-0","bg-grey-lighten-5",S(n)?"rounded-0":"rounded-xl"])},{default:l(()=>[a("div",{class:U([S(n)?"px-4 py-3":"px-6 py-4","d-flex justify-space-between align-center bg-white border-b"])},[a("div",null,[a("h2",{class:U([S(n)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3"])},"Mis Empresas",2),h[6]||(h[6]=a("p",{class:"text-caption text-grey"},"Gestiona el listado de empresas registradas.",-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:h[0]||(h[0]=b=>g.$emit("update:modelValue",!1))})],2),t(ie,{class:U([S(n)?"px-3 py-4":"px-4 py-6 px-md-8"])},{default:l(()=>[t(re,{class:"mb-4 align-center",dense:S(n)},{default:l(()=>[t(B,{cols:"12",md:"5"},{default:l(()=>[t(de,{modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=b=>u.value=b),"prepend-inner-icon":"mdi-magnify",label:"Buscar empresa",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"3"},{default:l(()=>[t(Re,{modelValue:c.value,"onUpdate:modelValue":h[2]||(h[2]=b=>c.value=b),items:[{title:"Todos",value:"all"},{title:"Activos",value:"active"},{title:"Inactivos",value:"inactive"}],label:"Estado",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),S(n)?ge("",!0):(D(),G(fe,{key:0})),t(B,{cols:"12",md:"auto"},{default:l(()=>[t(z,{color:"#1e293b",block:"",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:h[3]||(h[3]=b=>v(null))},{default:l(()=>[...h[7]||(h[7]=[I(" Nueva Empresa ",-1)])]),_:1})]),_:1})]),_:1},8,["dense"]),i.value?(D(),Z("div",Ya,[t(Yt,{indeterminate:"",color:"primary",size:"64"})])):y.value.length===0?(D(),Z("div",eo,[a("div",{class:"empty-state-icon mb-6",style:ve(S(n)?"width: 72px; height: 72px;":"")},[t(O,{size:S(n)?36:48,color:"primary"},{default:l(()=>[...h[8]||(h[8]=[I("mdi-briefcase-plus-outline",-1)])]),_:1},8,["size"]),a("div",{class:"plus-badge",style:ve(S(n)?"width: 24px; height: 24px;":"")},[t(O,{size:S(n)?14:16,color:"white"},{default:l(()=>[...h[9]||(h[9]=[I("mdi-plus",-1)])]),_:1},8,["size"])],4)],4),h[11]||(h[11]=a("h3",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron empresas",-1)),h[12]||(h[12]=a("p",{class:"text-body-2 text-grey mb-8",style:{"max-width":"400px"}}," Aún no has registrado ninguna empresa. ",-1)),t(z,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg px-6",height:"44","prepend-icon":"mdi-plus",onClick:h[4]||(h[4]=b=>v(null))},{default:l(()=>[...h[10]||(h[10]=[I(" Agregar empresa ",-1)])]),_:1})])):(D(),G(re,{key:2,dense:S(n)},{default:l(()=>[(D(!0),Z(se,null,ke(y.value,b=>(D(),G(B,{cols:"12",sm:"6",md:"4",lg:"3",key:b.Id},{default:l(()=>[t(X,{hover:"",onClick:r=>v(b),class:"company-card border-0 elevation-1 h-100 rounded-lg"},{default:l(()=>[a("div",{class:U(["card-status-strip",b.Activo?"bg-success":"bg-grey"])},null,2),t(ie,{class:U(S(n)?"pa-3":"pa-4")},{default:l(()=>[a("div",to,[a("div",lo,N(b.RazonSocial),1)]),a("div",ao," NIT: "+N(b.NIT),1),t(pe,{class:"mb-2 border-opacity-50"}),a("div",oo,[t(O,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:l(()=>[...h[13]||(h[13]=[I("mdi-map-marker",-1)])]),_:1}),a("span",no,N(b.Direccion||"Sin dirección"),1)]),a("div",so,[t(O,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:l(()=>[...h[14]||(h[14]=[I("mdi-phone",-1)])]),_:1}),I(" "+N(b.Telefono||"Sin teléfono"),1)])]),_:2},1032,["class"])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1},8,["dense"]))]),_:1},8,["class"]),t(Xa,{modelValue:V.value,"onUpdate:modelValue":h[5]||(h[5]=b=>V.value=b),company:x.value,onSaved:$},null,8,["modelValue","company"])]),_:1},8,["class"]))}},ro=Te(io,[["__scopeId","data-v-090f2a5f"]]),uo={class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},co={class:"d-flex align-center"},mo={class:"header-icon-box mr-3"},vo={class:"text-h6 font-weight-bold text-grey-darken-3",style:{"line-height":"1.2"}},fo={class:"text-caption text-grey mt-1"},go={class:"d-flex align-center"},po={__name:"SedeForm",props:{modelValue:Boolean,sede:Object,companies:Array},emits:["update:modelValue","save"],setup(e,{emit:d}){const n=e,o=d,{isMobileApp:i}=Ie(),u=j({get:()=>n.modelValue,set:s=>o("update:modelValue",s)}),c=P(null),V=P(!1),x=P([]),$=P([]),y=P(null),v=j(()=>n.companies.filter(s=>s.Activo&&!s.EsCliente)),g=P({EmpresaId:null,NombreSede:"",Direccion:"",Telefono:"",CiudadId:null,Activo:!0});async function h(){try{const s=await Q.get("/api/config/departments",{withCredentials:!0});x.value=s.data}catch(s){console.error(s)}}async function b(s){if(console.log("Cargando ciudades para depto:",s),!s){$.value=[];return}try{const C=await Q.get(`/api/config/cities/${s}`,{withCredentials:!0});$.value=C.data,console.log("Ciudades cargadas:",$.value.length)}catch(C){console.error(C)}}async function r(){console.log("Intentando guardar sede...",g.value);const{valid:s,errors:C}=await c.value.validate();if(console.log("Validación del formulario:",s,C),!s){console.warn("Formulario inválido, no se envía.");return}V.value=!0;try{const p=n.sede?`/api/config/sedes/${n.sede.Id}`:"/api/config/sedes",L=n.sede?"put":"post";console.log(`Enviando ${L.toUpperCase()} a ${p}`),await Q[L](p,g.value,{withCredentials:!0}),console.log("Guardado exitoso"),o("save"),u.value=!1}catch(p){console.error("Error en petición:",p),alert("Error al guardar: "+(p.response?.data?.message||p.message))}finally{V.value=!1}}return he(()=>n.sede,async s=>{s?(g.value={...s},y.value=null,$.value=[]):(g.value={EmpresaId:null,NombreSede:"",Direccion:"",Telefono:"",CiudadId:null,Activo:!0},y.value=null,$.value=[])}),Me(()=>{h()}),(s,C)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":C[9]||(C[9]=p=>u.value=p),"max-width":S(i)?"100%":"600",fullscreen:S(i),transition:S(i)?"dialog-bottom-transition":"dialog-transition",persistent:""},{default:l(()=>[t(X,{class:U(["rounded-xl elevation-0",{"rounded-0":S(i)}])},{default:l(()=>[a("div",uo,[a("div",co,[a("div",mo,[t(O,{color:"primary",size:"24"},{default:l(()=>[...C[10]||(C[10]=[I("mdi-map-marker",-1)])]),_:1})]),a("div",null,[a("h2",vo,N(e.sede?"Editar Sede":"Registrar Sede"),1),a("p",fo,N(e.sede?"Actualizar información":"Nueva sede operativa"),1)])]),t(z,{icon:"mdi-close",variant:"text",color:"grey-darken-1",density:"comfortable",onClick:C[0]||(C[0]=p=>u.value=!1)})]),t(pe,{class:"mx-6 my-2"}),t(ie,{class:"px-6 py-2 scroll-container",style:ve(S(i)?"height: calc(100vh - 140px); overflow-y: auto;":"max-height: 60vh; overflow-y: auto;")},{default:l(()=>[t(De,{ref_key:"form",ref:c,onSubmit:Ve(r,["prevent"])},{default:l(()=>[t(re,{dense:""},{default:l(()=>[t(B,{cols:"12"},{default:l(()=>[C[11]||(C[11]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"EMPRESA ASOCIADA",-1)),t(Ue,{modelValue:g.value.EmpresaId,"onUpdate:modelValue":C[1]||(C[1]=p=>g.value.EmpresaId=p),items:v.value,"item-title":"RazonSocial","item-value":"Id",placeholder:"Seleccionar empresa...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-domain","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[p=>!!p||"Requerido"],"hide-details":"auto"},null,8,["modelValue","items","rules"])]),_:1}),t(B,{cols:"12"},{default:l(()=>[C[12]||(C[12]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NOMBRE DE LA SEDE",-1)),t(de,{modelValue:g.value.NombreSede,"onUpdate:modelValue":C[2]||(C[2]=p=>g.value.NombreSede=p),placeholder:"Ej. Sede Principal, Oficina Norte...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-store-marker-outline","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[p=>!!p||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[C[13]||(C[13]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DEPARTAMENTO",-1)),t(Ue,{modelValue:y.value,"onUpdate:modelValue":[C[3]||(C[3]=p=>y.value=p),b],items:x.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[C[14]||(C[14]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CIUDAD",-1)),t(Ue,{modelValue:g.value.CiudadId,"onUpdate:modelValue":C[4]||(C[4]=p=>g.value.CiudadId=p),items:$.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-radius-outline","bg-color":"grey-lighten-5",class:"rounded-lg",disabled:!y.value,rules:[p=>!!p||"Requerido"],"hide-details":"auto"},null,8,["modelValue","items","disabled","rules"])]),_:1}),t(B,{cols:"12"},{default:l(()=>[C[15]||(C[15]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DIRECCIÓN FÍSICA",-1)),t(de,{modelValue:g.value.Direccion,"onUpdate:modelValue":C[5]||(C[5]=p=>g.value.Direccion=p),placeholder:"Calle, Carrera, Avenida...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[C[16]||(C[16]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"TELÉFONO DE CONTACTO",-1)),t(de,{modelValue:g.value.Telefono,"onUpdate:modelValue":C[6]||(C[6]=p=>g.value.Telefono=p),placeholder:"(+57) 601 000 0000",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-phone-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[C[17]||(C[17]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO DE LA SEDE",-1)),a("div",{class:U(["status-box d-flex align-center justify-space-between px-3 py-0 rounded-lg",g.value.Activo?"bg-blue-lighten-5":"bg-grey-lighten-4"])},[a("div",go,[t(O,{color:g.value.Activo?"primary":"grey",class:"mr-2",size:"16"},{default:l(()=>[I(N(g.value.Activo?"mdi-check-circle":"mdi-minus-circle"),1)]),_:1},8,["color"]),a("span",{class:U(["text-caption font-weight-medium",g.value.Activo?"text-primary":"text-grey-darken-1"])},N(g.value.Activo?"Sede Activa":"Sede Inactiva"),3)]),t(Ge,{modelValue:g.value.Activo,"onUpdate:modelValue":C[7]||(C[7]=p=>g.value.Activo=p),color:"primary","hide-details":"",density:"compact",inset:"",class:"scale-switch"},null,8,["modelValue"])],2)]),_:1})]),_:1})]),_:1},512)]),_:1},8,["style"]),t(Ce,{class:"px-6 pb-6 pt-4 bg-white"},{default:l(()=>[t(fe),t(z,{variant:"text",class:"text-capitalize text-grey-darken-1 mr-2",onClick:C[8]||(C[8]=p=>u.value=!1),density:"comfortable"},{default:l(()=>[...C[18]||(C[18]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"blue-grey-darken-4",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-content-save-outline",onClick:r,loading:V.value,elevation:"0",density:"comfortable"},{default:l(()=>[I(N(e.sede?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","max-width","fullscreen","transition"]))}},bo=Te(po,[["__scopeId","data-v-4721e4d5"]]),yo={key:0,class:"d-flex justify-center align-center py-12"},xo={key:1,class:"d-flex flex-column align-center justify-center py-12 text-center"},ho={class:"d-flex justify-space-between align-start mb-2"},wo={class:"text-subtitle-1 font-weight-bold text-grey-darken-3 text-truncate"},ko={class:"text-caption text-grey-darken-1 mb-2 font-weight-medium d-flex align-center"},Vo={class:"text-truncate"},Co={class:"text-caption text-grey mb-1 d-flex align-center"},Io={class:"text-truncate"},So={class:"text-caption text-grey d-flex align-center"},Ao={__name:"SedeList",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const{isMobileApp:n}=Ie(),o=P([]),i=P([]),u=P(""),c=P(!1),V=P(null),x=P(!1),$=j(()=>{if(!u.value)return o.value.filter(s=>{const C=i.value.find(p=>p.Id===s.EmpresaId);return C&&!C.EsCliente});const r=u.value.toLowerCase();return o.value.filter(s=>{const C=i.value.find(p=>p.Id===s.EmpresaId);return C&&C.EsCliente?!1:s.NombreSede.toLowerCase().includes(r)||s.Direccion&&s.Direccion.toLowerCase().includes(r)})});function y(r){const s=i.value.find(C=>C.Id===r);return s?s.RazonSocial:"Desconocida"}async function v(){x.value=!0;try{const[r,s]=await Promise.all([Q.get("/api/config/sedes",{withCredentials:!0}),Q.get("/api/config/companies",{withCredentials:!0})]);o.value=r.data,i.value=s.data}catch(r){console.error("Error cargando datos:",r)}finally{x.value=!1}}function g(){V.value=null,c.value=!0}function h(r){V.value={...r},c.value=!0}async function b(){await v(),c.value=!1}return Me(()=>{v()}),(r,s)=>(D(),G(X,{class:U(["h-100","elevation-0","bg-grey-lighten-5",S(n)?"rounded-0":"rounded-xl"])},{default:l(()=>[a("div",{class:U([S(n)?"px-4 py-3":"px-6 py-4","d-flex justify-space-between align-center bg-white border-b"])},[a("div",null,[a("h2",{class:U([S(n)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3"])},"Mis Sedes",2),s[3]||(s[3]=a("p",{class:"text-caption text-grey"},"Gestiona las sedes y oficinas operativas.",-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:s[0]||(s[0]=C=>r.$emit("update:modelValue",!1))})],2),t(ie,{class:U([S(n)?"px-3 py-4":"px-4 py-6 px-md-8"])},{default:l(()=>[t(re,{class:"mb-4 align-center",dense:S(n)},{default:l(()=>[t(B,{cols:"12",md:"5"},{default:l(()=>[t(de,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=C=>u.value=C),"prepend-inner-icon":"mdi-magnify",label:"Buscar sede",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),S(n)?ge("",!0):(D(),G(fe,{key:0})),t(B,{cols:"12",md:"auto"},{default:l(()=>[t(z,{color:"#1e293b",block:"",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:g},{default:l(()=>[...s[4]||(s[4]=[I(" Nueva Sede ",-1)])]),_:1})]),_:1})]),_:1},8,["dense"]),x.value?(D(),Z("div",yo,[t(Yt,{indeterminate:"",color:"primary",size:"64"})])):$.value.length===0?(D(),Z("div",xo,[a("div",{class:"empty-state-icon mb-6",style:ve(S(n)?"width: 72px; height: 72px;":"")},[t(O,{size:S(n)?36:48,color:"primary"},{default:l(()=>[...s[5]||(s[5]=[I("mdi-map-marker-off",-1)])]),_:1},8,["size"]),a("div",{class:"plus-badge",style:ve(S(n)?"width: 24px; height: 24px;":"")},[t(O,{size:S(n)?14:16,color:"white"},{default:l(()=>[...s[6]||(s[6]=[I("mdi-plus",-1)])]),_:1},8,["size"])],4)],4),s[8]||(s[8]=a("h3",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron sedes",-1)),s[9]||(s[9]=a("p",{class:"text-body-2 text-grey mb-8",style:{"max-width":"400px"}}," No hay sedes registradas que coincidan con tu búsqueda. ",-1)),t(z,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg px-6",height:"44","prepend-icon":"mdi-plus",onClick:g},{default:l(()=>[...s[7]||(s[7]=[I(" Agregar sede ",-1)])]),_:1})])):(D(),G(re,{key:2,dense:S(n)},{default:l(()=>[(D(!0),Z(se,null,ke($.value,C=>(D(),G(B,{cols:"12",sm:"6",md:"4",lg:"3",key:C.Id},{default:l(()=>[t(X,{hover:"",onClick:p=>h(C),class:"company-card border-0 elevation-1 h-100 rounded-lg"},{default:l(()=>[a("div",{class:U(["card-status-strip",C.Activo?"bg-success":"bg-grey"])},null,2),t(ie,{class:U(S(n)?"pa-3":"pa-4")},{default:l(()=>[a("div",ho,[a("div",wo,N(C.NombreSede),1)]),a("div",ko,[t(O,{size:"small",start:"",class:"mr-1"},{default:l(()=>[...s[10]||(s[10]=[I("mdi-domain",-1)])]),_:1}),a("span",Vo,N(y(C.EmpresaId)),1)]),t(pe,{class:"mb-2 border-opacity-50"}),a("div",Co,[t(O,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:l(()=>[...s[11]||(s[11]=[I("mdi-map-marker",-1)])]),_:1}),a("span",Io,N(C.Direccion||"Sin dirección"),1)]),a("div",So,[t(O,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:l(()=>[...s[12]||(s[12]=[I("mdi-phone",-1)])]),_:1}),I(" "+N(C.Telefono||"Sin teléfono"),1)])]),_:2},1032,["class"])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1},8,["dense"]))]),_:1},8,["class"]),t(bo,{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=C=>c.value=C),sede:V.value,companies:i.value,onSave:b},null,8,["modelValue","sede","companies"])]),_:1},8,["class"]))}},$o=Te(Ao,[["__scopeId","data-v-33aad79a"]]),_o={class:"text-h6 font-weight-bold text-grey-darken-3"},Po={key:0},To={__name:"AreaForm",props:{modelValue:Boolean,area:{type:Object,default:()=>({})}},emits:["update:modelValue","save"],setup(e,{emit:d}){const n=e,o=d,{isMobileApp:i}=Ie(),u=j({get:()=>n.modelValue,set:y=>o("update:modelValue",y)}),c=P(null),V=P(!1),x=P({Nombre:"",Activo:!0});he(()=>n.area,y=>{y&&y.Id?x.value={...y}:x.value={Nombre:"",Activo:!0}},{immediate:!0});async function $(){const{valid:y}=await c.value.validate();if(y){V.value=!0;try{const v="/api/config/catalogs/areas";n.area.Id?await Q.put(`${v}/${n.area.Id}`,x.value,{withCredentials:!0}):await Q.post(v,{Nombre:x.value.Nombre},{withCredentials:!0}),o("save"),u.value=!1}catch(v){console.error(v),alert("Error al guardar: "+(v.response?.data?.message||v.message))}finally{V.value=!1}}}return(y,v)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":v[4]||(v[4]=g=>u.value=g),"max-width":S(i)?"100%":"500",fullscreen:S(i),transition:S(i)?"dialog-bottom-transition":"dialog-transition",persistent:""},{default:l(()=>[t(X,{class:U(["rounded-xl",{"rounded-0":S(i)}])},{default:l(()=>[t($e,{class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},{default:l(()=>[a("span",_o,N(e.area.Id?"Editar Área":"Nueva Área"),1),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:v[0]||(v[0]=g=>u.value=!1)})]),_:1}),t(pe,{class:"mx-6"}),t(ie,{class:"px-6 py-4"},{default:l(()=>[t(De,{ref_key:"form",ref:c,onSubmit:Ve($,["prevent"])},{default:l(()=>[v[6]||(v[6]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NOMBRE DEL ÁREA",-1)),t(de,{modelValue:x.value.Nombre,"onUpdate:modelValue":v[1]||(v[1]=g=>x.value.Nombre=g),placeholder:"Ej. Recursos Humanos",variant:"outlined",density:"compact","bg-color":"grey-lighten-5",class:"rounded-lg mb-4",rules:[g=>!!g||"El nombre es requerido"],"hide-details":"auto",autofocus:""},null,8,["modelValue","rules"]),e.area.Id?(D(),Z("div",Po,[v[5]||(v[5]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO",-1)),t(Ge,{modelValue:x.value.Activo,"onUpdate:modelValue":v[2]||(v[2]=g=>x.value.Activo=g),color:"primary",label:x.value.Activo?"Activo":"Inactivo","hide-details":"",inset:""},null,8,["modelValue","label"])])):ge("",!0)]),_:1},512)]),_:1}),t(Ce,{class:"px-6 pb-6 pt-2"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"grey-darken-1",class:"text-capitalize",onClick:v[3]||(v[3]=g=>u.value=!1)},{default:l(()=>[...v[7]||(v[7]=[I("Cancelar",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",onClick:$,loading:V.value},{default:l(()=>[I(N(e.area.Id?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","max-width","fullscreen","transition"]))}};function Do(){const e=P([]);Jl(()=>e.value=[]);function d(n,o){e.value[o]=n}return{refs:e,updateRef:d}}const No=ye({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Se,default:"$first"},prevIcon:{type:Se,default:"$prev"},nextIcon:{type:Se,default:"$next"},lastIcon:{type:Se,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...sl(),...jt(),...dt(),...nl(),...el(),...ea(),...Lt({tag:"nav"}),...Ot(),...Yl({variant:"text"})},"VPagination"),Ut=Ne()({name:"VPagination",props:No(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,d){let{slots:n,emit:o}=d;const i=je(e,"modelValue"),{t:u,n:c}=Xe(),{isRtl:V}=Ql(),{themeClasses:x}=Mt(e),{width:$}=Ct(),y=Be(-1);bt(void 0,{scoped:!0});const{resizeRef:v}=Xl(w=>{if(!w.length)return;const{target:A,contentRect:m}=w[0],f=A.querySelector(".v-pagination__list > *");if(!f)return;const T=m.width,ae=f.offsetWidth+parseFloat(getComputedStyle(f).marginRight)*2;y.value=r(T,ae)}),g=j(()=>parseInt(e.length,10)),h=j(()=>parseInt(e.start,10)),b=j(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):y.value>=0?y.value:r($.value,58));function r(w,A){const m=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((w-A*m)/A).toFixed(2))))}const s=j(()=>{if(g.value<=0||isNaN(g.value)||g.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=0)return[];if(b.value===1)return[i.value];if(g.value<=b.value)return mt(g.value,h.value);const w=b.value%2===0,A=w?b.value/2:Math.floor(b.value/2),m=w?A:A+1,f=g.value-A;if(m-i.value>=0)return[...mt(Math.max(1,b.value-1),h.value),e.ellipsis,g.value];if(i.value-f>=(w?1:0)){const T=b.value-1,ae=g.value-T+h.value;return[h.value,e.ellipsis,...mt(T,ae)]}else{const T=Math.max(1,b.value-2),ae=T===1?i.value:i.value-Math.ceil(T/2)+h.value;return[h.value,e.ellipsis,...mt(T,ae),e.ellipsis,g.value]}});function C(w,A,m){w.preventDefault(),i.value=A,m&&o(m,A)}const{refs:p,updateRef:L}=Do();bt({VPaginationBtn:{color:ne(()=>e.color),border:ne(()=>e.border),density:ne(()=>e.density),size:ne(()=>e.size),variant:ne(()=>e.variant),rounded:ne(()=>e.rounded),elevation:ne(()=>e.elevation)}});const K=j(()=>s.value.map((w,A)=>{const m=f=>L(f,A);if(typeof w=="string")return{isActive:!1,key:`ellipsis-${A}`,page:w,props:{ref:m,ellipsis:!0,icon:!0,disabled:!0}};{const f=w===i.value;return{isActive:f,key:w,page:c(w),props:{ref:m,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:f?e.activeColor:e.color,"aria-current":f,"aria-label":u(f?e.currentPageAriaLabel:e.pageAriaLabel,w),onClick:T=>C(T,w)}}}})),R=j(()=>{const w=!!e.disabled||i.value<=h.value,A=!!e.disabled||i.value>=h.value+g.value-1;return{first:e.showFirstLastPage?{icon:V.value?e.lastIcon:e.firstIcon,onClick:m=>C(m,h.value,"first"),disabled:w,"aria-label":u(e.firstAriaLabel),"aria-disabled":w}:void 0,prev:{icon:V.value?e.nextIcon:e.prevIcon,onClick:m=>C(m,i.value-1,"prev"),disabled:w,"aria-label":u(e.previousAriaLabel),"aria-disabled":w},next:{icon:V.value?e.prevIcon:e.nextIcon,onClick:m=>C(m,i.value+1,"next"),disabled:A,"aria-label":u(e.nextAriaLabel),"aria-disabled":A},last:e.showFirstLastPage?{icon:V.value?e.firstIcon:e.lastIcon,onClick:m=>C(m,h.value+g.value-1,"last"),disabled:A,"aria-label":u(e.lastAriaLabel),"aria-disabled":A}:void 0}});function W(){const w=i.value-h.value;p.value[w]?.$el.focus()}function H(w){w.key===Zt.left&&!e.disabled&&i.value>Number(e.start)?(i.value=i.value-1,We(W)):w.key===Zt.right&&!e.disabled&&i.value<h.value+g.value-1&&(i.value=i.value+1,We(W))}return Oe(()=>t(e.tag,{ref:v,class:U(["v-pagination",x.value,e.class]),style:ve(e.style),role:"navigation","aria-label":u(e.ariaLabel),onKeydown:H,"data-test":"v-pagination-root"},{default:()=>[a("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&a("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(R.value.first):t(z,oe({_as:"VPaginationBtn"},R.value.first),null)]),a("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(R.value.prev):t(z,oe({_as:"VPaginationBtn"},R.value.prev),null)]),K.value.map((w,A)=>a("li",{key:w.key,class:U(["v-pagination__item",{"v-pagination__item--is-active":w.isActive}]),"data-test":"v-pagination-item"},[n.item?n.item(w):t(z,oe({_as:"VPaginationBtn"},w.props),{default:()=>[w.page]})])),a("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(R.value.next):t(z,oe({_as:"VPaginationBtn"},R.value.next),null)]),e.showFirstLastPage&&a("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(R.value.last):t(z,oe({_as:"VPaginationBtn"},R.value.last),null)])])]})),{}}}),dl=ye({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),ul=Symbol.for("vuetify:data-table-pagination");function cl(e){const d=je(e,"page",void 0,o=>Number(o??1)),n=je(e,"itemsPerPage",void 0,o=>Number(o??10));return{page:d,itemsPerPage:n}}function ml(e){const{page:d,itemsPerPage:n,itemsLength:o}=e,i=j(()=>n.value===-1?0:n.value*(d.value-1)),u=j(()=>n.value===-1?o.value:Math.min(o.value,i.value+n.value)),c=j(()=>n.value===-1||o.value===0?1:Math.ceil(o.value/n.value));he([d,c],()=>{d.value>c.value&&(d.value=c.value)});function V(g){n.value=g,d.value=1}function x(){d.value=Dt(d.value+1,1,c.value)}function $(){d.value=Dt(d.value-1,1,c.value)}function y(g){d.value=Dt(g,1,c.value)}const v={page:d,itemsPerPage:n,startIndex:i,stopIndex:u,pageCount:c,itemsLength:o,nextPage:x,prevPage:$,setPage:y,setItemsPerPage:V};return Je(ul,v),v}function Eo(){const e=Ye(ul);if(!e)throw new Error("Missing pagination!");return e}function zo(e){const d=tl("usePaginatedItems"),{items:n,startIndex:o,stopIndex:i,itemsPerPage:u}=e,c=j(()=>u.value<=0?n.value:n.value.slice(o.value,i.value));return he(c,V=>{d.emit("update:currentItems",V)},{immediate:!0}),{paginatedItems:c}}const Ht=ye({color:String,prevIcon:{type:Se,default:"$prev"},nextIcon:{type:Se,default:"$next"},firstIcon:{type:Se,default:"$first"},lastIcon:{type:Se,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ht=Ne()({name:"VDataTableFooter",props:Ht(),setup(e,d){let{slots:n}=d;const{t:o}=Xe(),{page:i,pageCount:u,startIndex:c,stopIndex:V,itemsLength:x,itemsPerPage:$,setItemsPerPage:y}=Eo(),v=j(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?o("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?o(g.title):g.title}));return Oe(()=>{const g=Ut.filterProps(e);return a("div",{class:"v-data-table-footer"},[n.prepend?.(),a("div",{class:"v-data-table-footer__items-per-page"},[a("span",{"aria-label":o(e.itemsPerPageText)},[o(e.itemsPerPageText)]),t(Re,{items:v.value,itemColor:e.color,modelValue:$.value,"onUpdate:modelValue":h=>y(Number(h)),density:"compact",variant:"outlined",hideDetails:!0},null)]),a("div",{class:"v-data-table-footer__info"},[a("div",null,[o(e.pageText,x.value?c.value+1:0,V.value,x.value)])]),a("div",{class:"v-data-table-footer__pagination"},[t(Ut,oe({modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:u.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},rt(g,["color"])),null)])])}),{}}}),it=ta({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,d)=>{let{slots:n}=d;const o=e.tag??"td",i=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return t(o,{class:U(["v-data-table__td",{"v-data-table-column--fixed":i==="start","v-data-table-column--fixed-end":i==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:Pe(e.height),width:Pe(e.width),maxWidth:Pe(e.maxWidth),left:i==="start"?Pe(e.fixedOffset||null):void 0,right:i==="end"?Pe(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?Pe(e.indent):void 0}},{default:()=>[n.default?.()]})}),Fo=ye({headers:Array},"DataTable-header"),vl=Symbol.for("vuetify:data-table-headers"),fl={title:"",sortable:!1},Uo={...fl,width:48};function Ro(){const d=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,o)=>{let i=!1;for(let u=0;u<d.length;u++)if(d[u].priority>o){d.splice(u,0,{element:n,priority:o}),i=!0;break}i||d.push({element:n,priority:o})},size:()=>d.length,count:()=>{let n=0;if(!d.length)return 0;const o=Math.floor(d[0].priority);for(let i=0;i<d.length;i++)Math.floor(d[i].priority)===o&&(n+=1);return n},dequeue:()=>d.shift()}}function Rt(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)d.push(e);else for(const n of e.children)Rt(n,d);return d}function gl(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&d.add(n.key),n.children&&gl(n.children,d);return d}function Mo(e){if(e.key){if(e.key==="data-table-group")return fl;if(["data-table-expand","data-table-select"].includes(e.key))return Uo}}function qt(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(d,...e.children.map(n=>qt(n,d+1))):d}function Oo(e){let d=!1;function n(u,c){let V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(u)if(V!=="none"&&(u.fixed=V),u.fixed===!0&&(u.fixed="start"),u.fixed===c)if(u.children)if(c==="start")for(let x=u.children.length-1;x>=0;x--)n(u.children[x],c,c);else for(let x=0;x<u.children.length;x++)n(u.children[x],c,c);else!d&&c==="start"?u.lastFixed=!0:!d&&c==="end"?u.firstFixedEnd=!0:isNaN(Number(u.width))?oa(`Multiple fixed columns should have a static width (key: ${u.key})`):u.minWidth=Math.max(Number(u.width)||0,Number(u.minWidth)||0),d=!0;else if(u.children)if(c==="start")for(let x=u.children.length-1;x>=0;x--)n(u.children[x],c);else for(let x=0;x<u.children.length;x++)n(u.children[x],c);else d=!1}for(let u=e.length-1;u>=0;u--)n(e[u],"start");for(let u=0;u<e.length;u++)n(e[u],"end");let o=0;for(let u=0;u<e.length;u++)o=pl(e[u],o);let i=0;for(let u=e.length-1;u>=0;u--)i=bl(e[u],i)}function pl(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return d;if(e.children){e.fixedOffset=d;for(const n of e.children)d=pl(n,d)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=d,d+=parseFloat(e.width||"0")||0);return d}function bl(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return d;if(e.children){e.fixedEndOffset=d;for(const n of e.children)d=bl(n,d)}else e.fixed==="end"&&(e.fixedEndOffset=d,d+=parseFloat(e.width||"0")||0);return d}function Lo(e,d){const n=[];let o=0;const i=Ro(e);for(;i.size()>0;){let c=i.count();const V=[];let x=1;for(;c>0;){const{element:$,priority:y}=i.dequeue(),v=d-o-qt($);if(V.push({...$,rowspan:v??1,colspan:$.children?Rt($).length:1}),$.children)for(const g of $.children){const h=y%1+x/Math.pow(10,o+2);i.enqueue(g,o+v+h)}x+=1,c-=1}o+=1,n.push(V)}return{columns:e.map(c=>Rt(c)).flat(),headers:n}}function yl(e){const d=[];for(const n of e){const o={...Mo(n),...n},i=o.key??(typeof o.value=="string"?o.value:null),u=o.value??i??null,c={...o,key:i,value:u,sortable:o.sortable??(o.key!=null||!!o.sort),children:o.children?yl(o.children):void 0};d.push(c)}return d}function xl(e,d){const n=P([]),o=P([]),i=P({}),u=P({}),c=P({});la(()=>{const $=(e.headers||Object.keys(e.items[0]??{}).map(r=>({key:r,title:aa(r)}))).slice(),y=gl($);d?.groupBy?.value.length&&!y.has("data-table-group")&&$.unshift({key:"data-table-group",title:"Group"}),d?.showSelect?.value&&!y.has("data-table-select")&&$.unshift({key:"data-table-select"}),d?.showExpand?.value&&!y.has("data-table-expand")&&$.push({key:"data-table-expand"});const v=yl($);Oo(v);const g=Math.max(...v.map(r=>qt(r)))+1,h=Lo(v,g);n.value=h.headers,o.value=h.columns;const b=h.headers.flat(1);for(const r of b)r.key&&(r.sortable&&(r.sort&&(i.value[r.key]=r.sort),r.sortRaw&&(u.value[r.key]=r.sortRaw)),r.filter&&(c.value[r.key]=r.filter))});const V={headers:n,columns:o,sortFunctions:i,sortRawFunctions:u,filterFunctions:c};return Je(vl,V),V}function It(){const e=Ye(vl);if(!e)throw new Error("Missing headers!");return e}const jo={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:d,value:n}=e;return new Set(n?[d[0]?.value]:[])},selectAll:e=>{let{selected:d}=e;return d}},hl={showSelectAll:!0,allSelected:e=>{let{currentPage:d}=e;return d},select:e=>{let{items:d,value:n,selected:o}=e;for(const i of d)n?o.add(i.value):o.delete(i.value);return o},selectAll:e=>{let{value:d,currentPage:n,selected:o}=e;return hl.select({items:n,value:d,selected:o})}},Bo={showSelectAll:!0,allSelected:e=>{let{allItems:d}=e;return d},select:e=>{let{items:d,value:n,selected:o}=e;for(const i of d)n?o.add(i.value):o.delete(i.value);return o},selectAll:e=>{let{value:d,allItems:n}=e;return new Set(d?n.map(o=>o.value):[])}},Go=ye({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:Function},"DataTable-select"),wl=Symbol.for("vuetify:data-table-selection");function kl(e,d){let{allItems:n,currentPage:o}=d;const i=je(e,"modelValue",e.modelValue,p=>{const L=e.valueComparator;return L?new Set(nt(p).map(K=>n.value.find(R=>L(K,R.value))?.value??K)):new Set(nt(p).map(K=>na(K)?n.value.find(R=>K===R.value)?.value??K:n.value.find(R=>yt(K,R.value))?.value??K))},p=>[...p.values()]),u=j(()=>n.value.filter(p=>p.selectable)),c=j(()=>o.value.filter(p=>p.selectable)),V=j(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return jo;case"all":return Bo;case"page":default:return hl}}),x=Be(null);function $(p){return nt(p).every(L=>i.value.has(L.value))}function y(p){return nt(p).some(L=>i.value.has(L.value))}function v(p,L){const K=V.value.select({items:p,value:L,selected:new Set(i.value)});i.value=K}function g(p,L,K){const R=[];if(L=L??o.value.findIndex(W=>W.value===p.value),e.selectStrategy!=="single"&&K?.shiftKey&&x.value!==null){const[W,H]=[x.value,L].sort((w,A)=>w-A);R.push(...o.value.slice(W,H+1).filter(w=>w.selectable))}else R.push(p),x.value=L;v(R,!$([p]))}function h(p){const L=V.value.selectAll({value:p,allItems:u.value,currentPage:c.value,selected:new Set(i.value)});i.value=L}const b=j(()=>i.value.size>0),r=j(()=>{const p=V.value.allSelected({allItems:u.value,currentPage:c.value});return!!p.length&&$(p)}),s=ne(()=>V.value.showSelectAll),C={toggleSelect:g,select:v,selectAll:h,isSelected:$,isSomeSelected:y,someSelected:b,allSelected:r,showSelectAll:s,lastSelectedIndex:x,selectStrategy:V};return Je(wl,C),C}function St(){const e=Ye(wl);if(!e)throw new Error("Missing selection!");return e}const Ho=ye({initialSortOrder:{type:String,default:"asc",validator:e=>!e||["asc","desc"].includes(e)},sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:{type:[Boolean,Object],default:!1},mustSort:Boolean},"DataTable-sort"),Vl=Symbol.for("vuetify:data-table-sort");function Cl(e){const d=ne(()=>e.initialSortOrder),n=je(e,"sortBy"),o=ne(()=>e.mustSort),i=ne(()=>e.multiSort);return{initialSortOrder:d,sortBy:n,multiSort:i,mustSort:o}}function qo(e,d){if(!Bt(e))return{active:!!e};const{key:n,mode:o,modifier:i}=e,u=i==="alt"&&d?.altKey||i==="shift"&&d?.shiftKey;return{active:!n||d?.ctrlKey||d?.metaKey||!1,mode:u?o==="append"?"prepend":"append":o}}function Il(e){const{initialSortOrder:d,sortBy:n,mustSort:o,multiSort:i,page:u}=e,c=($,y)=>{if($.key==null)return;let v=n.value.map(r=>({...r}))??[];const g=v.find(r=>r.key===$.key),h=d.value,b=d.value==="desc"?"asc":"desc";if(g)g.order===b?o.value&&v.length===1?g.order=d.value:v=v.filter(r=>r.key!==$.key):g.order=b;else{const{active:r,mode:s}=qo(i.value,y);r?s==="prepend"?v.unshift({key:$.key,order:h}):v.push({key:$.key,order:h}):v=[{key:$.key,order:h}]}n.value=v,u&&(u.value=1)};function V($){return!!n.value.find(y=>y.key===$.key)}const x={sortBy:n,toggleSort:c,isSorted:V};return Je(Vl,x),x}function Sl(){const e=Ye(Vl);if(!e)throw new Error("Missing sort!");return e}function Ko(e,d,n,o){const i=Xe();return{sortedItems:j(()=>n.value.length?Wo(d.value,n.value,i.current.value,{transform:o?.transform,sortFunctions:{...e.customKeySort,...o?.sortFunctions?.value},sortRawFunctions:o?.sortRawFunctions?.value}):d.value)}}function Wo(e,d,n,o){const i=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(c=>[c,o?.transform?o.transform(c):c]).sort((c,V)=>{for(let x=0;x<d.length;x++){let $=!1;const y=d[x].key,v=d[x].order??"asc";if(v===!1)continue;let g=xt(c[1],y),h=xt(V[1],y),b=c[0].raw,r=V[0].raw;if(v==="desc"&&([g,h]=[h,g],[b,r]=[r,b]),o?.sortRawFunctions?.[y]){const s=o.sortRawFunctions[y](b,r);if(s==null)continue;if($=!0,s)return s}if(o?.sortFunctions?.[y]){const s=o.sortFunctions[y](g,h);if(s==null)continue;if($=!0,s)return s}if(!$&&(g instanceof Date&&h instanceof Date&&(g=g.getTime(),h=h.getTime()),[g,h]=[g,h].map(s=>s!=null?s.toString().toLocaleLowerCase():s),g!==h))return vt(g)&&vt(h)?0:vt(g)?-1:vt(h)?1:!isNaN(g)&&!isNaN(h)?Number(g)-Number(h):i.compare(g,h)}return 0}).map(c=>{let[V]=c;return V})}const Al=ye({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:Se,default:"$sortAsc"},sortDescIcon:{type:Se,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...dt(),...Gt(),...$a()},"VDataTableHeaders"),wt=Ne()({name:"VDataTableHeaders",props:Al(),setup(e,d){let{slots:n}=d;const{t:o}=Xe(),{toggleSort:i,sortBy:u,isSorted:c}=Sl(),{someSelected:V,allSelected:x,selectAll:$,showSelectAll:y}=St(),{columns:v,headers:g}=It(),{loaderClasses:h}=Sa(e);function b(A,m){if(!(e.sticky||e.fixedHeader)&&!A.fixed)return;const f=typeof A.fixed=="string"?A.fixed:A.fixed?"start":"none";return{position:"sticky",left:f==="start"?Pe(A.fixedOffset):void 0,right:f==="end"?Pe(A.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${m})`:void 0}}function r(A,m){A.key==="Enter"&&!e.disableSort&&i(m,A)}function s(A){const m=u.value.find(f=>f.key===A.key);return m?m.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:C,backgroundColorStyles:p}=ll(()=>e.color),{displayClasses:L,mobile:K}=Ct(e),R=j(()=>({headers:g.value,columns:v.value,toggleSort:i,isSorted:c,sortBy:u.value,someSelected:V.value,allSelected:x.value,selectAll:$,getSortIcon:s})),W=j(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},L.value,h.value]),H=A=>{let{column:m,x:f,y:T}=A;const ae=m.key==="data-table-select"||m.key==="data-table-expand",q=m.key==="data-table-group"&&m.width===0&&!m.title,k=oe(e.headerProps??{},m.headerProps??{});return t(it,oe({tag:"th",align:m.align,class:[{"v-data-table__th--sortable":m.sortable&&!e.disableSort,"v-data-table__th--sorted":c(m),"v-data-table__th--fixed":m.fixed},...W.value],style:{width:Pe(m.width),minWidth:Pe(m.minWidth),maxWidth:Pe(m.maxWidth),...b(m,T)},colspan:m.colspan,rowspan:m.rowspan,fixed:m.fixed,nowrap:m.nowrap,lastFixed:m.lastFixed,firstFixedEnd:m.firstFixedEnd,noPadding:ae,empty:q,tabindex:m.sortable?0:void 0,onClick:m.sortable?F=>i(m,F):void 0,onKeydown:m.sortable?F=>r(F,m):void 0},k),{default:()=>{const F=`header.${m.key}`,ee={column:m,selectAll:$,isSorted:c,toggleSort:i,sortBy:u.value,someSelected:V.value,allSelected:x.value,getSortIcon:s};return n[F]?n[F](ee):q?"":m.key==="data-table-select"?n["header.data-table-select"]?.(ee)??(y.value&&t(st,{color:e.color,density:e.density,modelValue:x.value,indeterminate:V.value&&!x.value,"onUpdate:modelValue":$},null)):a("div",{class:"v-data-table-header__content"},[a("span",null,[m.title]),m.sortable&&!e.disableSort&&t(O,{key:"icon",class:"v-data-table-header__sort-icon",icon:s(m)},null),e.multiSort&&c(m)&&a("div",{key:"badge",class:U(["v-data-table-header__sort-badge",...C.value]),style:ve(p.value)},[u.value.findIndex(we=>we.key===m.key)+1])])}})},w=()=>{const A=j(()=>v.value.filter(m=>m?.sortable&&!e.disableSort));return t(it,oe({tag:"th",class:[...W.value],colspan:g.value.length+1},e.headerProps),{default:()=>[a("div",{class:"v-data-table-header__content"},[t(Re,{chips:!0,color:e.color,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:A.value,label:o("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>u.value=[],"onClick:append":()=>$(!x.value)},{append:()=>t(st,{color:e.color,density:"compact",modelValue:x.value,indeterminate:V.value&&!x.value,"onUpdate:modelValue":$},null),chip:m=>t(ce,{onClick:m.item.raw?.sortable?()=>i(m.item.raw):void 0,onMousedown:f=>{f.preventDefault(),f.stopPropagation()}},{default:()=>[m.item.title,t(O,{class:U(["v-data-table__td-sort-icon",c(m.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:s(m.item.raw),size:"small"},null)]})})])]})};Oe(()=>K.value?a("tr",null,[t(w,null,null)]):a(se,null,[n.headers?n.headers(R.value):g.value.map((A,m)=>a("tr",null,[A.map((f,T)=>t(H,{column:f,x:T,y:m},null))])),e.loading&&a("tr",{class:"v-data-table-progress"},[a("th",{colspan:v.value.length},[t(Aa,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"||e.loading==="true"?e.color:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),Zo=ye({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),$l=Symbol.for("vuetify:data-table-group");function _l(e){return{groupBy:je(e,"groupBy")}}function Pl(e){const{disableSort:d,groupBy:n,sortBy:o}=e,i=P(new Set),u=j(()=>n.value.map(y=>({...y,order:y.order??!1})).concat(d?.value?[]:o.value));function c(y){return i.value.has(y.id)}function V(y){const v=new Set(i.value);c(y)?v.delete(y.id):v.add(y.id),i.value=v}function x(y){function v(g){const h=[];for(const b of g.items)"type"in b&&b.type==="group"?h.push(...v(b)):h.push(b);return[...new Set(h)]}return v({items:y})}const $={sortByWithGroups:u,toggleGroup:V,opened:i,groupBy:n,extractRows:x,isGroupOpen:c};return Je($l,$),$}function Tl(){const e=Ye($l);if(!e)throw new Error("Missing group!");return e}function Jo(e,d){if(!e.length)return[];const n=new Map;for(const o of e){const i=xt(o.raw,d);n.has(i)||n.set(i,[]),n.get(i).push(o)}return n}function Dl(e,d){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!d.length)return[];const i=Jo(e,d[0]),u=[],c=d.slice(1);return i.forEach((V,x)=>{const $=d[0],y=`${o}_${$}_${x}`;u.push({depth:n,id:y,key:$,value:x,items:c.length?Dl(V,c,n+1,y):V,type:"group"})}),u}function Nl(e,d,n){const o=[];for(const i of e)"type"in i&&i.type==="group"?(i.value!=null&&o.push(i),(d.has(i.id)||i.value==null)&&(o.push(...Nl(i.items,d,n)),n&&o.push({...i,type:"group-summary"}))):o.push(i);return o}function El(e,d,n,o){return{flatItems:j(()=>{if(!d.value.length)return e.value;const u=Dl(e.value,d.value.map(c=>c.key));return Nl(u,n.value,sa(o))})}}const zl=ye({item:{type:Object,required:!0},groupCollapseIcon:{type:Se,default:"$tableGroupCollapse"},groupExpandIcon:{type:Se,default:"$tableGroupExpand"},...dt()},"VDataTableGroupHeaderRow"),Qo=Ne()({name:"VDataTableGroupHeaderRow",props:zl(),setup(e,d){let{slots:n}=d;const{isGroupOpen:o,toggleGroup:i,extractRows:u}=Tl(),{isSelected:c,isSomeSelected:V,select:x}=St(),{columns:$}=It(),y=j(()=>u([e.item])),v=ne(()=>$.value.length-($.value.some(g=>g.key==="data-table-select")?1:0));return()=>a("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[$.value.map(g=>{if(g.key==="data-table-group"){const h=o(e.item)?e.groupCollapseIcon:e.groupExpandIcon,b=()=>i(e.item);return n["data-table-group"]?.({item:e.item,count:y.value.length,props:{icon:h,onClick:b}})??t(it,{class:"v-data-table-group-header-row__column",colspan:v.value},{default:()=>[t(z,{size:"small",variant:"text",icon:h,onClick:b},null),a("span",null,[e.item.value]),a("span",null,[I("("),y.value.length,I(")")])]})}else if(g.key==="data-table-select"){const h=c(y.value),b=V(y.value)&&!h,r=s=>x(y.value,s);return n["data-table-select"]?.({props:{modelValue:h,indeterminate:b,"onUpdate:modelValue":r}})??t(it,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[t(st,{density:e.density,modelValue:h,indeterminate:b,"onUpdate:modelValue":r},null)]})}return""})])}}),Xo=ye({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Fl=Symbol.for("vuetify:datatable:expanded");function Ul(e){const d=ne(()=>e.expandOnClick),n=je(e,"expanded",e.expanded,V=>new Set(V),V=>[...V.values()]);function o(V,x){const $=new Set(n.value),y=ft(V.value);if(x)$.add(y);else{const v=[...n.value].find(g=>ft(g)===y);$.delete(v)}n.value=$}function i(V){const x=ft(V.value);return[...n.value].some($=>ft($)===x)}function u(V){o(V,!i(V))}const c={expand:o,expanded:n,expandOnClick:d,isExpanded:i,toggleExpand:u};return Je(Fl,c),c}function Rl(){const e=Ye(Fl);if(!e)throw new Error("foo");return e}const Ml=ye({color:String,index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:Se,default:"$collapse"},expandIcon:{type:Se,default:"$expand"},onClick:Nt(),onContextmenu:Nt(),onDblclick:Nt(),...dt(),...Gt()},"VDataTableRow"),Yo=Ne()({name:"VDataTableRow",props:Ml(),setup(e,d){let{slots:n}=d;const{displayClasses:o,mobile:i}=Ct(e,"v-data-table__tr"),{isSelected:u,toggleSelect:c,someSelected:V,allSelected:x,selectAll:$}=St(),{isExpanded:y,toggleExpand:v}=Rl(),{toggleSort:g,sortBy:h,isSorted:b}=Sl(),{columns:r}=It();Oe(()=>a("tr",{class:U(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},o.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&r.value.map((s,C)=>{const p=e.item,L=`item.${s.key}`,K=`header.${s.key}`,R={index:e.index,item:p.raw,internalItem:p,value:xt(p.columns,s.key),column:s,isSelected:u,toggleSelect:c,isExpanded:y,toggleExpand:v},W={column:s,selectAll:$,isSorted:b,toggleSort:g,sortBy:h.value,someSelected:V.value,allSelected:x.value,getSortIcon:()=>""},H=typeof e.cellProps=="function"?e.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value,column:s}):e.cellProps,w=typeof s.cellProps=="function"?s.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value}):s.cellProps,A=s.key==="data-table-select"||s.key==="data-table-expand",m=s.key==="data-table-group"&&s.width===0&&!s.title;return t(it,oe({align:s.align,indent:s.intent,class:{"v-data-table__td--expanded-row":s.key==="data-table-expand","v-data-table__td--select-row":s.key==="data-table-select"},fixed:s.fixed,fixedOffset:s.fixedOffset,fixedEndOffset:s.fixedEndOffset,lastFixed:s.lastFixed,firstFixedEnd:s.firstFixedEnd,maxWidth:i.value?void 0:s.maxWidth,noPadding:A,empty:m,nowrap:s.nowrap,width:i.value?void 0:s.width},H,w),{default:()=>{if(s.key==="data-table-select")return n["item.data-table-select"]?.({...R,props:{color:e.color,disabled:!p.selectable,modelValue:u([p]),onClick:Ve(()=>c(p),["stop"])}})??t(st,{color:e.color,disabled:!p.selectable,density:e.density,modelValue:u([p]),onClick:Ve(T=>c(p,e.index,T),["stop"])},null);if(s.key==="data-table-expand")return n["item.data-table-expand"]?.({...R,props:{icon:y(p)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:Ve(()=>v(p),["stop"])}})??t(z,{icon:y(p)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:Ve(()=>v(p),["stop"])},null);if(n[L]&&!i.value)return n[L](R);const f=N(R.value);return i.value?a(se,null,[a("div",{class:"v-data-table__td-title"},[n[K]?.(W)??s.title]),a("div",{class:"v-data-table__td-value"},[n[L]?.(R)??f])]):f}})})]))}}),Ol=ye({color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...zt(Ml(),["collapseIcon","expandIcon","density"]),...zt(zl(),["groupCollapseIcon","groupExpandIcon","density"]),...Gt()},"VDataTableRows"),kt=Ne()({name:"VDataTableRows",inheritAttrs:!1,props:Ol(),setup(e,d){let{attrs:n,slots:o}=d;const{columns:i}=It(),{expandOnClick:u,toggleExpand:c,isExpanded:V}=Rl(),{isSelected:x,toggleSelect:$}=St(),{toggleGroup:y,isGroupOpen:v}=Tl(),{t:g}=Xe(),{mobile:h}=Ct(e);return Oe(()=>{const b=zt(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||o.loading)?a("tr",{class:"v-data-table-rows-loading",key:"loading"},[a("td",{colspan:i.value.length},[o.loading?.()??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?a("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[a("td",{colspan:i.value.length},[o["no-data"]?.()??g(e.noDataText)])]):a(se,null,[e.items.map((r,s)=>{if(r.type==="group"){const L={index:s,item:r,columns:i.value,isExpanded:V,toggleExpand:c,isSelected:x,toggleSelect:$,toggleGroup:y,isGroupOpen:v};return o["group-header"]?o["group-header"](L):t(Qo,oe({key:`group-header_${r.id}`,item:r},Qt(n,":groupHeader",()=>L),b),o)}if(r.type==="group-summary"){const L={index:s,item:r,columns:i.value,toggleGroup:y};return o["group-summary"]?.(L)??""}const C={index:s,item:r.raw,internalItem:r,columns:i.value,isExpanded:V,toggleExpand:c,isSelected:x,toggleSelect:$},p={...C,props:oe({key:`item_${r.key??r.index}`,onClick:u.value?()=>{c(r)}:void 0,index:s,item:r,color:e.color,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:h.value},Qt(n,":row",()=>C),typeof e.rowProps=="function"?e.rowProps({item:C.item,index:C.index,internalItem:C.internalItem}):e.rowProps)};return a(se,{key:p.props.key},[o.item?o.item(p):t(Yo,p.props,o),V(r)&&o["expanded-row"]?.(C)])})])}),{}}}),Ll=ye({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...jt(),...dt(),...Lt(),...Ot()},"VTable"),Vt=Ne()({name:"VTable",props:Ll(),setup(e,d){let{slots:n,emit:o}=d;const{themeClasses:i}=Mt(e),{densityClasses:u}=_a(e);return Oe(()=>t(e.tag,{class:U(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},i.value,u.value,e.class]),style:ve(e.style)},{default:()=>[n.top?.(),n.default?a("div",{class:"v-table__wrapper",style:{height:Pe(e.height)}},[a("table",null,[n.default()])]):n.wrapper?.(),n.bottom?.()]})),{}}}),en=ye({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function tn(e,d,n,o){const i=e.returnObject?d:gt(d,e.itemValue),u=gt(d,e.itemSelectable,!0),c=o.reduce((V,x)=>(x.key!=null&&(V[x.key]=gt(d,x.value)),V),{});return{type:"item",key:e.returnObject?gt(d,e.itemValue):i,index:n,value:i,selectable:u,columns:c,raw:d}}function ln(e,d,n){return d.map((o,i)=>tn(e,o,i,n))}function jl(e,d){return{items:j(()=>ln(e,e.items,d.value))}}function Bl(e){let{page:d,itemsPerPage:n,sortBy:o,groupBy:i,search:u}=e;const c=tl("VDataTable"),V=()=>({page:d.value,itemsPerPage:n.value,sortBy:o.value,groupBy:i.value,search:u.value});let x=null;he(V,$=>{yt(x,$)||(x&&x.search!==$.search&&(d.value=1),c.emit("update:options",$),x=$)},{deep:!0,immediate:!0})}const Gl=ye({...Ol(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Xo(),...Zo(),...Fo(),...en(),...Go(),...Ho(),...rt(Al(),["multiSort"]),...Ll()},"DataTable"),an=ye({...dl(),...Gl(),...rl(),...Ht()},"VDataTable"),tt=Ne()({name:"VDataTable",props:an(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,d){let{attrs:n,slots:o}=d;const{groupBy:i}=_l(e),{initialSortOrder:u,sortBy:c,multiSort:V,mustSort:x}=Cl(e),{page:$,itemsPerPage:y}=cl(e),{disableSort:v}=al(e),{columns:g,headers:h,sortFunctions:b,sortRawFunctions:r,filterFunctions:s}=xl(e,{groupBy:i,showSelect:ne(()=>e.showSelect),showExpand:ne(()=>e.showExpand)}),{items:C}=jl(e,g),p=ne(()=>e.search),{filteredItems:L}=il(e,C,p,{transform:ze=>ze.columns,customKeyFilter:s}),{toggleSort:K}=Il({initialSortOrder:u,sortBy:c,multiSort:V,mustSort:x,page:$}),{sortByWithGroups:R,opened:W,extractRows:H,isGroupOpen:w,toggleGroup:A}=Pl({groupBy:i,sortBy:c,disableSort:v}),{sortedItems:m}=Ko(e,L,R,{transform:ze=>({...ze.raw,...ze.columns}),sortFunctions:b,sortRawFunctions:r}),{flatItems:f}=El(m,i,W,()=>!!o["group-summary"]),T=j(()=>f.value.length),{startIndex:ae,stopIndex:q,pageCount:k,setItemsPerPage:F}=ml({page:$,itemsPerPage:y,itemsLength:T}),{paginatedItems:ee}=zo({items:f,startIndex:ae,stopIndex:q,itemsPerPage:y}),we=j(()=>H(ee.value)),{isSelected:Ee,select:He,selectAll:Y,toggleSelect:_,someSelected:E,allSelected:me}=kl(e,{allItems:C,currentPage:we}),{isExpanded:At,toggleExpand:$t}=Ul(e);Bl({page:$,itemsPerPage:y,sortBy:c,groupBy:i,search:p}),bt({VDataTableRows:{hideNoData:ne(()=>e.hideNoData),noDataText:ne(()=>e.noDataText),loading:ne(()=>e.loading),loadingText:ne(()=>e.loadingText)}});const _e=j(()=>({page:$.value,itemsPerPage:y.value,sortBy:c.value,pageCount:k.value,toggleSort:K,setItemsPerPage:F,someSelected:E.value,allSelected:me.value,isSelected:Ee,select:He,selectAll:Y,toggleSelect:_,isExpanded:At,toggleExpand:$t,isGroupOpen:w,toggleGroup:A,items:we.value.map(ze=>ze.raw),internalItems:we.value,groupedItems:ee.value,columns:g.value,headers:h.value}));return Oe(()=>{const ze=ht.filterProps(e),_t=wt.filterProps(rt(e,["multiSort"])),Pt=kt.filterProps(e),Tt=Vt.filterProps(e);return t(Vt,oe({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Tt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>o.top?.(_e.value),default:()=>o.default?o.default(_e.value):a(se,null,[o.colgroup?.(_e.value),!e.hideDefaultHeader&&a("thead",{key:"thead"},[t(wt,oe(_t,{multiSort:!!e.multiSort}),o)]),o.thead?.(_e.value),!e.hideDefaultBody&&a("tbody",null,[o["body.prepend"]?.(_e.value),o.body?o.body(_e.value):t(kt,oe(n,Pt,{items:ee.value}),o),o["body.append"]?.(_e.value)]),o.tbody?.(_e.value),o.tfoot?.(_e.value)]),bottom:()=>o.bottom?o.bottom(_e.value):!e.hideDefaultFooter&&a(se,null,[t(pe,null,null),t(ht,ze,{prepend:o["footer.prepend"]})])})}),{}}}),on=ye({itemsLength:{type:[Number,String],required:!0},...dl(),...Gl(),...Ht()},"VDataTableServer"),nn=Ne()({name:"VDataTableServer",props:on(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,d){let{attrs:n,slots:o}=d;const{groupBy:i}=_l(e),{initialSortOrder:u,sortBy:c,multiSort:V,mustSort:x}=Cl(e),{page:$,itemsPerPage:y}=cl(e),{disableSort:v}=al(e),g=j(()=>parseInt(e.itemsLength,10)),{columns:h,headers:b}=xl(e,{groupBy:i,showSelect:ne(()=>e.showSelect),showExpand:ne(()=>e.showExpand)}),{items:r}=jl(e,h),{toggleSort:s}=Il({initialSortOrder:u,sortBy:c,multiSort:V,mustSort:x,page:$}),{opened:C,isGroupOpen:p,toggleGroup:L,extractRows:K}=Pl({groupBy:i,sortBy:c,disableSort:v}),{pageCount:R,setItemsPerPage:W}=ml({page:$,itemsPerPage:y,itemsLength:g}),{flatItems:H}=El(r,i,C,()=>!!o["group-summary"]),{isSelected:w,select:A,selectAll:m,toggleSelect:f,someSelected:T,allSelected:ae}=kl(e,{allItems:r,currentPage:r}),{isExpanded:q,toggleExpand:k}=Ul(e),F=j(()=>K(r.value));Bl({page:$,itemsPerPage:y,sortBy:c,groupBy:i,search:ne(()=>e.search)}),Je("v-data-table",{toggleSort:s,sortBy:c}),bt({VDataTableRows:{hideNoData:ne(()=>e.hideNoData),noDataText:ne(()=>e.noDataText),loading:ne(()=>e.loading),loadingText:ne(()=>e.loadingText)}});const ee=j(()=>({page:$.value,itemsPerPage:y.value,sortBy:c.value,pageCount:R.value,toggleSort:s,setItemsPerPage:W,someSelected:T.value,allSelected:ae.value,isSelected:w,select:A,selectAll:m,toggleSelect:f,isExpanded:q,toggleExpand:k,isGroupOpen:p,toggleGroup:L,items:F.value.map(we=>we.raw),internalItems:F.value,groupedItems:H.value,columns:h.value,headers:b.value}));Oe(()=>{const we=ht.filterProps(e),Ee=wt.filterProps(rt(e,["multiSort"])),He=kt.filterProps(e),Y=Vt.filterProps(e);return t(Vt,oe({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Y,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>o.top?.(ee.value),default:()=>o.default?o.default(ee.value):a(se,null,[o.colgroup?.(ee.value),!e.hideDefaultHeader&&a("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[t(wt,oe(Ee,{multiSort:!!e.multiSort}),o)]),o.thead?.(ee.value),!e.hideDefaultBody&&a("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[o["body.prepend"]?.(ee.value),o.body?o.body(ee.value):t(kt,oe(n,He,{items:H.value}),o),o["body.append"]?.(ee.value)]),o.tbody?.(ee.value),o.tfoot?.(ee.value)]),bottom:()=>o.bottom?o.bottom(ee.value):!e.hideDefaultFooter&&a(se,null,[t(pe,null,null),t(ht,we,{prepend:o["footer.prepend"]})])})})}}),sn={class:"d-flex align-center"},rn={class:"text-grey-darken-1 font-weight-medium"},dn={class:"font-weight-bold text-grey-darken-3"},un={class:"d-flex flex-column align-center justify-center py-8"},cn={key:1},mn={key:0,class:"d-flex flex-column align-center justify-center py-12 text-center"},vn={class:"empty-state-icon mb-6",style:{width:"72px",height:"72px"}},fn={class:"plus-badge",style:{width:"24px",height:"24px"}},gn={class:"d-flex align-center pa-3"},pn={class:"mr-3"},bn={class:"flex-grow-1",style:{"min-width":"0"}},yn={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 text-truncate"},xn={class:"text-caption text-grey"},hn={class:"ml-2"},wn={__name:"AreaList",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const{isMobileApp:n}=Ie(),o=P([]),i=P(!1),u=P(""),c=P(!1),V=P("all"),x=[{title:"ID",key:"Id",align:"start",width:"80px"},{title:"NOMBRE DEL ÁREA",key:"Nombre",align:"start"},{title:"ESTADO",key:"Activo",align:"center",width:"120px"}],$={Id:null,Nombre:"",Activo:!0},y=j(()=>o.value.filter(b=>V.value==="all"?!0:V.value==="active"?b.Activo:V.value==="inactive"?!b.Activo:!0)),v=P({...$});async function g(){i.value=!0;try{const b=await Q.get("/api/config/catalogs/areas",{withCredentials:!0});o.value=b.data}catch(b){console.error("Error cargando áreas:",b)}finally{i.value=!1}}function h(b){v.value=b?{...b}:{...$},c.value=!0}return Me(()=>{g()}),(b,r)=>(D(),G(X,{class:U(["h-100","elevation-0","bg-grey-lighten-5",S(n)?"rounded-0":"rounded-xl"])},{default:l(()=>[a("div",{class:U([S(n)?"px-4 py-3":"px-6 py-4","d-flex justify-space-between align-center bg-white border-b"])},[a("div",sn,[a("div",{class:"header-icon-box mr-4",style:ve(S(n)?"width: 36px; height: 36px;":"")},[t(O,{color:"primary",size:S(n)?20:24},{default:l(()=>[...r[7]||(r[7]=[I("mdi-chart-tree",-1)])]),_:1},8,["size"])],4),a("div",null,[a("h2",{class:U([S(n)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3 mb-1"])},"Gestión de Áreas",2),r[8]||(r[8]=a("p",{class:"text-caption text-grey"},"Administra las dependencias y departamentos.",-1))])]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:r[0]||(r[0]=s=>b.$emit("update:modelValue",!1))})],2),t(ie,{class:U([S(n)?"px-3 py-4":"px-4 py-6 px-md-8"])},{default:l(()=>[t(re,{class:"mb-4 align-center",dense:S(n)},{default:l(()=>[t(B,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=s=>u.value=s),"prepend-inner-icon":"mdi-magnify",label:"Buscar área...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"3"},{default:l(()=>[t(Re,{modelValue:V.value,"onUpdate:modelValue":r[2]||(r[2]=s=>V.value=s),items:[{title:"Todos",value:"all"},{title:"Activos",value:"active"},{title:"Inactivos",value:"inactive"}],label:"Estado",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),S(n)?ge("",!0):(D(),G(fe,{key:0})),t(B,{cols:"12",md:"auto"},{default:l(()=>[t(z,{color:"#1e293b",block:"",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:r[3]||(r[3]=s=>h(null))},{default:l(()=>[...r[9]||(r[9]=[I(" Nueva Área ",-1)])]),_:1})]),_:1})]),_:1},8,["dense"]),S(n)?(D(),Z("div",cn,[y.value.length===0?(D(),Z("div",mn,[a("div",vn,[t(O,{size:"36",color:"primary"},{default:l(()=>[...r[13]||(r[13]=[I("mdi-chart-tree",-1)])]),_:1}),a("div",fn,[t(O,{size:"14",color:"white"},{default:l(()=>[...r[14]||(r[14]=[I("mdi-plus",-1)])]),_:1})])]),r[16]||(r[16]=a("h3",{class:"text-subtitle-1 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron áreas",-1)),t(z,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg","prepend-icon":"mdi-plus",onClick:r[5]||(r[5]=s=>h(null))},{default:l(()=>[...r[15]||(r[15]=[I(" Crear nueva ",-1)])]),_:1})])):(D(),G(re,{key:1,dense:""},{default:l(()=>[(D(!0),Z(se,null,ke(y.value,s=>(D(),G(B,{cols:"12",key:s.Id},{default:l(()=>[t(X,{hover:"",onClick:C=>h(s),class:"border-0 elevation-1 rounded-lg"},{default:l(()=>[a("div",gn,[a("div",pn,[t(et,{color:s.Activo?"green-lighten-5":"grey-lighten-4",size:"40",class:"rounded-lg"},{default:l(()=>[t(O,{color:s.Activo?"success":"grey",size:"20"},{default:l(()=>[...r[17]||(r[17]=[I("mdi-chart-tree",-1)])]),_:1},8,["color"])]),_:2},1032,["color"])]),a("div",bn,[a("div",yn,N(s.Nombre),1),a("div",xn," ID: "+N(String(s.Id).padStart(3,"0")),1)]),a("div",hn,[t(ce,{size:"x-small",color:s.Activo?"success":"grey",variant:"flat",class:"font-weight-bold"},{default:l(()=>[I(N(s.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color"])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])):(D(),G(X,{key:0,class:"rounded-lg border-0 elevation-1",loading:i.value},{default:l(()=>[t(tt,{headers:x,items:y.value,search:u.value,loading:i.value,hover:"",density:"comfortable",class:"rounded-lg","onClick:row":r[4]||(r[4]=(s,{item:C})=>h(C))},{"item.Id":l(({item:s})=>[a("span",rn,N(String(s.Id).padStart(3,"0")),1)]),"item.Nombre":l(({item:s})=>[a("span",dn,N(s.Nombre),1)]),"item.Activo":l(({item:s})=>[t(ce,{color:s.Activo?"emerald":"grey",class:U([s.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:l(()=>[t(O,{size:"8",class:"mr-1",color:s.Activo?"success":"grey"},{default:l(()=>[...r[10]||(r[10]=[I("mdi-circle",-1)])]),_:1},8,["color"])]),default:l(()=>[I(" "+N(s.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),"no-data":l(()=>[a("div",un,[t(O,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:l(()=>[...r[11]||(r[11]=[I("mdi-chart-tree",-1)])]),_:1}),r[12]||(r[12]=a("div",{class:"text-body-1 text-grey"},"No hay áreas registradas",-1))])]),_:1},8,["items","search","loading"])]),_:1},8,["loading"]))]),_:1},8,["class"]),t(To,{modelValue:c.value,"onUpdate:modelValue":r[6]||(r[6]=s=>c.value=s),area:v.value,onSave:g},null,8,["modelValue","area"])]),_:1},8,["class"]))}},kn=Te(wn,[["__scopeId","data-v-60ed1db3"]]),Vn={class:"text-h6 font-weight-bold text-grey-darken-3"},Cn={key:0},In={__name:"CargoForm",props:{modelValue:Boolean,cargo:{type:Object,default:()=>({})}},emits:["update:modelValue","save"],setup(e,{emit:d}){const n=e,{isMobileApp:o}=Ie(),i=d,u=j({get:()=>n.modelValue,set:y=>i("update:modelValue",y)}),c=P(null),V=P(!1),x=P({Nombre:"",Activo:!0});he(()=>n.cargo,y=>{y&&y.Id?x.value={...y}:x.value={Nombre:"",Activo:!0}},{immediate:!0});async function $(){const{valid:y}=await c.value.validate();if(y){V.value=!0;try{const v="/api/config/catalogs/cargos";n.cargo.Id?await Q.put(`${v}/${n.cargo.Id}`,x.value,{withCredentials:!0}):await Q.post(v,{Nombre:x.value.Nombre},{withCredentials:!0}),i("save"),u.value=!1}catch(v){console.error(v),alert("Error al guardar: "+(v.response?.data?.message||v.message))}finally{V.value=!1}}}return(y,v)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":v[4]||(v[4]=g=>u.value=g),"max-width":S(o)?"100%":"500",fullscreen:S(o),transition:S(o)?"dialog-bottom-transition":"dialog-transition",persistent:""},{default:l(()=>[t(X,{class:U(["rounded-xl",{"rounded-0":S(o)}])},{default:l(()=>[t($e,{class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},{default:l(()=>[a("span",Vn,N(e.cargo.Id?"Editar Cargo":"Nuevo Cargo"),1),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:v[0]||(v[0]=g=>u.value=!1)})]),_:1}),t(pe,{class:"mx-6"}),t(ie,{class:"px-6 py-4"},{default:l(()=>[t(De,{ref_key:"form",ref:c,onSubmit:Ve($,["prevent"])},{default:l(()=>[v[6]||(v[6]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NOMBRE DEL CARGO",-1)),t(de,{modelValue:x.value.Nombre,"onUpdate:modelValue":v[1]||(v[1]=g=>x.value.Nombre=g),placeholder:"Ej. Analista de Sistemas",variant:"outlined",density:"compact","bg-color":"grey-lighten-5",class:"rounded-lg mb-4",rules:[g=>!!g||"El nombre es requerido"],"hide-details":"auto",autofocus:""},null,8,["modelValue","rules"]),e.cargo.Id?(D(),Z("div",Cn,[v[5]||(v[5]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO",-1)),t(Ge,{modelValue:x.value.Activo,"onUpdate:modelValue":v[2]||(v[2]=g=>x.value.Activo=g),color:"primary",label:x.value.Activo?"Activo":"Inactivo","hide-details":"",inset:""},null,8,["modelValue","label"])])):ge("",!0)]),_:1},512)]),_:1}),t(Ce,{class:"px-6 pb-6 pt-2"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"grey-darken-1",class:"text-capitalize",onClick:v[3]||(v[3]=g=>u.value=!1)},{default:l(()=>[...v[7]||(v[7]=[I("Cancelar",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",onClick:$,loading:V.value},{default:l(()=>[I(N(e.cargo.Id?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","max-width","fullscreen","transition"]))}},Sn={class:"d-flex align-center"},An={class:"text-grey-darken-1 font-weight-medium"},$n={class:"font-weight-bold text-grey-darken-3"},_n={class:"d-flex flex-column align-center justify-center py-8"},Pn={key:1},Tn={key:0,class:"d-flex flex-column align-center justify-center py-12 text-center"},Dn={class:"empty-state-icon mb-6",style:{width:"72px",height:"72px"}},Nn={class:"plus-badge",style:{width:"24px",height:"24px"}},En={class:"d-flex align-center pa-3"},zn={class:"mr-3"},Fn={class:"flex-grow-1",style:{"min-width":"0"}},Un={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 text-truncate"},Rn={class:"text-caption text-grey"},Mn={class:"ml-2"},On={__name:"CargoList",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const{isMobileApp:n}=Ie(),o=P([]),i=P(!1),u=P(""),c=P(!1),V=P("all"),x=[{title:"ID",key:"Id",align:"start",width:"80px"},{title:"NOMBRE DEL CARGO",key:"Nombre",align:"start"},{title:"ESTADO",key:"Activo",align:"center",width:"120px"}],$={Id:null,Nombre:"",Activo:!0},y=j(()=>o.value.filter(b=>V.value==="all"?!0:V.value==="active"?b.Activo:V.value==="inactive"?!b.Activo:!0)),v=P({...$});async function g(){i.value=!0;try{const b=await Q.get("/api/config/catalogs/cargos",{withCredentials:!0});o.value=b.data}catch(b){console.error("Error cargando cargos:",b)}finally{i.value=!1}}function h(b){v.value=b?{...b}:{...$},c.value=!0}return Me(()=>{g()}),(b,r)=>(D(),G(X,{class:U(["h-100","elevation-0","bg-grey-lighten-5",S(n)?"rounded-0":"rounded-xl"])},{default:l(()=>[a("div",{class:U([S(n)?"px-4 py-3":"px-6 py-4","d-flex justify-space-between align-center bg-white border-b"])},[a("div",Sn,[a("div",{class:"header-icon-box mr-4",style:ve(S(n)?"width: 36px; height: 36px;":"")},[t(O,{color:"primary",size:S(n)?20:24},{default:l(()=>[...r[7]||(r[7]=[I("mdi-badge-account",-1)])]),_:1},8,["size"])],4),a("div",null,[a("h2",{class:U([S(n)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3 mb-1"])},"Gestión de Cargos",2),r[8]||(r[8]=a("p",{class:"text-caption text-grey"},"Gestiona los cargos y roles laborales.",-1))])]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:r[0]||(r[0]=s=>b.$emit("update:modelValue",!1))})],2),t(ie,{class:U([S(n)?"px-3 py-4":"px-4 py-6 px-md-8"])},{default:l(()=>[t(re,{class:"mb-4 align-center",dense:S(n)},{default:l(()=>[t(B,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=s=>u.value=s),"prepend-inner-icon":"mdi-magnify",label:"Buscar cargo...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"3"},{default:l(()=>[t(Re,{modelValue:V.value,"onUpdate:modelValue":r[2]||(r[2]=s=>V.value=s),items:[{title:"Todos",value:"all"},{title:"Activos",value:"active"},{title:"Inactivos",value:"inactive"}],label:"Estado",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),S(n)?ge("",!0):(D(),G(fe,{key:0})),t(B,{cols:"12",md:"auto"},{default:l(()=>[t(z,{color:"#1e293b",block:"",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:r[3]||(r[3]=s=>h(null))},{default:l(()=>[...r[9]||(r[9]=[I(" Nuevo Cargo ",-1)])]),_:1})]),_:1})]),_:1},8,["dense"]),S(n)?(D(),Z("div",Pn,[y.value.length===0?(D(),Z("div",Tn,[a("div",Dn,[t(O,{size:"36",color:"primary"},{default:l(()=>[...r[13]||(r[13]=[I("mdi-badge-account",-1)])]),_:1}),a("div",Nn,[t(O,{size:"14",color:"white"},{default:l(()=>[...r[14]||(r[14]=[I("mdi-plus",-1)])]),_:1})])]),r[16]||(r[16]=a("h3",{class:"text-subtitle-1 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron cargos",-1)),t(z,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg","prepend-icon":"mdi-plus",onClick:r[5]||(r[5]=s=>h(null))},{default:l(()=>[...r[15]||(r[15]=[I(" Crear nuevo ",-1)])]),_:1})])):(D(),G(re,{key:1,dense:""},{default:l(()=>[(D(!0),Z(se,null,ke(y.value,s=>(D(),G(B,{cols:"12",key:s.Id},{default:l(()=>[t(X,{hover:"",onClick:C=>h(s),class:"border-0 elevation-1 rounded-lg"},{default:l(()=>[a("div",En,[a("div",zn,[t(et,{color:s.Activo?"green-lighten-5":"grey-lighten-4",size:"40",class:"rounded-lg"},{default:l(()=>[t(O,{color:s.Activo?"success":"grey",size:"20"},{default:l(()=>[...r[17]||(r[17]=[I("mdi-badge-account",-1)])]),_:1},8,["color"])]),_:2},1032,["color"])]),a("div",Fn,[a("div",Un,N(s.Nombre),1),a("div",Rn," ID: "+N(String(s.Id).padStart(3,"0")),1)]),a("div",Mn,[t(ce,{size:"x-small",color:s.Activo?"success":"grey",variant:"flat",class:"font-weight-bold"},{default:l(()=>[I(N(s.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color"])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])):(D(),G(X,{key:0,class:"rounded-lg border-0 elevation-1",loading:i.value},{default:l(()=>[t(tt,{headers:x,items:y.value,search:u.value,loading:i.value,hover:"",density:"comfortable",class:"rounded-lg","onClick:row":r[4]||(r[4]=(s,{item:C})=>h(C))},{"item.Id":l(({item:s})=>[a("span",An,N(String(s.Id).padStart(3,"0")),1)]),"item.Nombre":l(({item:s})=>[a("span",$n,N(s.Nombre),1)]),"item.Activo":l(({item:s})=>[t(ce,{color:s.Activo?"emerald":"grey",class:U([s.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:l(()=>[t(O,{size:"8",class:"mr-1",color:s.Activo?"success":"grey"},{default:l(()=>[...r[10]||(r[10]=[I("mdi-circle",-1)])]),_:1},8,["color"])]),default:l(()=>[I(" "+N(s.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),"no-data":l(()=>[a("div",_n,[t(O,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:l(()=>[...r[11]||(r[11]=[I("mdi-badge-account",-1)])]),_:1}),r[12]||(r[12]=a("div",{class:"text-body-1 text-grey"},"No hay cargos registrados",-1))])]),_:1},8,["items","search","loading"])]),_:1},8,["loading"]))]),_:1},8,["class"]),t(In,{modelValue:c.value,"onUpdate:modelValue":r[6]||(r[6]=s=>c.value=s),cargo:v.value,isMobileApp:S(n),onSave:g},null,8,["modelValue","cargo","isMobileApp"])]),_:1},8,["class"]))}},Ln=Te(On,[["__scopeId","data-v-656e0409"]]),jn=Oa("v-code","code");function Bn(e,d){const n=typeof e=="string"?ia(e):e,o=Gn(n,d);return{mounted:o,updated:o,unmounted(i){ol(null,i)}}}function Gn(e,d){return function(n,o,i){const u=typeof d=="function"?d(o):d,c=o.value?.text??o.value??u?.text,V=Bt(o.value)?o.value:{},x=()=>c??n.textContent,$=(i.ctx===o.instance.$?Hn(i,o.instance.$)?.provides:i.ctx?.provides)??o.instance.$.provides,y=ra(e,oe(u,V),x);y.appContext=Object.assign(Object.create(null),o.instance.$.appContext,{provides:$}),ol(y,n)}}function Hn(e,d){const n=new Set,o=u=>{for(const c of u){if(!c)continue;if(c===e||c.el&&e.el&&c.el===e.el)return!0;n.add(c);let V;if(c.suspense?V=o([c.ssContent]):Array.isArray(c.children)?V=o(c.children):c.component?.vnode&&(V=o([c.component?.subTree])),V)return V;n.delete(c)}return!1};if(!o([d.subTree]))return d;const i=Array.from(n).reverse();for(const u of i)if(u.component)return u.component;return d}const qn=Bn(La,e=>({activator:(Bt(e.value)?!e.value.text:["",!1,null].includes(e.value))?null:"parent",location:e.arg?.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value})),Kn={class:"d-flex align-center justify-space-between"},Wn={class:"d-flex align-center"},Zn={class:"mb-6"},Jn={class:"text-body-2 text-grey-darken-3"},Qn={class:"d-flex flex-column"},Xn={class:"font-weight-medium text-grey-darken-3"},Yn={key:0,class:"text-caption text-grey"},es={class:"d-flex flex-column"},ts={class:"font-weight-medium text-grey-darken-3"},ls={key:0,class:"text-caption text-grey"},as={class:"text-body-2 text-grey-darken-3"},os={key:1},ns={key:0,class:"d-flex flex-column align-center justify-center py-12 text-center"},ss={class:"empty-state-icon mb-6",style:{width:"72px",height:"72px","background-color":"#fff3e0","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center"}},is={key:1},rs={class:"d-flex justify-space-between align-start mb-2"},ds={class:"text-caption text-grey"},us={class:"mb-2"},cs={class:"d-flex align-center mb-1"},ms={class:"text-body-2 font-weight-medium text-grey-darken-3"},vs={class:"d-flex align-center mb-1"},fs={class:"text-caption text-grey-darken-2"},gs={class:"d-flex align-center"},ps={class:"text-caption text-grey-darken-2"},bs={class:"d-flex justify-center mt-4"},ys={key:0},xs={class:"d-flex mb-6 bg-grey-lighten-5 pa-4 rounded-lg border-thin flex-wrap"},hs={class:"w-50 mb-2 mb-sm-0"},ws={class:"font-weight-bold text-body-2"},ks={class:"w-50 mb-2 mb-sm-0"},Vs={class:"font-weight-bold text-body-2"},Cs={class:"d-flex mb-6"},Is={class:"w-50"},Ss={class:"font-weight-bold text-body-1"},As={class:"w-50"},$s={__name:"AuditLogList",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const n=e,{isMobileApp:o}=Ie();da();const i=P(!1),u=P([]),c=P(0),V=P(0),x=P(1),$=P(10),y=P({table:null,action:null,dateFrom:null,dateTo:null,userName:null,userDoc:null,companyName:null,companyNit:null}),v=P({tables:[],users:[],userDocs:[],companies:[],companyNits:[]}),g=[{title:"Fecha",key:"Fecha",align:"start",width:"180px"},{title:"Usuario",key:"Usuario",align:"start"},{title:"Empresa",key:"Empresa",align:"start"},{title:"Sede",key:"Sede",align:"start"},{title:"Acción",key:"Accion",align:"center",width:"100px"},{title:"Tabla",key:"Tabla",align:"start"},{title:"Detalle",key:"Detalle",align:"center",sortable:!1,width:"120px"}],h=P(!1),b=P(null);let r=null;const s=()=>{clearTimeout(r),r=setTimeout(()=>{x.value=1,K()},500)};function C({page:A,itemsPerPage:m}){x.value=A,$.value=m,K()}async function p(){try{const A=await Q.get("/api/audit/filters",{withCredentials:!0});v.value={tables:A.data.tables,users:A.data.users,userDocs:A.data.user_docs,companies:A.data.companies,companyNits:A.data.company_nits}}catch(A){console.error("Error fetching filter options:",A)}}function L(){y.value={table:null,action:null,dateFrom:null,dateTo:null,userName:null,userDoc:null,companyName:null,companyNit:null},K()}async function K(){i.value=!0;try{const A={page:x.value,per_page:$.value,table:y.value.table,action:y.value.action,dateFrom:y.value.dateFrom,dateTo:y.value.dateTo,userName:y.value.userName,userDoc:y.value.userDoc,companyName:y.value.companyName,companyNit:y.value.companyNit};Object.keys(A).forEach(T=>{(A[T]===null||A[T]==="")&&delete A[T]});const f=await Q.get("/api/audit/logs",{params:A,withCredentials:!0});u.value=f.data.logs,c.value=f.data.total,V.value=f.data.pages,x.value=f.data.current_page}catch(A){console.error("Error fetching audit logs:",A)}finally{i.value=!1}}function R(A){switch(A){case"CREAR":return"success";case"EDITAR":return"info";case"ELIMINAR":return"error";default:return"grey"}}function W(A){return A?new Date(A).toLocaleString("es-CO"):"-"}function H(A){b.value=A,h.value=!0}function w(A){try{const m=JSON.parse(A);return JSON.stringify(m,null,2)}catch{return A}}return he(()=>n.modelValue,A=>{A&&(console.log("AuditLogDialog opened. Fetching logs..."),K(),p())}),Me(()=>{n.modelValue&&(K(),p())}),(A,m)=>(D(),G(X,{class:"h-100 d-flex flex-column bg-grey-lighten-5 rounded-xl"},{default:l(()=>[a("div",{class:U([S(o)?"px-4 py-4":"px-8 pt-6 pb-6","bg-white elevation-0 border-bottom"])},[a("div",Kn,[a("div",Wn,[a("div",{class:"header-icon-box mr-4 bg-orange-lighten-5",style:ve(S(o)?"width: 40px; height: 40px;":"")},[t(O,{color:"orange-darken-2",size:S(o)?24:28},{default:l(()=>[...m[15]||(m[15]=[I("mdi-file-eye",-1)])]),_:1},8,["size"])],4),a("div",null,[a("h2",{class:U([S(o)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3 mb-0"])},"Log de Auditoría",2),m[16]||(m[16]=a("p",{class:"text-caption text-grey"},"Historial detallado de cambios en el sistema.",-1))])]),a("div",null,[pt(t(z,{icon:"mdi-broom",variant:"text",color:"blue-grey",class:"mr-2",onClick:L},null,512),[[qn,"Limpiar Filtros","bottom"]]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:m[0]||(m[0]=f=>A.$emit("update:modelValue",!1))})])])],2),t(ie,{class:"pa-0 flex-grow-1 overflow-auto"},{default:l(()=>[t(ut,{fluid:"",class:U(S(o)?"pa-4":"pa-8")},{default:l(()=>[a("div",Zn,[t(re,{dense:""},{default:l(()=>[t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Ue,{modelValue:y.value.table,"onUpdate:modelValue":[m[1]||(m[1]=f=>y.value.table=f),s],label:"Tabla",items:v.value.tables,"prepend-inner-icon":"mdi-table",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Re,{modelValue:y.value.action,"onUpdate:modelValue":[m[2]||(m[2]=f=>y.value.action=f),K],label:"Acción",items:["LOGIN","CREAR","EDITAR","ELIMINAR","LOGOUT"],"prepend-inner-icon":"mdi-gesture-tap",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(de,{modelValue:y.value.dateFrom,"onUpdate:modelValue":[m[3]||(m[3]=f=>y.value.dateFrom=f),K],label:"Desde",type:"date",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(de,{modelValue:y.value.dateTo,"onUpdate:modelValue":[m[4]||(m[4]=f=>y.value.dateTo=f),K],label:"Hasta",type:"date",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Ue,{modelValue:y.value.userName,"onUpdate:modelValue":[m[5]||(m[5]=f=>y.value.userName=f),s],label:"Usuario (Nombre)",items:v.value.users,"prepend-inner-icon":"mdi-account",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Ue,{modelValue:y.value.userDoc,"onUpdate:modelValue":[m[6]||(m[6]=f=>y.value.userDoc=f),s],label:"Usuario (Doc)",items:v.value.userDocs,"prepend-inner-icon":"mdi-card-account-details",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Ue,{modelValue:y.value.companyName,"onUpdate:modelValue":[m[7]||(m[7]=f=>y.value.companyName=f),s],label:"Empresa",items:v.value.companies,"prepend-inner-icon":"mdi-domain",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(Ue,{modelValue:y.value.companyNit,"onUpdate:modelValue":[m[8]||(m[8]=f=>y.value.companyNit=f),s],label:"NIT Empresa",items:v.value.companyNits,"prepend-inner-icon":"mdi-identifier",density:"compact",variant:"outlined","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),S(o)?(D(),Z("div",os,[u.value.length===0&&!i.value?(D(),Z("div",ns,[a("div",ss,[t(O,{size:"36",color:"orange-lighten-2"},{default:l(()=>[...m[18]||(m[18]=[I("mdi-file-eye-off",-1)])]),_:1})]),m[19]||(m[19]=a("h3",{class:"text-subtitle-1 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron registros",-1)),m[20]||(m[20]=a("p",{class:"text-caption text-grey"},"Intenta ajustar los filtros de búsqueda.",-1))])):(D(),Z("div",is,[t(re,{dense:""},{default:l(()=>[(D(!0),Z(se,null,ke(u.value,f=>(D(),G(B,{cols:"12",key:f.Id},{default:l(()=>[t(X,{class:"border-thin elevation-0 rounded-lg pa-3"},{default:l(()=>[a("div",rs,[t(ce,{size:"x-small",color:R(f.Accion),variant:"flat",class:"font-weight-bold"},{default:l(()=>[I(N(f.Accion),1)]),_:2},1032,["color"]),a("span",ds,N(W(f.Fecha)),1)]),a("div",us,[a("div",cs,[t(O,{size:"14",color:"grey",class:"mr-1"},{default:l(()=>[...m[21]||(m[21]=[I("mdi-account",-1)])]),_:1}),a("span",ms,N(f.Usuario),1)]),a("div",vs,[t(O,{size:"14",color:"grey",class:"mr-1"},{default:l(()=>[...m[22]||(m[22]=[I("mdi-domain",-1)])]),_:1}),a("span",fs,N(f.Empresa),1)]),a("div",gs,[t(O,{size:"14",color:"grey",class:"mr-1"},{default:l(()=>[...m[23]||(m[23]=[I("mdi-table",-1)])]),_:1}),a("span",ps,N(f.Tabla),1)])]),t(z,{block:"",size:"small",variant:"tonal",color:"blue-grey",class:"text-capitalize mt-2",onClick:T=>H(f)},{default:l(()=>[...m[24]||(m[24]=[I(" Ver Detalle ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),a("div",bs,[t(Ut,{modelValue:x.value,"onUpdate:modelValue":[m[11]||(m[11]=f=>x.value=f),K],length:V.value,"total-visible":4,density:"comfortable","active-color":"primary"},null,8,["modelValue","length"])])]))])):(D(),G(X,{key:0,class:"rounded-lg border-thin elevation-0 overflow-hidden"},{default:l(()=>[t(nn,{"items-per-page":$.value,"onUpdate:itemsPerPage":m[9]||(m[9]=f=>$.value=f),page:x.value,"onUpdate:page":m[10]||(m[10]=f=>x.value=f),headers:g,items:u.value,"items-length":c.value,loading:i.value,class:"header-bg",hover:"",density:"comfortable","onUpdate:options":C},{"item.Accion":l(({item:f})=>[t(ce,{size:"small",color:R(f.Accion),class:"font-weight-bold",variant:"flat"},{default:l(()=>[I(N(f.Accion),1)]),_:2},1032,["color"])]),"item.Fecha":l(({item:f})=>[a("span",Jn,N(W(f.Fecha)),1)]),"item.Usuario":l(({item:f})=>[a("div",Qn,[a("span",Xn,N(f.Usuario),1),f.UsuarioDocumento?(D(),Z("span",Yn,N(f.UsuarioDocumento),1)):ge("",!0)])]),"item.Empresa":l(({item:f})=>[a("div",es,[a("span",ts,N(f.Empresa),1),f.EmpresaNIT?(D(),Z("span",ls,"NIT: "+N(f.EmpresaNIT),1)):ge("",!0)])]),"item.Sede":l(({item:f})=>[a("span",as,N(f.Sede),1)]),"item.Detalle":l(({item:f})=>[t(z,{size:"small",variant:"tonal",color:"primary",class:"text-capitalize",onClick:T=>H(f)},{default:l(()=>[...m[17]||(m[17]=[I(" Ver Detalle ",-1)])]),_:1},8,["onClick"])]),_:1},8,["items-per-page","page","items","items-length","loading"])]),_:1}))]),_:1},8,["class"])]),_:1}),t(ue,{modelValue:h.value,"onUpdate:modelValue":m[14]||(m[14]=f=>h.value=f),fullscreen:S(o),"max-width":S(o)?"100%":"600"},{default:l(()=>[t(X,{class:"rounded-xl",height:S(o)?"100%":"auto"},{default:l(()=>[t($e,{class:U([S(o)?"px-4 py-3":"px-6 pt-6 pb-4","d-flex align-start justify-space-between bg-white"])},{default:l(()=>[a("div",null,[a("span",{class:U([S(o)?"text-subtitle-1":"text-h6","font-weight-bold text-blue-grey-darken-4"])}," Detalle del Cambio ",2),m[25]||(m[25]=a("p",{class:"text-caption text-grey mt-1"},"Información completa de la auditoría.",-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:m[12]||(m[12]=f=>h.value=!1)})]),_:1},8,["class"]),t(pe,{class:U([S(o)?"mx-4":"mx-6","opacity-10 mb-4"])},null,8,["class"]),t(ie,{class:U([S(o)?"px-4":"px-6","py-0 mb-6"])},{default:l(()=>[b.value?(D(),Z("div",ys,[a("div",xs,[a("div",hs,[m[26]||(m[26]=a("div",{class:"text-caption font-weight-bold text-grey mb-1"},"USUARIO",-1)),a("div",ws,N(b.value.Usuario),1)]),a("div",ks,[m[27]||(m[27]=a("div",{class:"text-caption font-weight-bold text-grey mb-1"},"FECHA",-1)),a("div",Vs,N(W(b.value.Fecha)),1)])]),a("div",Cs,[a("div",Is,[m[28]||(m[28]=a("div",{class:"text-caption font-weight-bold text-grey mb-1"},"TABLA AFECTADA",-1)),a("div",Ss,N(b.value.Tabla),1)]),a("div",As,[m[29]||(m[29]=a("div",{class:"text-caption font-weight-bold text-grey mb-1"},"ACCIÓN",-1)),t(ce,{size:"small",color:R(b.value.Accion),variant:"flat",class:"font-weight-bold"},{default:l(()=>[I(N(b.value.Accion),1)]),_:1},8,["color"])])]),t(pe,{class:"mb-4 border-dashed"}),m[30]||(m[30]=a("div",{class:"text-subtitle-2 font-weight-bold text-blue-grey-darken-3 mb-3"},"Cambios Registrados",-1)),t(jn,{class:"d-block pa-4 bg-blue-grey-lighten-5 text-blue-grey-darken-4 rounded-lg overflow-auto border-thin",style:{"max-height":"300px","font-size":"0.85rem"}},{default:l(()=>[I(N(w(b.value.Detalle)),1)]),_:1})])):ge("",!0)]),_:1},8,["class"]),t(Ce,{class:U([S(o)?"px-4 pb-4":"px-6 pb-6","pt-0"])},{default:l(()=>[t(fe),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"44",onClick:m[13]||(m[13]=f=>h.value=!1),block:S(o)},{default:l(()=>[...m[31]||(m[31]=[I(" Cerrar ",-1)])]),_:1},8,["block"])]),_:1},8,["class"])]),_:1},8,["height"])]),_:1},8,["modelValue","fullscreen","max-width"])]),_:1}))}},_s=Te($s,[["__scopeId","data-v-6b2d2508"]]),Ps={class:"text-h6 font-weight-bold text-grey-darken-3"},Ts={key:0},Ds={__name:"UnifiedCatalogForm",props:{modelValue:Boolean,item:{type:Object,default:()=>({})},catalogName:{type:String,required:!0}},emits:["update:modelValue","save"],setup(e,{emit:d}){const n=e,o=d,{isMobileApp:i}=Ie(),u=j({get:()=>n.modelValue,set:y=>o("update:modelValue",y)}),c=P(null),V=P(!1),x=P({Nombre:"",Activo:!0});he(()=>n.item,y=>{y&&y.Id?x.value={...y}:x.value={Nombre:"",Activo:!0}},{immediate:!0});async function $(){const{valid:y}=await c.value.validate();if(y){V.value=!0;try{const v=`/api/config/catalogs/${n.catalogName}`;n.item.Id?await Q.put(`${v}/${n.item.Id}`,x.value,{withCredentials:!0}):await Q.post(v,{Nombre:x.value.Nombre},{withCredentials:!0}),o("save"),u.value=!1}catch(v){console.error(v),alert("Error al guardar: "+(v.response?.data?.message||v.message))}finally{V.value=!1}}}return(y,v)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":v[4]||(v[4]=g=>u.value=g),"max-width":S(i)?"100%":"500",fullscreen:S(i),transition:S(i)?"dialog-bottom-transition":"dialog-transition",persistent:""},{default:l(()=>[t(X,{class:U(["rounded-xl",{"rounded-0":S(i)}])},{default:l(()=>[t($e,{class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},{default:l(()=>[a("span",Ps,N(e.item.Id?"Editar Registro":"Nuevo Registro"),1),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:v[0]||(v[0]=g=>u.value=!1)})]),_:1}),t(pe,{class:"mx-6"}),t(ie,{class:"px-6 py-4"},{default:l(()=>[t(De,{ref_key:"form",ref:c,onSubmit:Ve($,["prevent"])},{default:l(()=>[v[6]||(v[6]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NOMBRE",-1)),t(de,{modelValue:x.value.Nombre,"onUpdate:modelValue":v[1]||(v[1]=g=>x.value.Nombre=g),placeholder:"Ingrese el nombre",variant:"outlined",density:"compact","bg-color":"grey-lighten-5",class:"rounded-lg mb-4",rules:[g=>!!g||"El nombre es requerido"],"hide-details":"auto",autofocus:""},null,8,["modelValue","rules"]),e.item.Id?(D(),Z("div",Ts,[v[5]||(v[5]=a("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO",-1)),t(Ge,{modelValue:x.value.Activo,"onUpdate:modelValue":v[2]||(v[2]=g=>x.value.Activo=g),color:"primary",label:x.value.Activo?"Activo":"Inactivo","hide-details":"",inset:""},null,8,["modelValue","label"])])):ge("",!0)]),_:1},512)]),_:1}),t(Ce,{class:"px-6 pb-6 pt-2"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"grey-darken-1",class:"text-capitalize",onClick:v[3]||(v[3]=g=>u.value=!1)},{default:l(()=>[...v[7]||(v[7]=[I("Cancelar",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",onClick:$,loading:V.value},{default:l(()=>[I(N(e.item.Id?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["class"])]),_:1},8,["modelValue","max-width","fullscreen","transition"]))}},Ns={class:"d-flex align-center"},Es={class:"text-caption text-grey"},zs={class:"text-grey-darken-1 font-weight-medium"},Fs={class:"font-weight-bold text-grey-darken-3"},Us={class:"d-flex flex-column align-center justify-center py-8"},Rs={key:1},Ms={key:0,class:"d-flex flex-column align-center justify-center py-12 text-center"},Os={class:"empty-state-icon mb-6",style:{width:"72px",height:"72px"}},Ls={class:"plus-badge",style:{width:"24px",height:"24px"}},js={class:"d-flex align-center pa-3"},Bs={class:"mr-3"},Gs={class:"flex-grow-1",style:{"min-width":"0"}},Hs={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 text-truncate"},qs={class:"text-caption text-grey"},Ks={class:"ml-2"},Ws={__name:"UnifiedCatalogList",props:{modelValue:Boolean,catalogName:{type:String,required:!0},title:{type:String,default:"Catálogo"},icon:{type:String,default:"mdi-database"},description:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:d}){const n=e,{isMobileApp:o}=Ie(),i=P([]),u=P(!1),c=P(""),V=P(!1),x=P("all"),$=[{title:"ID",key:"Id",align:"start",width:"80px"},{title:"NOMBRE",key:"Nombre",align:"start"},{title:"ESTADO",key:"Activo",align:"center",width:"120px"}],y={Id:null,Nombre:"",Activo:!0},v=P({...y}),g=j(()=>i.value.filter(r=>x.value==="all"?!0:x.value==="active"?r.Activo:x.value==="inactive"?!r.Activo:!0));async function h(){u.value=!0;try{const r=await Q.get(`/api/config/catalogs/${n.catalogName}`,{withCredentials:!0});i.value=r.data}catch(r){console.error(`Error cargando ${n.catalogName}:`,r)}finally{u.value=!1}}function b(r){v.value=r?{...r}:{...y},V.value=!0}return he(()=>n.catalogName,()=>{h()}),Me(()=>{h()}),(r,s)=>(D(),G(X,{class:U(["h-100","elevation-0","bg-grey-lighten-5",S(o)?"rounded-0":"rounded-xl"])},{default:l(()=>[a("div",{class:U([S(o)?"px-4 py-3":"px-6 py-4","d-flex justify-space-between align-center bg-white border-b"])},[a("div",Ns,[a("div",{class:"header-icon-box mr-4",style:ve(S(o)?"width: 36px; height: 36px;":"")},[t(O,{color:"primary",size:S(o)?20:24},{default:l(()=>[I(N(e.icon),1)]),_:1},8,["size"])],4),a("div",null,[a("h2",{class:U([S(o)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3 mb-1"])},N(e.title),3),a("p",Es,N(e.description),1)])]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:s[0]||(s[0]=C=>r.$emit("update:modelValue",!1))})],2),t(ie,{class:U([S(o)?"px-3 py-4":"px-4 py-6 px-md-8"])},{default:l(()=>[t(re,{class:"mb-4 align-center",dense:S(o)},{default:l(()=>[t(B,{cols:"12",md:"4"},{default:l(()=>[t(de,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=C=>c.value=C),"prepend-inner-icon":"mdi-magnify",label:`Buscar en ${e.title}...`,variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue","label"])]),_:1}),t(B,{cols:"12",md:"3"},{default:l(()=>[t(Re,{modelValue:x.value,"onUpdate:modelValue":s[2]||(s[2]=C=>x.value=C),items:[{title:"Todos",value:"all"},{title:"Activos",value:"active"},{title:"Inactivos",value:"inactive"}],label:"Estado",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),S(o)?ge("",!0):(D(),G(fe,{key:0})),t(B,{cols:"12",md:"auto"},{default:l(()=>[t(z,{color:"#1e293b",block:"",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:s[3]||(s[3]=C=>b(null))},{default:l(()=>[...s[7]||(s[7]=[I(" Nuevo ",-1)])]),_:1})]),_:1})]),_:1},8,["dense"]),S(o)?(D(),Z("div",Rs,[g.value.length===0?(D(),Z("div",Ms,[a("div",Os,[t(O,{size:"36",color:"primary"},{default:l(()=>[I(N(e.icon),1)]),_:1}),a("div",Ls,[t(O,{size:"14",color:"white"},{default:l(()=>[...s[10]||(s[10]=[I("mdi-plus",-1)])]),_:1})])]),s[12]||(s[12]=a("h3",{class:"text-subtitle-1 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron registros",-1)),t(z,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg","prepend-icon":"mdi-plus",onClick:s[5]||(s[5]=C=>b(null))},{default:l(()=>[...s[11]||(s[11]=[I(" Crear nuevo ",-1)])]),_:1})])):(D(),G(re,{key:1,dense:""},{default:l(()=>[(D(!0),Z(se,null,ke(g.value,C=>(D(),G(B,{cols:"12",key:C.Id},{default:l(()=>[t(X,{hover:"",onClick:p=>b(C),class:"border-0 elevation-1 rounded-lg"},{default:l(()=>[a("div",js,[a("div",Bs,[t(et,{color:C.Activo?"green-lighten-5":"grey-lighten-4",size:"40",class:"rounded-lg"},{default:l(()=>[t(O,{color:C.Activo?"success":"grey",size:"20"},{default:l(()=>[I(N(e.icon),1)]),_:1},8,["color"])]),_:2},1032,["color"])]),a("div",Gs,[a("div",Hs,N(C.Nombre),1),a("div",qs," ID: "+N(String(C.Id).padStart(3,"0")),1)]),a("div",Ks,[t(ce,{size:"x-small",color:C.Activo?"success":"grey",variant:"flat",class:"font-weight-bold"},{default:l(()=>[I(N(C.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color"])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])):(D(),G(X,{key:0,class:"rounded-lg border-0 elevation-1",loading:u.value},{default:l(()=>[t(tt,{headers:$,items:g.value,search:c.value,loading:u.value,hover:"",density:"comfortable",class:"rounded-lg","onClick:row":s[4]||(s[4]=(C,{item:p})=>b(p))},{"item.Id":l(({item:C})=>[a("span",zs,N(String(C.Id).padStart(3,"0")),1)]),"item.Nombre":l(({item:C})=>[a("span",Fs,N(C.Nombre),1)]),"item.Activo":l(({item:C})=>[t(ce,{color:C.Activo?"emerald":"grey",class:U([C.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:l(()=>[t(O,{size:"8",class:"mr-1",color:C.Activo?"success":"grey"},{default:l(()=>[...s[8]||(s[8]=[I("mdi-circle",-1)])]),_:1},8,["color"])]),default:l(()=>[I(" "+N(C.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),"no-data":l(()=>[a("div",Us,[t(O,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:l(()=>[I(N(e.icon),1)]),_:1}),s[9]||(s[9]=a("div",{class:"text-body-1 text-grey"},"No hay registros",-1))])]),_:1},8,["items","search","loading"])]),_:1},8,["loading"]))]),_:1},8,["class"]),t(Ds,{modelValue:V.value,"onUpdate:modelValue":s[6]||(s[6]=C=>V.value=C),item:v.value,"catalog-name":e.catalogName,onSave:h},null,8,["modelValue","item","catalog-name"])]),_:1},8,["class"]))}},Zs=Te(Ws,[["__scopeId","data-v-62ded822"]]),Js=ye({alwaysFilter:Boolean,autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...rl({filterKeys:["title"]}),...Fa({hideNoData:!0,returnObject:!0}),...rt(Na({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VCombobox"),Ze=Ne()({name:"VCombobox",props:Js(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,d){let{emit:n,slots:o}=d;const{t:i}=Xe(),u=P(),c=Be(!1),V=Be(!0),x=Be(!1),$=P(),y=P(),v=Be(-1);let g=!1;const{items:h,transformIn:b,transformOut:r}=ja(e),{textColorClasses:s,textColorStyles:C}=ua(()=>u.value?.color),p=je(e,"modelValue",[],M=>b(nt(M)),M=>{const te=r(M);return e.multiple?te:te[0]??null}),L=Da(e),K=j(()=>!!(e.chips||o.chip)),R=j(()=>K.value||!!o.selection),W=Be(!e.multiple&&!R.value?p.value[0]?.title??"":""),H=Be(null),w=j({get:()=>W.value,set:async M=>{if(W.value=M??"",M===null||M===""&&!e.multiple&&!R.value?p.value=[]:!e.multiple&&!R.value&&(p.value=[ot(e,M)],We(()=>y.value?.scrollToIndex(0))),M&&e.multiple&&e.delimiters?.length){const te=Kt(M);te.length>1&&(Wt(te),W.value="")}M||(v.value=-1),V.value=!M}}),A=j(()=>typeof e.counterValue=="function"?e.counterValue(p.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?p.value.length:w.value.length),{filteredItems:m,getMatches:f}=il(e,h,()=>H.value??(e.alwaysFilter||!V.value?w.value:"")),T=j(()=>e.hideSelected&&H.value===null?m.value.filter(M=>!p.value.some(te=>te.value===M.value)):m.value),ae=j(()=>e.hideNoData&&!T.value.length||L.isReadonly.value||L.isDisabled.value),q=je(e,"menu"),k=j({get:()=>q.value,set:M=>{q.value&&!M&&$.value?.ΨopenChildren.size||M&&ae.value||(q.value=M)}}),{menuId:F,ariaExpanded:ee,ariaControls:we,ariaLabel:Ee}=Ea(e,k);he(W,M=>{g?We(()=>g=!1):c.value&&!k.value&&(k.value=!0),n("update:search",M)}),he(p,M=>{!e.multiple&&!R.value&&(W.value=M[0]?.title??"")});const He=j(()=>p.value.map(M=>M.value)),Y=j(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&w.value===T.value[0]?.title)&&T.value.length>0&&!V.value&&!x.value),_=P(),E=za(_,u);function me(M){g=!0,We(()=>g=!1),e.openOnClear&&(k.value=!0)}function At(){ae.value||(k.value=!0)}function $t(M){ae.value||(c.value&&(M.preventDefault(),M.stopPropagation()),k.value=!k.value)}function _e(M){(Jt(M)||M.key==="Backspace")&&u.value?.focus()}function ze(M){if(va(M)||L.isReadonly.value)return;const te=u.value?.selectionStart,xe=p.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(M.key)&&M.preventDefault(),["Enter","ArrowDown"].includes(M.key)&&(k.value=!0),["Escape"].includes(M.key)&&(k.value=!1),Y.value&&["Enter","Tab"].includes(M.key)&&!p.value.some(J=>{let{value:le}=J;return le===T.value[0].value})&&Fe(m.value[0]),M.key==="ArrowDown"&&Y.value&&_.value?.focus("next"),M.key==="Enter"&&w.value&&(Fe(ot(e,w.value),!0,!0),R.value&&(W.value="")),["Backspace","Delete"].includes(M.key)){if(!e.multiple&&R.value&&p.value.length>0&&!w.value)return Fe(p.value[0],!1);if(~v.value){M.preventDefault();const J=v.value;Fe(p.value[v.value],!1),v.value=J>=xe-1?xe-2:J}else M.key==="Backspace"&&!w.value&&(v.value=xe-1);return}if(e.multiple)if(M.key==="ArrowLeft"){if(v.value<0&&te&&te>0)return;const J=v.value>-1?v.value-1:xe-1;p.value[J]?v.value=J:(v.value=-1,u.value?.setSelectionRange(w.value.length,w.value.length))}else if(M.key==="ArrowRight"){if(v.value<0)return;const J=v.value+1;p.value[J]?v.value=J:(v.value=-1,u.value?.setSelectionRange(0,0))}else~v.value&&Jt(M)&&(v.value=-1)}function _t(M){const te=M?.clipboardData?.getData("Text")??"",xe=Kt(te);xe.length>1&&e.multiple&&(M.preventDefault(),Wt(xe))}function Pt(){e.eager&&y.value?.calculateVisibleItems()}function Tt(){c.value&&u.value?.focus(),V.value=!0,H.value=null}function Fe(M){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!(!M||M.props.disabled))if(e.multiple){const J=p.value.findIndex(be=>(e.valueComparator||yt)(be.value,M.value)),le=te??!~J;if(~J){const be=le?[...p.value,M]:[...p.value];be.splice(J,1),p.value=be}else le&&(p.value=[...p.value,M]);e.clearOnSelect&&(w.value="")}else{const J=te!==!1;p.value=J?[M]:[],(!V.value||e.alwaysFilter)&&W.value&&(H.value=W.value),W.value=J&&!R.value?M.title:"",We(()=>{k.value=xe,V.value=!0})}}function Kt(M){const xe=[`
`,...e.delimiters??[]].map(ma).join("|");return M.split(new RegExp(`(?:${xe})+`))}async function Wt(M){for(let te of M)te=te.trim(),te&&(Fe(ot(e,te)),await We())}function Hl(M){c.value=!0,setTimeout(()=>{x.value=!0})}function ql(M){x.value=!1}return he(c,(M,te)=>{if(!(M||M===te)&&(v.value=-1,k.value=!1,w.value)){if(e.multiple){Fe(ot(e,w.value));return}if(!R.value)return;p.value.some(xe=>{let{title:J}=xe;return J===w.value})?W.value="":Fe(ot(e,w.value))}}),he(k,M=>{if(!e.hideSelected&&M&&p.value.length&&V.value){const te=T.value.findIndex(xe=>p.value.some(J=>(e.valueComparator||yt)(J.value,xe.value)));fa&&window.requestAnimationFrame(()=>{te>=0&&y.value?.scrollToIndex(te)})}M&&(H.value=null)}),he(h,(M,te)=>{k.value||c.value&&!te.length&&M.length&&(k.value=!0)}),Oe(()=>{const M=!!(!e.hideNoData||T.value.length||o["prepend-item"]||o["append-item"]||o["no-data"]),te=p.value.length>0,xe=de.filterProps(e);return t(de,oe({ref:u},xe,{modelValue:w.value,"onUpdate:modelValue":J=>w.value=J,focused:c.value,"onUpdate:focused":J=>c.value=J,validationValue:p.externalValue,counterValue:A.value,dirty:te,class:["v-combobox",{"v-combobox--active-menu":k.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!R.value,"v-combobox--selecting-index":v.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:L.isReadonly.value,placeholder:te?void 0:e.placeholder,"onClick:clear":me,"onMousedown:control":At,onKeydown:ze,onPaste:_t,"aria-expanded":ee.value,"aria-controls":we.value}),{...o,default:()=>a(se,null,[t(Ga,oe({id:F.value,ref:$,modelValue:k.value,"onUpdate:modelValue":J=>k.value=J,activator:"parent",contentClass:"v-combobox__content",disabled:ae.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:Pt,onAfterLeave:Tt},e.menuProps),{default:()=>[M&&t(Ft,oe({ref:_,filterable:!0,selected:He.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:J=>J.preventDefault(),selectable:!0,onKeydown:_e,onFocusin:Hl,onFocusout:ql,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},E,e.listProps),{default:()=>[o["prepend-item"]?.(),!T.value.length&&!e.hideNoData&&(o["no-data"]?.()??t(Qe,{key:"no-data",title:i(e.noDataText)},null)),t(Ua,{ref:y,renderless:!0,items:T.value,itemKey:"value"},{default:J=>{let{item:le,index:be,itemRef:ct}=J;const lt=oe(le.props,{ref:ct,key:le.value,active:Y.value&&be===0?!0:void 0,onClick:()=>Fe(le,null)});return le.type==="divider"?o.divider?.({props:le.raw,index:be})??t(pe,oe(le.props,{key:`divider-${be}`}),null):le.type==="subheader"?o.subheader?.({props:le.raw,index:be})??t(Ba,oe(le.props,{key:`subheader-${be}`}),null):o.item?.({item:le,index:be,props:lt})??t(Qe,oe(lt,{role:"option"}),{prepend:at=>{let{isSelected:Ae}=at;return a(se,null,[e.multiple&&!e.hideSelected?t(st,{key:le.value,modelValue:Ae,ripple:!1,tabindex:"-1",onClick:Kl=>Kl.preventDefault()},null):void 0,le.props.prependAvatar&&t(et,{image:le.props.prependAvatar},null),le.props.prependIcon&&t(O,{icon:le.props.prependIcon},null)])},title:()=>V.value?le.title:Ra("v-combobox",le.title,f(le)?.title)})}}),o["append-item"]?.()]})]}),p.value.map((J,le)=>{function be(Ae){Ae.stopPropagation(),Ae.preventDefault(),Fe(J,!1)}const ct=oe(ce.filterProps(J.props),{"onClick:close":be,onKeydown(Ae){Ae.key!=="Enter"&&Ae.key!==" "||(Ae.preventDefault(),Ae.stopPropagation(),be(Ae))},onMousedown(Ae){Ae.preventDefault(),Ae.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),lt=K.value?!!o.chip:!!o.selection,at=lt?pa(K.value?o.chip({item:J,index:le,props:ct}):o.selection({item:J,index:le})):void 0;if(!(lt&&!at))return a("div",{key:J.value,class:U(["v-combobox__selection",le===v.value&&["v-combobox__selection--selected",s.value]]),style:ve(le===v.value?C.value:{})},[K.value?o.chip?t(ba,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:J.title}}},{default:()=>[at]}):t(ce,oe({key:"chip",closable:e.closableChips,size:"small",text:J.title,disabled:J.props.disabled},ct),null):at??a("span",{class:"v-combobox__selection-text"},[J.title,e.multiple&&le<p.value.length-1&&a("span",{class:"v-combobox__selection-comma"},[I(",")])])])})]),"append-inner":function(){for(var J=arguments.length,le=new Array(J),be=0;be<J;be++)le[be]=arguments[be];return a(se,null,[o["append-inner"]?.(...le),(!e.hideNoData||e.items.length)&&e.menuIcon?t(O,{class:"v-combobox__menu-icon",color:u.value?.fieldIconColor,icon:e.menuIcon,onMousedown:$t,onClick:ga,"aria-label":Ee.value,title:Ee.value,tabindex:"-1"},null):void 0])}})}),ca({isFocused:c,isPristine:V,menu:k,search:w,selectionIndex:v,filteredItems:m,select:Fe},u)}}),Qs={class:"d-flex align-center justify-space-between"},Xs={class:"d-flex align-center"},Ys={class:"mt-6 d-flex align-center flex-wrap gap-4"},ei={class:"text-caption font-weight-bold text-grey"},ti={class:"font-weight-bold text-grey-darken-3"},li={class:"text-body-2 text-grey-darken-1"},ai={class:"py-8 text-center"},oi={key:1},ni={key:0,class:"d-flex flex-column align-center justify-center py-12 text-center"},si={class:"empty-state-icon mb-6",style:{width:"72px",height:"72px","background-color":"#eceff1","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center"}},ii={class:"d-flex"},ri={class:"pa-3 flex-grow-1"},di={class:"d-flex justify-space-between align-start mb-1"},ui={class:"text-subtitle-2 font-weight-bold text-grey-darken-3"},ci={class:"text-caption text-grey-darken-1"},mi={class:"d-flex justify-space-between align-center"},vi={class:"text-caption text-grey font-weight-medium"},fi={class:"text-h6 font-weight-bold text-blue-grey-darken-4"},qe="/api/config/catalogs",gi={__name:"ProcessorConfig",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const n=e,{isMobileApp:o}=Ie(),i=d,u=j({get:()=>n.modelValue,set:m=>i("update:modelValue",m)}),c=P([]),V=P([]),x=P([]),$=P(!1),y=P(""),v=P(null),g=P(null),h=[{title:"ID",key:"Id",align:"start",width:"80px"},{title:"MARCA",key:"Marca",align:"start",width:"120px"},{title:"TIPO",key:"Tipo",align:"start"},{title:"GENERACIÓN",key:"Generacion",align:"start"},{title:"ESTADO",key:"Estado",align:"end",width:"120px"},{title:"",key:"actions",align:"end",sortable:!1,width:"50px"}],b=j(()=>{let m=x.value.map(f=>{const T=V.value.find(q=>q.Id===f.TipoId),ae=T?c.value.find(q=>q.Id===T.MarcaId):null;return{Id:f.Id,Generacion:f.Nombre,Tipo:T?T.Nombre:"Sin Tipo",TipoId:f.TipoId,Marca:ae?ae.Nombre:"Sin Marca",MarcaId:ae?ae.Id:null,Raw:f,Level:"generacion"}});return v.value&&(m=m.filter(f=>f.MarcaId===v.value)),g.value&&(m=m.filter(f=>f.TipoId===g.value)),m}),r=P(!1),s=P(!1),C=P(!1),p=P({Id:null,Generacion:"",Marca:"",Tipo:""}),L=j(()=>{const m=c.value.find(f=>f.Nombre===p.value.Marca);return m?V.value.filter(f=>f.MarcaId===m.Id):[]}),K=j(()=>{const m=c.value.find(T=>T.Nombre===p.value.Marca);if(!m)return[];const f=V.value.find(T=>T.Nombre===p.value.Tipo&&T.MarcaId===m.Id);return f?x.value.filter(T=>T.TipoId===f.Id):[]});async function R(){$.value=!0;try{const[m,f,T]=await Promise.all([Q.get(`${qe}/marcas_procesador`,{withCredentials:!0}),Q.get(`${qe}/tipos_procesador`,{withCredentials:!0}),Q.get(`${qe}/generaciones_procesador`,{withCredentials:!0})]);c.value=m.data,V.value=f.data,x.value=T.data}catch(m){console.error("Error loading data",m)}finally{$.value=!1}}function W(m){const f=(m||"").toLowerCase();return f.includes("intel")?"blue":f.includes("amd")?"red":f.includes("apple")?"grey":"blue-grey"}function H(){C.value=!1,p.value={Id:null,Generacion:"",Marca:"",Tipo:""},r.value=!0}function w(m){C.value=!0,p.value={Id:m.Id,Generacion:m.Generacion,Tipo:m.Tipo,Marca:m.Marca},r.value=!0}async function A(){if(!p.value.Generacion||!p.value.Marca||!p.value.Tipo){alert("Por favor complete todos los campos");return}s.value=!0;try{let m=null;const f=c.value.find(k=>k.Nombre.toLowerCase()===p.value.Marca.toLowerCase());if(f)m=f.Id;else{const k=await Q.post(`${qe}/marcas_procesador`,{Nombre:p.value.Marca},{withCredentials:!0});await R();const F=c.value.find(ee=>ee.Nombre===p.value.Marca);F&&(m=F.Id)}if(!m)throw new Error("Error al procesar la Marca");let T=null;const ae=V.value.find(k=>k.Nombre.toLowerCase()===p.value.Tipo.toLowerCase()&&k.MarcaId===m);if(ae)T=ae.Id;else{await Q.post(`${qe}/tipos_procesador`,{Nombre:p.value.Tipo,MarcaId:m},{withCredentials:!0}),await R();const k=V.value.find(F=>F.Nombre===p.value.Tipo&&F.MarcaId===m);k&&(T=k.Id)}if(!T)throw new Error("Error al procesar el Tipo");const q={Nombre:p.value.Generacion,TipoId:T};C.value&&p.value.Id?await Q.put(`${qe}/generaciones_procesador/${p.value.Id}`,q,{withCredentials:!0}):await Q.post(`${qe}/generaciones_procesador`,q,{withCredentials:!0}),await R(),r.value=!1}catch(m){alert("Error al guardar: "+(m.response?.data?.message||m.message))}finally{s.value=!1}}return he(u,m=>{m&&R()}),(m,f)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":f[10]||(f[10]=T=>u.value=T),fullscreen:S(o),"max-width":S(o)?"100%":"900px",scrollable:"",transition:"dialog-bottom-transition"},{default:l(()=>[t(X,{class:"bg-grey-lighten-5 rounded-xl",height:S(o)?"100%":"600"},{default:l(()=>[a("div",{class:U([S(o)?"px-4 py-3":"px-8 pt-6 pb-6","bg-white elevation-0 border-bottom"])},[a("div",Qs,[a("div",Xs,[a("div",{class:"header-icon-box mr-4 bg-blue-grey-lighten-5",style:ve(S(o)?"width: 40px; height: 40px;":"")},[t(O,{color:"blue-grey-darken-1",size:S(o)?24:28},{default:l(()=>[...f[11]||(f[11]=[I("mdi-cpu-64-bit",-1)])]),_:1},8,["size"])],4),a("div",null,[a("h2",{class:U([S(o)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3 mb-0"])},"Procesadores",2),f[12]||(f[12]=a("p",{class:"text-caption text-grey"},"Gestiona las especificaciones de CPUs disponibles.",-1))])]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:f[0]||(f[0]=T=>u.value=!1)})]),a("div",Ys,[a("div",{style:ve(S(o)?"width: 100%;":"width: 280px;")},[t(de,{modelValue:y.value,"onUpdate:modelValue":f[1]||(f[1]=T=>y.value=T),"prepend-inner-icon":"mdi-magnify",placeholder:"Buscar modelo...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg search-input"},null,8,["modelValue"])],4),a("div",{style:ve(S(o)?"width: 100%;":"width: 200px;")},[t(Re,{modelValue:v.value,"onUpdate:modelValue":f[2]||(f[2]=T=>v.value=T),items:c.value,"item-title":"Nombre","item-value":"Id",placeholder:"Todas las Marcas",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])],4),a("div",{style:ve(S(o)?"width: 100%;":"width: 220px;")},[t(Re,{modelValue:g.value,"onUpdate:modelValue":f[3]||(f[3]=T=>g.value=T),items:V.value,"item-title":"Nombre","item-value":"Id",placeholder:"Todos los Tipos",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])],4),S(o)?ge("",!0):(D(),G(fe,{key:0})),t(z,{color:"#1e293b",block:S(o),class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:H},{default:l(()=>[...f[13]||(f[13]=[I(" Agregar ",-1)])]),_:1},8,["block"])])],2),t(ut,{fluid:"",class:U(S(o)?"pa-4":"pa-8")},{default:l(()=>[S(o)?(D(),Z("div",oi,[b.value.length===0?(D(),Z("div",ni,[a("div",si,[t(O,{size:"36",color:"blue-grey-lighten-2"},{default:l(()=>[...f[19]||(f[19]=[I("mdi-cpu-64-bit",-1)])]),_:1})]),f[21]||(f[21]=a("h3",{class:"text-subtitle-1 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron procesadores",-1)),t(z,{color:"blue-grey-darken-3",variant:"tonal",class:"text-capitalize rounded-lg","prepend-icon":"mdi-plus",onClick:H},{default:l(()=>[...f[20]||(f[20]=[I(" Agregar nuevo ",-1)])]),_:1})])):(D(),G(re,{key:1,dense:""},{default:l(()=>[(D(!0),Z(se,null,ke(b.value,T=>(D(),G(B,{cols:"12",key:T.Id},{default:l(()=>[t(X,{hover:"",onClick:ae=>w(T),class:"border-thin elevation-0 rounded-lg"},{default:l(()=>[a("div",ii,[a("div",{class:U(`bg-${W(T.Marca)}`),style:{width:"4px"}},null,2),a("div",ri,[a("div",di,[a("div",null,[a("div",ui,N(T.Generacion),1),a("div",ci,N(T.Tipo),1)]),t(ce,{size:"x-small",color:W(T.Marca),variant:"flat",class:U(["font-weight-bold",`bg-${W(T.Marca)}-lighten-5 text-${W(T.Marca)}-darken-2`])},{default:l(()=>[I(N(T.Marca),1)]),_:2},1032,["color","class"])]),t(pe,{class:"my-2 border-opacity-50"}),a("div",mi,[a("span",vi,"ID: "+N(String(T.Id).padStart(3,"0")),1),t(ce,{color:"emerald",class:"bg-green-lighten-5 text-green-darken-1 font-weight-bold",size:"x-small",variant:"flat"},{default:l(()=>[...f[22]||(f[22]=[I(" Activo ",-1)])]),_:1})])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])):(D(),G(X,{key:0,class:"rounded-lg border-thin elevation-0 overflow-hidden"},{default:l(()=>[t(tt,{headers:h,items:b.value,search:y.value,loading:$.value,hover:"",class:"header-bg"},{"item.Id":l(({item:T})=>[a("span",ei,N(String(T.Id).padStart(3,"0")),1)]),"item.Marca":l(({item:T})=>[t(ce,{size:"small",color:W(T.Marca),variant:"flat",class:U(["font-weight-bold",`bg-${W(T.Marca)}-lighten-5 text-${W(T.Marca)}-darken-2`])},{default:l(()=>[I(N(T.Marca),1)]),_:2},1032,["color","class"])]),"item.Tipo":l(({item:T})=>[a("span",ti,N(T.Tipo),1)]),"item.Generacion":l(({item:T})=>[a("span",li,N(T.Generacion),1)]),"item.Estado":l(({item:T})=>[t(ce,{color:"emerald",class:"bg-green-lighten-5 text-green-darken-1 font-weight-bold",size:"small",variant:"flat"},{prepend:l(()=>[t(O,{size:"8",class:"mr-1",color:"success"},{default:l(()=>[...f[14]||(f[14]=[I("mdi-circle",-1)])]),_:1})]),default:l(()=>[f[15]||(f[15]=I(" Activo ",-1))]),_:1})]),"item.actions":l(({item:T})=>[t(z,{icon:"",variant:"text",size:"small",color:"grey",onClick:ae=>w(T)},{default:l(()=>[t(O,{size:"18"},{default:l(()=>[...f[16]||(f[16]=[I("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"])]),"no-data":l(()=>[a("div",ai,[t(O,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:l(()=>[...f[17]||(f[17]=[I("mdi-cpu-64-bit",-1)])]),_:1}),f[18]||(f[18]=a("div",{class:"text-grey"},"No hay datos disponibles",-1))])]),_:1},8,["items","search","loading"])]),_:1}))]),_:1},8,["class"])]),_:1},8,["height"]),t(ue,{modelValue:r.value,"onUpdate:modelValue":f[9]||(f[9]=T=>r.value=T),"max-width":"450",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:l(()=>[a("div",null,[a("span",fi,N(C.value?"Editar Procesador":"Nuevo Procesador"),1),f[23]||(f[23]=a("p",{class:"text-caption text-grey mt-1"},"Registra un nuevo modelo de CPU.",-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:f[4]||(f[4]=T=>r.value=!1)})]),_:1}),t(pe,{class:"mx-4 opacity-10 mb-4"}),t(ie,{class:"px-4 py-0"},{default:l(()=>[t(De,{onSubmit:Ve(A,["prevent"])},{default:l(()=>[t(re,{"no-gutters":""},{default:l(()=>[t(B,{cols:"12",class:"mb-4"},{default:l(()=>[f[24]||(f[24]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"MARCA"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe para crear")],-1)),t(Ze,{"model-value":p.value.Marca,"onUpdate:modelValue":f[5]||(f[5]=T=>p.value.Marca=T?.toUpperCase()??""),items:c.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. INTEL",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5"},null,8,["model-value","items"])]),_:1}),t(B,{cols:"12",class:"mb-4"},{default:l(()=>[f[25]||(f[25]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"TIPO (FAMILIA)"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Vinculado a la Marca")],-1)),t(Ze,{"model-value":p.value.Tipo,"onUpdate:modelValue":f[6]||(f[6]=T=>p.value.Tipo=T?.toUpperCase()??""),items:L.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. CORE I9",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5",disabled:!p.value.Marca},null,8,["model-value","items","disabled"])]),_:1}),t(B,{cols:"12",class:"mb-2"},{default:l(()=>[f[26]||(f[26]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"GENERACIÓN"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Vinculado al Tipo")],-1)),t(Ze,{"model-value":p.value.Generacion,"onUpdate:modelValue":f[7]||(f[7]=T=>p.value.Generacion=T?.toUpperCase()??""),items:K.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 13TH GEN",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5",disabled:!p.value.Tipo},null,8,["model-value","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:f[8]||(f[8]=T=>r.value=!1)},{default:l(()=>[...f[27]||(f[27]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:A,loading:s.value},{default:l(()=>[t(O,{start:"",class:"mr-2"},{default:l(()=>[...f[28]||(f[28]=[I("mdi-content-save-outline",-1)])]),_:1}),f[29]||(f[29]=I(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]))}},pi=Te(gi,[["__scopeId","data-v-48a059ae"]]),bi={class:"d-flex align-center justify-space-between"},yi={class:"d-flex align-center"},xi={class:"mt-6 d-flex align-center flex-wrap gap-4"},hi={class:"text-body-2 text-grey-darken-1"},wi={key:1},ki={key:0,class:"d-flex flex-column align-center justify-center py-12 text-center"},Vi={class:"empty-state-icon mb-6",style:{width:"72px",height:"72px","background-color":"#e0f2f1","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center"}},Ci={class:"d-flex align-center pa-3"},Ii={class:"mr-3"},Si={class:"flex-grow-1",style:{"min-width":"0"}},Ai={class:"d-flex align-center mb-1"},$i={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 text-truncate mr-2"},_i={class:"text-caption text-grey"},Pi={class:"ml-2"},Ke="/api/config",Ti={__name:"RamConfig",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const n=e,{isMobileApp:o}=Ie(),i=d,u=j({get:()=>n.modelValue,set:q=>i("update:modelValue",q)}),c=P([]),V=P([]),x=P([]),$=P(!1),y=P(""),v=P(null),g=[{title:"TIPO",key:"Tipo",align:"start",width:"120px"},{title:"VELOCIDAD",key:"Velocidad",align:"start"},{title:"ESTADO",key:"Estado",align:"end",width:"120px"}],h=j(()=>{let q=x.value.map(k=>{const F=c.value.find(ee=>ee.Id===k.TipoRAMId);return{Id:k.Id,Velocidad:k.Nombre,Tipo:F?F.Nombre:"?",TipoId:k.TipoRAMId,Activo:k.Activo}});return v.value&&(q=q.filter(k=>k.TipoId===v.value)),q}),b=P(!1),r=P(!1),s=P({Tipo:"",Velocidad:""}),C=P(!1),p=P({Id:null,Tipo:"",Velocidad:"",Activo:!0}),L=P(!1),K=P(!1),R=P(""),W=j(()=>{const q=c.value.find(k=>k.Nombre===s.value.Tipo);return q?x.value.filter(k=>k.TipoRAMId===q.Id):[]});async function H(){$.value=!0;try{const[q,k,F]=await Promise.all([Q.get(`${Ke}/tipos_ram`,{withCredentials:!0}),Q.get(`${Ke}/capacidades_ram`,{withCredentials:!0}),Q.get(`${Ke}/velocidades_ram`,{withCredentials:!0})]);c.value=q.data,V.value=k.data,x.value=F.data}catch(q){console.error("Error loading RAM data",q)}finally{$.value=!1}}function w(){s.value={Tipo:"",Velocidad:""},b.value=!0}function A(q,{item:k}){p.value={Id:k.Id,Tipo:k.Tipo,Velocidad:k.Velocidad,Activo:k.Activo},C.value=!0}async function m(){if(p.value.Velocidad){r.value=!0;try{await Q.put(`${Ke}/velocidades_ram/${p.value.Id}`,{Nombre:p.value.Velocidad,Activo:p.value.Activo},{withCredentials:!0}),await H(),C.value=!1}catch(q){alert("Error al actualizar: "+(q.response?.data?.message||q.message))}finally{r.value=!1}}}function f(){R.value="",L.value=!0}async function T(){if(R.value){K.value=!0;try{if(V.value.find(k=>k.Nombre===R.value)){alert("Esa capacidad ya existe"),K.value=!1;return}await Q.post(`${Ke}/capacidades_ram`,{Nombre:R.value},{withCredentials:!0}),await H(),L.value=!1}catch(q){alert("Error al guardar capacidad: "+(q.response?.data?.message||q.message))}finally{K.value=!1}}}async function ae(){if(!s.value.Tipo||!s.value.Velocidad){alert("Por favor complete Tipo y Velocidad");return}r.value=!0;try{let q=null;const k=c.value.find(ee=>ee.Nombre===s.value.Tipo);if(k)q=k.Id;else{const ee=await Q.post(`${Ke}/tipos_ram`,{Nombre:s.value.Tipo},{withCredentials:!0});await H();const we=c.value.find(Ee=>Ee.Nombre===s.value.Tipo);we&&(q=we.Id)}x.value.find(ee=>ee.Nombre===s.value.Velocidad&&ee.TipoRAMId===q)?alert("Esta velocidad ya existe para este tipo de RAM"):await Q.post(`${Ke}/velocidades_ram`,{Nombre:s.value.Velocidad,TipoRAMId:q},{withCredentials:!0}),await H(),b.value=!1}catch(q){alert("Error al guardar: "+(q.response?.data?.message||q.message))}finally{r.value=!1}}return Me(()=>{u.value&&H()}),he(u,q=>{q&&H()}),(q,k)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":k[20]||(k[20]=F=>u.value=F),fullscreen:S(o),"max-width":S(o)?"100%":"900px",scrollable:"",transition:"dialog-bottom-transition"},{default:l(()=>[t(X,{class:"bg-grey-lighten-5 rounded-xl",height:S(o)?"100%":"600"},{default:l(()=>[a("div",{class:U([S(o)?"px-4 py-3":"px-8 pt-6 pb-6","bg-white elevation-0 border-bottom"])},[a("div",bi,[a("div",yi,[a("div",{class:"header-icon-box mr-4 bg-teal-lighten-5",style:ve(S(o)?"width: 40px; height: 40px;":"")},[t(O,{color:"teal-darken-1",size:S(o)?24:28},{default:l(()=>[...k[21]||(k[21]=[I("mdi-memory",-1)])]),_:1},8,["size"])],4),a("div",null,[a("h2",{class:U([S(o)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3 mb-0"])},"Memoria RAM",2),k[22]||(k[22]=a("p",{class:"text-caption text-grey"},"Gestiona tipos, capacidades y velocidades de memoria.",-1))])]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:k[0]||(k[0]=F=>u.value=!1)})]),a("div",xi,[a("div",{style:ve(S(o)?"width: 100%;":"width: 280px;")},[t(de,{modelValue:y.value,"onUpdate:modelValue":k[1]||(k[1]=F=>y.value=F),"prepend-inner-icon":"mdi-magnify",placeholder:"Buscar memoria...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg search-input"},null,8,["modelValue"])],4),a("div",{style:ve(S(o)?"width: 100%;":"width: 200px;")},[t(Re,{modelValue:v.value,"onUpdate:modelValue":k[2]||(k[2]=F=>v.value=F),items:c.value,"item-title":"Nombre","item-value":"Id",placeholder:"Todos los Tipos",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])],4),S(o)?ge("",!0):(D(),G(fe,{key:0})),a("div",{class:U(S(o)?"d-flex w-100 gap-2":"d-flex")},[t(z,{color:"blue-grey-lighten-4",variant:"flat",class:U([S(o)?"flex-grow-1":"mr-2","text-blue-grey-darken-4 text-capitalize rounded-lg px-4"]),height:"40","prepend-icon":"mdi-database-plus",elevation:"0",onClick:f},{default:l(()=>[...k[23]||(k[23]=[I(" Capacidad ",-1)])]),_:1},8,["class"]),t(z,{color:"#1e293b",class:U([S(o)?"flex-grow-1":"","text-white text-capitalize rounded-lg px-6"]),height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:w},{default:l(()=>[...k[24]||(k[24]=[I(" RAM ",-1)])]),_:1},8,["class"])],2)])],2),t(ut,{fluid:"",class:U(S(o)?"pa-4":"pa-8")},{default:l(()=>[S(o)?(D(),Z("div",wi,[h.value.length===0?(D(),Z("div",ki,[a("div",Vi,[t(O,{size:"36",color:"teal-lighten-2"},{default:l(()=>[...k[26]||(k[26]=[I("mdi-memory",-1)])]),_:1})]),k[28]||(k[28]=a("h3",{class:"text-subtitle-1 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron memorias",-1)),t(z,{color:"teal-darken-3",variant:"tonal",class:"text-capitalize rounded-lg","prepend-icon":"mdi-plus",onClick:w},{default:l(()=>[...k[27]||(k[27]=[I(" Agregar nueva ",-1)])]),_:1})])):(D(),G(re,{key:1,dense:""},{default:l(()=>[(D(!0),Z(se,null,ke(h.value,F=>(D(),G(B,{cols:"12",key:F.Id},{default:l(()=>[t(X,{hover:"",onClick:ee=>A(null,{item:F}),class:"border-thin elevation-0 rounded-lg"},{default:l(()=>[a("div",Ci,[a("div",Ii,[t(et,{color:"teal-lighten-5",size:"40",class:"rounded-lg"},{default:l(()=>[t(O,{color:"teal-darken-1",size:"20"},{default:l(()=>[...k[29]||(k[29]=[I("mdi-memory",-1)])]),_:1})]),_:1})]),a("div",Si,[a("div",Ai,[a("span",$i,N(F.Velocidad),1),t(ce,{size:"x-small",color:"teal",variant:"flat",class:"font-weight-bold bg-teal-lighten-5 text-teal-darken-2"},{default:l(()=>[I(N(F.Tipo),1)]),_:2},1024)]),a("div",_i," ID: "+N(String(F.Id).padStart(3,"0")),1)]),a("div",Pi,[t(ce,{size:"x-small",color:F.Activo?"success":"grey",variant:"flat",class:"font-weight-bold"},{default:l(()=>[I(N(F.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color"])])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])):(D(),G(X,{key:0,class:"rounded-lg border-thin elevation-0 overflow-hidden"},{default:l(()=>[t(tt,{headers:g,items:h.value,search:y.value,loading:$.value,hover:"",class:"header-bg cursor-pointer","onClick:row":A},{"item.Tipo":l(({item:F})=>[t(ce,{size:"small",color:"teal",variant:"flat",class:"font-weight-bold bg-teal-lighten-5 text-teal-darken-2"},{default:l(()=>[I(N(F.Tipo),1)]),_:2},1024)]),"item.Velocidad":l(({item:F})=>[a("span",hi,N(F.Velocidad),1)]),"item.Estado":l(({item:F})=>[t(ce,{color:F.Activo?"emerald":"grey",class:U([F.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:l(()=>[t(O,{size:"8",class:"mr-1",color:F.Activo?"success":"grey"},{default:l(()=>[...k[25]||(k[25]=[I("mdi-circle",-1)])]),_:1},8,["color"])]),default:l(()=>[I(" "+N(F.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),_:1},8,["items","search","loading"])]),_:1}))]),_:1},8,["class"])]),_:1},8,["height"]),t(ue,{modelValue:b.value,"onUpdate:modelValue":k[7]||(k[7]=F=>b.value=F),"max-width":"450",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:l(()=>[k[30]||(k[30]=a("div",null,[a("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nueva Velocidad RAM "),a("p",{class:"text-caption text-grey mt-1"},"Registra Tipo y Velocidad de bus.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:k[3]||(k[3]=F=>b.value=!1)})]),_:1}),t(pe,{class:"mx-4 opacity-10 mb-4"}),t(ie,{class:"px-4 py-0"},{default:l(()=>[t(De,{onSubmit:Ve(ae,["prevent"])},{default:l(()=>[t(re,{"no-gutters":""},{default:l(()=>[t(B,{cols:"12",class:"mb-4"},{default:l(()=>[k[31]||(k[31]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"TIPO"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe (ej. DDR4)")],-1)),t(Ze,{"model-value":s.value.Tipo,"onUpdate:modelValue":k[4]||(k[4]=F=>s.value.Tipo=F?.toUpperCase()??""),items:c.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. DDR4",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5"},null,8,["model-value","items"])]),_:1}),t(B,{cols:"12",class:"mb-2"},{default:l(()=>[k[32]||(k[32]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"VELOCIDAD"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Vinculada al Tipo (ej. 3200MHZ)")],-1)),t(Ze,{"model-value":s.value.Velocidad,"onUpdate:modelValue":k[5]||(k[5]=F=>s.value.Velocidad=F?.toUpperCase()??""),items:W.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 3200MHZ",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5",disabled:!s.value.Tipo},null,8,["model-value","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:k[6]||(k[6]=F=>b.value=!1)},{default:l(()=>[...k[33]||(k[33]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:ae,loading:r.value},{default:l(()=>[t(O,{start:"",class:"mr-2"},{default:l(()=>[...k[34]||(k[34]=[I("mdi-content-save-outline",-1)])]),_:1}),k[35]||(k[35]=I(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ue,{modelValue:C.value,"onUpdate:modelValue":k[14]||(k[14]=F=>C.value=F),"max-width":"450",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:l(()=>[k[36]||(k[36]=a("div",null,[a("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Editar Velocidad "),a("p",{class:"text-caption text-grey mt-1"},"Modifica la velocidad o cambia su estado.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:k[8]||(k[8]=F=>C.value=!1)})]),_:1}),t(pe,{class:"mx-4 opacity-10 mb-4"}),t(ie,{class:"px-4 py-0"},{default:l(()=>[t(De,{onSubmit:Ve(m,["prevent"])},{default:l(()=>[t(re,{"no-gutters":""},{default:l(()=>[t(B,{cols:"12",class:"mb-4"},{default:l(()=>[k[37]||(k[37]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"TIPO")],-1)),t(de,{modelValue:p.value.Tipo,"onUpdate:modelValue":k[9]||(k[9]=F=>p.value.Tipo=F),variant:"outlined",density:"comfortable","bg-color":"grey-lighten-4",class:"rounded-lg text-uppercase","hide-details":"auto",readonly:""},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",class:"mb-4"},{default:l(()=>[k[38]||(k[38]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"VELOCIDAD")],-1)),t(de,{modelValue:p.value.Velocidad,"onUpdate:modelValue":[k[10]||(k[10]=F=>p.value.Velocidad=F),k[11]||(k[11]=F=>p.value.Velocidad=F?.toUpperCase()??"")],placeholder:"Ej. 3200MHZ",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",class:"mb-2"},{default:l(()=>[t(Ge,{modelValue:p.value.Activo,"onUpdate:modelValue":k[12]||(k[12]=F=>p.value.Activo=F),color:"success",label:"Activo","hide-details":"",inset:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:k[13]||(k[13]=F=>C.value=!1)},{default:l(()=>[...k[39]||(k[39]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:m,loading:r.value},{default:l(()=>[t(O,{start:"",class:"mr-2"},{default:l(()=>[...k[40]||(k[40]=[I("mdi-content-save-outline",-1)])]),_:1}),k[41]||(k[41]=I(" Actualizar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ue,{modelValue:L.value,"onUpdate:modelValue":k[19]||(k[19]=F=>L.value=F),"max-width":"400",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:l(()=>[k[42]||(k[42]=a("div",null,[a("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nueva Capacidad "),a("p",{class:"text-caption text-grey mt-1"},"Añade una capacidad global.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:k[15]||(k[15]=F=>L.value=!1)})]),_:1}),t(pe,{class:"mx-4 opacity-10 mb-4"}),t(ie,{class:"px-4 py-0"},{default:l(()=>[t(De,{onSubmit:Ve(T,["prevent"])},{default:l(()=>[t(re,{"no-gutters":""},{default:l(()=>[t(B,{cols:"12",class:"mb-2"},{default:l(()=>[k[43]||(k[43]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"CAPACIDAD"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe (ej. 64GB)")],-1)),t(Ze,{modelValue:R.value,"onUpdate:modelValue":[k[16]||(k[16]=F=>R.value=F),k[17]||(k[17]=F=>R.value=F?.toUpperCase()??"")],items:V.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 64GB",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:k[18]||(k[18]=F=>L.value=!1)},{default:l(()=>[...k[44]||(k[44]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:T,loading:K.value},{default:l(()=>[t(O,{start:"",class:"mr-2"},{default:l(()=>[...k[45]||(k[45]=[I("mdi-content-save-outline",-1)])]),_:1}),k[46]||(k[46]=I(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]))}},Di=Te(Ti,[["__scopeId","data-v-d0e699b4"]]),Ni=ye({color:String,...sl(),...jt(),...Ca(),...nl(),...Va(),...ka(),...el(),...Lt(),...Ot()},"VSheet"),Xt=Ne()({name:"VSheet",props:Ni(),setup(e,d){let{slots:n}=d;const{themeClasses:o}=Mt(e),{backgroundColorClasses:i,backgroundColorStyles:u}=ll(()=>e.color),{borderClasses:c}=Pa(e),{dimensionStyles:V}=ya(e),{elevationClasses:x}=Ta(e),{locationStyles:$}=xa(e),{positionClasses:y}=ha(e),{roundedClasses:v}=wa(e);return Oe(()=>t(e.tag,{class:U(["v-sheet",o.value,i.value,c.value,x.value,y.value,v.value,e.class]),style:ve([u.value,V.value,$.value,e.style])},n)),{}}}),Ei={class:"d-flex align-center justify-space-between"},zi={class:"d-flex align-center"},Fi={class:"mt-6 d-flex align-center flex-wrap gap-4"},Ui={class:"d-flex flex-wrap gap-1"},Ri={key:0,class:"text-caption text-grey"},Mi={class:"d-flex flex-wrap gap-1"},Oi={key:0,class:"text-caption text-grey"},Li={key:1},ji={key:0,class:"d-flex flex-column align-center justify-center py-12 text-center"},Bi={class:"empty-state-icon mb-6",style:{width:"72px",height:"72px","background-color":"#e8eaf6","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center"}},Gi={class:"d-flex align-center pa-3"},Hi={class:"mr-3"},qi={class:"flex-grow-1",style:{"min-width":"0"}},Ki={class:"d-flex align-center mb-1"},Wi={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 text-truncate mr-2"},Zi={class:"d-flex flex-wrap gap-1 mt-1"},Ji={key:0,class:"text-caption text-grey mr-1"},Qi={key:1,class:"text-caption text-grey"},Xi={key:2,class:"text-caption text-grey font-italic"},Yi={class:"ml-2"},er={class:"text-h6 font-weight-bold text-blue-grey-darken-4"},tr={class:"mb-6"},lr={class:"d-flex align-center justify-space-between mb-2"},ar={class:"d-flex align-center justify-space-between mb-2"},or={class:"text-h6 font-weight-bold text-blue-grey-darken-4"},Le="/api/config",nr={__name:"StorageConfig",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const n=e,{isMobileApp:o}=Ie(),i=d,u=j({get:()=>n.modelValue,set:Y=>i("update:modelValue",Y)}),c=P([]),V=P([]),x=P([]),$=P([]),y=P(!1),v=P(""),g=[{title:"TIPO",key:"Tipo",align:"start",width:"150px"},{title:"PROTOCOLOS",key:"Protocolos",align:"start"},{title:"FACTORES DE FORMA",key:"Factores",align:"start"},{title:"ESTADO",key:"Estado",align:"end",width:"120px"}],h=j(()=>{let Y=c.value.map(_=>({Id:_.Id,Tipo:_.Nombre,Activo:_.Activo,Protocolos:x.value.filter(E=>E.TipoId===_.Id),Factores:$.value.filter(E=>E.TipoId===_.Id)}));if(v.value){const _=v.value.toUpperCase();Y=Y.filter(E=>E.Tipo.includes(_)||E.Protocolos.some(me=>me.Nombre.includes(_))||E.Factores.some(me=>me.Nombre.includes(_)))}return Y}),b=P(!1),r=P(!1),s=P(""),C=P(!1),p=P({Id:null,Tipo:"",Protocolos:[],Factores:[]}),L=P(!1),K=P(!1),R=P(""),W=P(!1),H=P("protocol"),w=P(""),A=P(!1);async function m(){y.value=!0;try{const[Y,_,E,me]=await Promise.all([Q.get(`${Le}/tipos_almacenamiento`,{withCredentials:!0}),Q.get(`${Le}/capacidades_almacenamiento`,{withCredentials:!0}),Q.get(`${Le}/protocolos_almacenamiento`,{withCredentials:!0}),Q.get(`${Le}/factores_forma_almacenamiento`,{withCredentials:!0})]);c.value=Y.data,V.value=_.data,x.value=E.data,$.value=me.data}catch(Y){console.error("Error loading Storage data",Y)}finally{y.value=!1}}function f(){s.value="",b.value=!0}async function T(){if(s.value){r.value=!0;try{await Q.post(`${Le}/tipos_almacenamiento`,{Nombre:s.value},{withCredentials:!0}),await m(),b.value=!1}catch(Y){alert("Error: "+Y.message)}finally{r.value=!1}}}function ae(){R.value="",L.value=!0}async function q(){if(R.value){K.value=!0;try{await Q.post(`${Le}/capacidades_almacenamiento`,{Nombre:R.value},{withCredentials:!0}),await m(),L.value=!1}catch(Y){alert("Error: "+Y.message)}finally{K.value=!1}}}function k(Y,{item:_}){p.value={Id:_.Id,Tipo:_.Tipo,Protocolos:_.Protocolos,Factores:_.Factores},C.value=!0}function F(){H.value="protocol",w.value="",W.value=!0}function ee(){H.value="factor",w.value="",W.value=!0}async function we(){if(w.value){A.value=!0;try{const Y=H.value==="protocol"?"protocolos_almacenamiento":"factores_forma_almacenamiento";await Q.post(`${Le}/${Y}`,{Nombre:w.value,TipoId:p.value.Id},{withCredentials:!0}),await m();const _=h.value.find(E=>E.Id===p.value.Id);_&&(p.value.Protocolos=_.Protocolos,p.value.Factores=_.Factores),W.value=!1}catch(Y){alert("Error: "+Y.message)}finally{A.value=!1}}}async function Ee(Y){try{await Q.put(`${Le}/protocolos_almacenamiento/${Y.Id}`,{Activo:Y.Activo},{withCredentials:!0})}catch(_){console.error(_),Y.Activo=!Y.Activo}}async function He(Y){try{await Q.put(`${Le}/factores_forma_almacenamiento/${Y.Id}`,{Activo:Y.Activo},{withCredentials:!0})}catch(_){console.error(_),Y.Activo=!Y.Activo}}return Me(()=>{m()}),(Y,_)=>(D(),G(ue,{modelValue:u.value,"onUpdate:modelValue":_[19]||(_[19]=E=>u.value=E),fullscreen:S(o),"max-width":S(o)?"100%":"1000px",scrollable:"",transition:"dialog-bottom-transition"},{default:l(()=>[t(X,{class:"bg-grey-lighten-5 rounded-xl",height:S(o)?"100%":"700"},{default:l(()=>[a("div",{class:U([S(o)?"px-4 py-3":"px-8 pt-6 pb-6","bg-white elevation-0 border-bottom"])},[a("div",Ei,[a("div",zi,[a("div",{class:"header-icon-box mr-4 bg-teal-lighten-5",style:ve(S(o)?"width: 40px; height: 40px;":"")},[t(O,{color:"teal-darken-1",size:S(o)?24:28},{default:l(()=>[..._[20]||(_[20]=[I("mdi-harddisk",-1)])]),_:1},8,["size"])],4),a("div",null,[a("h2",{class:U([S(o)?"text-subtitle-1":"text-h6","font-weight-bold text-grey-darken-3 mb-0"])},"Almacenamiento",2),_[21]||(_[21]=a("p",{class:"text-caption text-grey"},"Gestiona tipos, protocolos y factores de forma.",-1))])]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:_[0]||(_[0]=E=>u.value=!1)})]),a("div",Fi,[a("div",{style:ve(S(o)?"width: 100%;":"width: 280px;")},[t(de,{modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=E=>v.value=E),"prepend-inner-icon":"mdi-magnify",placeholder:"Buscar almacenamiento...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg search-input"},null,8,["modelValue"])],4),S(o)?ge("",!0):(D(),G(fe,{key:0})),a("div",{class:U(S(o)?"d-flex w-100 gap-2":"d-flex")},[t(z,{color:"blue-grey-lighten-4",variant:"flat",class:U([S(o)?"flex-grow-1":"mr-2","text-blue-grey-darken-4 text-capitalize rounded-lg px-4"]),height:"40","prepend-icon":"mdi-database-plus",elevation:"0",onClick:ae},{default:l(()=>[..._[22]||(_[22]=[I(" Capacidad ",-1)])]),_:1},8,["class"]),t(z,{color:"#1e293b",class:U([S(o)?"flex-grow-1":"","text-white text-capitalize rounded-lg px-6"]),height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:f},{default:l(()=>[..._[23]||(_[23]=[I(" Tipo ",-1)])]),_:1},8,["class"])],2)])],2),t(ut,{fluid:"",class:U(S(o)?"pa-4":"pa-8")},{default:l(()=>[S(o)?(D(),Z("div",Li,[h.value.length===0?(D(),Z("div",ji,[a("div",Bi,[t(O,{size:"36",color:"indigo-lighten-2"},{default:l(()=>[..._[25]||(_[25]=[I("mdi-harddisk",-1)])]),_:1})]),_[27]||(_[27]=a("h3",{class:"text-subtitle-1 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron tipos",-1)),t(z,{color:"indigo-darken-3",variant:"tonal",class:"text-capitalize rounded-lg","prepend-icon":"mdi-plus",onClick:f},{default:l(()=>[..._[26]||(_[26]=[I(" Agregar nuevo ",-1)])]),_:1})])):(D(),G(re,{key:1,dense:""},{default:l(()=>[(D(!0),Z(se,null,ke(h.value,E=>(D(),G(B,{cols:"12",key:E.Id},{default:l(()=>[t(X,{hover:"",onClick:me=>k(null,{item:E}),class:"border-thin elevation-0 rounded-lg"},{default:l(()=>[a("div",Gi,[a("div",Hi,[t(et,{color:"indigo-lighten-5",size:"40",class:"rounded-lg"},{default:l(()=>[t(O,{color:"indigo-darken-1",size:"20"},{default:l(()=>[..._[28]||(_[28]=[I("mdi-harddisk",-1)])]),_:1})]),_:1})]),a("div",qi,[a("div",Ki,[a("span",Wi,N(E.Tipo),1),t(ce,{size:"x-small",color:E.Activo?"success":"grey",variant:"flat",class:"font-weight-bold"},{default:l(()=>[I(N(E.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color"])]),a("div",Zi,[E.Protocolos.length>0?(D(),Z("span",Ji,N(E.Protocolos.length)+" Protocolos ",1)):ge("",!0),E.Factores.length>0?(D(),Z("span",Qi,N(E.Factores.length)+" Factores ",1)):ge("",!0),E.Protocolos.length===0&&E.Factores.length===0?(D(),Z("span",Xi," Sin configuración ")):ge("",!0)])]),a("div",Yi,[t(O,{color:"grey-lighten-1"},{default:l(()=>[..._[29]||(_[29]=[I("mdi-chevron-right",-1)])]),_:1})])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))])):(D(),G(X,{key:0,class:"rounded-lg border-thin elevation-0 overflow-hidden"},{default:l(()=>[t(tt,{headers:g,items:h.value,loading:y.value,hover:"",class:"header-bg cursor-pointer","onClick:row":k},{"item.Tipo":l(({item:E})=>[t(ce,{size:"small",color:"indigo",variant:"flat",class:"font-weight-bold bg-indigo-lighten-5 text-indigo-darken-2"},{default:l(()=>[I(N(E.Tipo),1)]),_:2},1024)]),"item.Protocolos":l(({item:E})=>[a("div",Ui,[(D(!0),Z(se,null,ke(E.Protocolos,me=>(D(),G(ce,{key:me.Id,size:"x-small",class:"mr-1 mb-1",color:me.Activo?"blue":"grey",variant:"tonal"},{default:l(()=>[I(N(me.Nombre),1)]),_:2},1032,["color"]))),128)),E.Protocolos.length===0?(D(),Z("span",Ri,"-")):ge("",!0)])]),"item.Factores":l(({item:E})=>[a("div",Mi,[(D(!0),Z(se,null,ke(E.Factores,me=>(D(),G(ce,{key:me.Id,size:"x-small",class:"mr-1 mb-1",color:me.Activo?"purple":"grey",variant:"tonal"},{default:l(()=>[I(N(me.Nombre),1)]),_:2},1032,["color"]))),128)),E.Factores.length===0?(D(),Z("span",Oi,"-")):ge("",!0)])]),"item.Estado":l(({item:E})=>[t(ce,{color:E.Activo?"emerald":"grey",class:U([E.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:l(()=>[t(O,{size:"8",class:"mr-1",color:E.Activo?"success":"grey"},{default:l(()=>[..._[24]||(_[24]=[I("mdi-circle",-1)])]),_:1},8,["color"])]),default:l(()=>[I(" "+N(E.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),_:1},8,["items","loading"])]),_:1}))]),_:1},8,["class"])]),_:1},8,["height"]),t(ue,{modelValue:b.value,"onUpdate:modelValue":_[6]||(_[6]=E=>b.value=E),"max-width":"500",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:l(()=>[_[30]||(_[30]=a("div",null,[a("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nuevo Tipo de Almacenamiento "),a("p",{class:"text-caption text-grey mt-1"},"Define un tipo base (ej. SSD, M.2).")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:_[2]||(_[2]=E=>b.value=!1)})]),_:1}),t(pe,{class:"mx-4 opacity-10 mb-4"}),t(ie,{class:"px-4 py-0"},{default:l(()=>[t(De,{onSubmit:Ve(T,["prevent"])},{default:l(()=>[t(re,{"no-gutters":""},{default:l(()=>[t(B,{cols:"12",class:"mb-4"},{default:l(()=>[_[31]||(_[31]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"NOMBRE DEL TIPO"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Ej. NVMe, SAS")],-1)),t(de,{modelValue:s.value,"onUpdate:modelValue":[_[3]||(_[3]=E=>s.value=E),_[4]||(_[4]=E=>s.value=E?.toUpperCase()??"")],placeholder:"Ej. NVMe",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:_[5]||(_[5]=E=>b.value=!1)},{default:l(()=>[..._[32]||(_[32]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:T,loading:r.value},{default:l(()=>[t(O,{start:"",class:"mr-2"},{default:l(()=>[..._[33]||(_[33]=[I("mdi-content-save-outline",-1)])]),_:1}),_[34]||(_[34]=I(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ue,{modelValue:C.value,"onUpdate:modelValue":_[9]||(_[9]=E=>C.value=E),"max-width":"600",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:l(()=>[a("div",null,[a("span",er," Configurar "+N(p.value.Tipo),1),_[35]||(_[35]=a("p",{class:"text-caption text-grey mt-1"},"Gestiona protocolos y factores de forma asociados.",-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:_[7]||(_[7]=E=>C.value=!1)})]),_:1}),t(pe,{class:"mx-4 opacity-10 mb-4"}),t(ie,{class:"px-4 py-0",style:{"max-height":"600px","overflow-y":"auto"}},{default:l(()=>[a("div",tr,[a("div",lr,[_[37]||(_[37]=a("label",{class:"text-subtitle-2 font-weight-bold text-blue-grey-darken-3"},"Protocolos",-1)),t(z,{size:"small",variant:"text",color:"primary","prepend-icon":"mdi-plus",onClick:F},{default:l(()=>[..._[36]||(_[36]=[I("Agregar",-1)])]),_:1})]),t(Xt,{border:"",class:"rounded-lg pa-0 overflow-hidden"},{default:l(()=>[t(Ft,{density:"compact",class:"py-0"},{default:l(()=>[(D(!0),Z(se,null,ke(p.value.Protocolos,E=>(D(),G(Qe,{key:E.Id,title:E.Nombre},{append:l(()=>[t(Ge,{modelValue:E.Activo,"onUpdate:modelValue":[me=>E.Activo=me,me=>Ee(E)],color:"success",density:"compact","hide-details":"",inset:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128)),p.value.Protocolos.length===0?(D(),G(Qe,{key:0},{default:l(()=>[..._[38]||(_[38]=[a("span",{class:"text-caption text-grey font-italic"},"No hay protocolos definidos",-1)])]),_:1})):ge("",!0)]),_:1})]),_:1})]),a("div",null,[a("div",ar,[_[40]||(_[40]=a("label",{class:"text-subtitle-2 font-weight-bold text-blue-grey-darken-3"},"Factores de Forma",-1)),t(z,{size:"small",variant:"text",color:"primary","prepend-icon":"mdi-plus",onClick:ee},{default:l(()=>[..._[39]||(_[39]=[I("Agregar",-1)])]),_:1})]),t(Xt,{border:"",class:"rounded-lg pa-0 overflow-hidden"},{default:l(()=>[t(Ft,{density:"compact",class:"py-0"},{default:l(()=>[(D(!0),Z(se,null,ke(p.value.Factores,E=>(D(),G(Qe,{key:E.Id,title:E.Nombre},{append:l(()=>[t(Ge,{modelValue:E.Activo,"onUpdate:modelValue":[me=>E.Activo=me,me=>He(E)],color:"success",density:"compact","hide-details":"",inset:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128)),p.value.Factores.length===0?(D(),G(Qe,{key:0},{default:l(()=>[..._[41]||(_[41]=[a("span",{class:"text-caption text-grey font-italic"},"No hay factores definidos",-1)])]),_:1})):ge("",!0)]),_:1})]),_:1})])]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"44",onClick:_[8]||(_[8]=E=>C.value=!1)},{default:l(()=>[..._[42]||(_[42]=[I(" Listo ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ue,{modelValue:W.value,"onUpdate:modelValue":_[13]||(_[13]=E=>W.value=E),"max-width":"400",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2"},{default:l(()=>[a("span",or," Nuevo "+N(H.value==="protocol"?"Protocolo":"Factor de Forma"),1)]),_:1}),t(ie,{class:"px-4 py-0"},{default:l(()=>[t(de,{modelValue:w.value,"onUpdate:modelValue":[_[10]||(_[10]=E=>w.value=E),_[11]||(_[11]=E=>w.value=E?.toUpperCase()??"")],placeholder:H.value==="protocol"?"Ej. SATA":"Ej. 2.5",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5",autofocus:""},null,8,["modelValue","placeholder"])]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"grey",onClick:_[12]||(_[12]=E=>W.value=!1)},{default:l(()=>[..._[43]||(_[43]=[I("Cancelar",-1)])]),_:1}),t(z,{color:"primary",variant:"flat",onClick:we,loading:A.value},{default:l(()=>[..._[44]||(_[44]=[I("Guardar",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ue,{modelValue:L.value,"onUpdate:modelValue":_[18]||(_[18]=E=>L.value=E),"max-width":"400",persistent:""},{default:l(()=>[t(X,{class:"rounded-xl pa-4"},{default:l(()=>[t($e,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:l(()=>[_[45]||(_[45]=a("div",null,[a("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nueva Capacidad "),a("p",{class:"text-caption text-grey mt-1"},"Añade una capacidad global.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:_[14]||(_[14]=E=>L.value=!1)})]),_:1}),t(pe,{class:"mx-4 opacity-10 mb-4"}),t(ie,{class:"px-4 py-0"},{default:l(()=>[t(De,{onSubmit:Ve(q,["prevent"])},{default:l(()=>[t(re,{"no-gutters":""},{default:l(()=>[t(B,{cols:"12",class:"mb-2"},{default:l(()=>[_[46]||(_[46]=a("div",{class:"d-flex justify-space-between align-center mb-1"},[a("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"CAPACIDAD"),a("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe (ej. 512GB)")],-1)),t(Ze,{modelValue:R.value,"onUpdate:modelValue":[_[15]||(_[15]=E=>R.value=E),_[16]||(_[16]=E=>R.value=E?.toUpperCase()??"")],items:V.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 512GB",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ce,{class:"px-4 pb-2 pt-4"},{default:l(()=>[t(fe),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:_[17]||(_[17]=E=>L.value=!1)},{default:l(()=>[..._[47]||(_[47]=[I(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:q,loading:K.value},{default:l(()=>[t(O,{start:"",class:"mr-2"},{default:l(()=>[..._[48]||(_[48]=[I("mdi-content-save-outline",-1)])]),_:1}),_[49]||(_[49]=I(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]))}},sr=Te(nr,[["__scopeId","data-v-b4261642"]]),ir={class:"w-100"},rr={class:"mb-6 mb-md-8"},dr={class:"text-caption text-grey mb-1"},ur={class:"mb-6 mb-md-8"},cr={class:"d-flex align-center mb-3 mb-md-4"},mr={class:"d-flex justify-space-between align-start"},vr={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 mb-0 line-height-tight text-truncate"},fr={class:"mb-6 mb-md-8"},gr={class:"d-flex align-center mb-3 mb-md-4"},pr={class:"d-flex justify-space-between align-start"},br={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 mb-0 line-height-tight text-truncate"},yr={class:"mb-6 mb-md-8"},xr={class:"d-flex align-center mb-3 mb-md-4"},hr={class:"card-corner-decoration bg-orange-lighten-5"},wr={class:"d-flex justify-space-between align-start"},kr={class:"icon-box bg-orange-lighten-5"},Vr={__name:"SystemConfig",setup(e){const{isMobileApp:d}=Ie();Ia();const n=P(!1),o=P(!1),i=P(!1),u=P(!1),c=P(""),V=P(""),x=P(""),$=P(""),y=P(!1),v=P(!1),g=P(!1),h=P(!1),b=P(!1),r=P(!1),s=P(!1),C=P(""),p=[{title:"Mis Empresas",icon:"mdi-domain",action:"companies",color:"blue-grey"},{title:"Mis Sedes",icon:"mdi-map-marker",action:"sedes",color:"blue-grey"},{title:"Mis Usuarios",icon:"mdi-account-group",action:"users",color:"blue-grey"},{title:"Áreas",icon:"mdi-chart-tree",action:"areas",description:"Administra las dependencias y departamentos.",color:"blue-grey"},{title:"Cargos",icon:"mdi-badge-account",action:"cargos",description:"Gestiona los cargos y roles laborales.",color:"blue-grey"}],L=[{title:"Estado Equipo",icon:"mdi-toggle-switch",action:"catalog",catalog:"estados_equipo",description:"Estados posibles de un equipo (Nuevo, Usado, etc).",color:"teal"},{title:"Tipo Equipo",icon:"mdi-laptop",action:"catalog",catalog:"tipos_equipo",description:"Tipos de dispositivos (Laptop, Desktop, Móvil).",color:"teal"},{title:"Fabricantes",icon:"mdi-factory",action:"catalog",catalog:"fabricantes",description:"Marcas y fabricantes de hardware.",color:"teal"},{title:"Modelos",icon:"mdi-devices",action:"catalog",catalog:"modelos",description:"Modelos específicos de equipos.",color:"teal"},{title:"Procesadores",icon:"mdi-cpu-64-bit",action:"processors",description:"Marcas, modelos y generaciones.",color:"teal"},{title:"Memoria RAM",icon:"mdi-memory",action:"ram",description:"Tipos, velocidades y factores de forma.",color:"teal"},{title:"Almacenamiento",icon:"mdi-harddisk",action:"storage",description:"Discos, tipos y capacidades",color:"teal"},{title:"Puertos",icon:"mdi-serial-port",action:"catalog",catalog:"puertos",description:"Tipos de puertos y conexiones.",color:"teal"},{title:"Sistema Operativo",icon:"mdi-monitor",action:"catalog",catalog:"sistemas_operativos",description:"Sistemas operativos soportados.",color:"teal"},{title:"Ofimáticas",icon:"mdi-file-document",action:"catalog",catalog:"ofimaticas",description:"Suites de ofimática y versiones.",color:"teal"},{title:"Antivirus",icon:"mdi-shield-check",action:"catalog",catalog:"antivirus",description:"Soluciones de seguridad y antivirus.",color:"teal"},{title:"Aplicaciones",icon:"mdi-apps",action:"catalog",catalog:"aplicaciones",description:"Otras aplicaciones y software corporativo.",color:"teal"}];function K(H){c.value=H.catalog,V.value=H.title,x.value=H.icon,$.value=H.description||"Gestión de catálogo del sistema.",n.value=!0}function R(){r.value=!0}function W(H){H.action==="catalog"?K(H):H.action==="companies"?y.value=!0:H.action==="sedes"?v.value=!0:H.action==="users"?g.value=!0:H.action==="areas"?h.value=!0:H.action==="cargos"?b.value=!0:H.action==="processors"?o.value=!0:H.action==="ram"?i.value=!0:H.action==="storage"?u.value=!0:(C.value=H.title,s.value=!0)}return(H,w)=>(D(),G(ut,{fluid:"",class:"bg-grey-lighten-5 fill-height align-start"},{default:l(()=>[a("div",ir,[a("div",rr,[a("div",dr,[t(O,{size:"small",class:"mr-1"},{default:l(()=>[...w[19]||(w[19]=[I("mdi-home",-1)])]),_:1}),w[20]||(w[20]=I(" / Sistema / Configuración ",-1))]),w[21]||(w[21]=a("h1",{class:"text-h5 text-md-h4 font-weight-bold text-primary mb-1"}," Configuración del Sistema ",-1)),w[22]||(w[22]=a("p",{class:"text-body-2 text-md-body-1 text-grey-darken-1"}," Administra los parámetros generales, usuarios y catálogos. ",-1))]),a("div",ur,[a("div",cr,[t(O,{color:"primary",class:"mr-2"},{default:l(()=>[...w[23]||(w[23]=[I("mdi-domain",-1)])]),_:1}),w[24]||(w[24]=a("h2",{class:"text-subtitle-1 text-md-h6 font-weight-bold text-grey-darken-3"},"Empresa y Usuarios",-1))]),t(re,{dense:""},{default:l(()=>[(D(),Z(se,null,ke(p,A=>t(B,{cols:"6",sm:"4",md:"3",lg:"2",key:A.title},{default:l(()=>[pt((D(),G(X,{class:"config-card border-0 elevation-1",height:"110",onClick:m=>W(A)},{default:l(()=>[a("div",{class:U(["card-corner-decoration",`bg-${A.color}-lighten-5`])},[t(O,{size:"small",color:A.color},{default:l(()=>[...w[25]||(w[25]=[I("mdi-chevron-right",-1)])]),_:1},8,["color"])],2),t(ie,{class:"pa-3 d-flex flex-column justify-space-between h-100"},{default:l(()=>[a("div",mr,[a("div",{class:U(["icon-box",`bg-${A.color}-lighten-5`])},[t(O,{color:A.color,size:"small"},{default:l(()=>[I(N(A.icon),1)]),_:2},1032,["color"])],2)]),a("div",null,[a("div",vr,N(A.title),1),w[26]||(w[26]=a("div",{class:"text-caption text-grey",style:{"font-size":"0.65rem !important"}},"Configurar",-1))])]),_:2},1024)]),_:2},1032,["onClick"])),[[Et]])]),_:2},1024)),64))]),_:1})]),a("div",fr,[a("div",gr,[t(O,{color:"teal",class:"mr-2"},{default:l(()=>[...w[27]||(w[27]=[I("mdi-database",-1)])]),_:1}),w[28]||(w[28]=a("h2",{class:"text-subtitle-1 text-md-h6 font-weight-bold text-grey-darken-3"},"Catálogos de Inventario",-1))]),t(re,{dense:""},{default:l(()=>[(D(),Z(se,null,ke(L,A=>t(B,{cols:"6",sm:"4",md:"3",lg:"2",key:A.title},{default:l(()=>[pt((D(),G(X,{class:"config-card border-0 elevation-1",height:"110",onClick:m=>W(A)},{default:l(()=>[a("div",{class:U(["card-corner-decoration",`bg-${A.color}-lighten-5`])},[t(O,{size:"small",color:A.color},{default:l(()=>[...w[29]||(w[29]=[I("mdi-chevron-right",-1)])]),_:1},8,["color"])],2),t(ie,{class:"pa-3 d-flex flex-column justify-space-between h-100"},{default:l(()=>[a("div",pr,[a("div",{class:U(["icon-box",`bg-${A.color}-lighten-5`])},[t(O,{color:A.color,size:"small"},{default:l(()=>[I(N(A.icon),1)]),_:2},1032,["color"])],2)]),a("div",null,[a("div",br,N(A.title),1),w[30]||(w[30]=a("div",{class:"text-caption text-grey",style:{"font-size":"0.65rem !important"}},"Configurar",-1))])]),_:2},1024)]),_:2},1032,["onClick"])),[[Et]])]),_:2},1024)),64))]),_:1})]),a("div",yr,[a("div",xr,[t(O,{color:"orange",class:"mr-2"},{default:l(()=>[...w[31]||(w[31]=[I("mdi-shield-search",-1)])]),_:1}),w[32]||(w[32]=a("h2",{class:"text-subtitle-1 text-md-h6 font-weight-bold text-grey-darken-3"},"Auditoría y Seguridad",-1))]),t(re,{dense:""},{default:l(()=>[t(B,{cols:"6",sm:"4",md:"3",lg:"2"},{default:l(()=>[pt((D(),G(X,{class:"config-card border-0 elevation-1",height:"110",onClick:R},{default:l(()=>[a("div",hr,[t(O,{size:"small",color:"orange"},{default:l(()=>[...w[33]||(w[33]=[I("mdi-chevron-right",-1)])]),_:1})]),t(ie,{class:"pa-3 d-flex flex-column justify-space-between h-100"},{default:l(()=>[a("div",wr,[a("div",kr,[t(O,{color:"orange",size:"small"},{default:l(()=>[...w[34]||(w[34]=[I("mdi-file-eye",-1)])]),_:1})])]),w[35]||(w[35]=a("div",null,[a("div",{class:"text-subtitle-2 font-weight-bold text-grey-darken-3 mb-0 line-height-tight text-truncate"}," Log de Auditoría "),a("div",{class:"text-caption text-grey",style:{"font-size":"0.65rem !important"}},"Configurar")],-1))]),_:1})]),_:1})),[[Et]])]),_:1})]),_:1})])]),t(ue,{modelValue:n.value,"onUpdate:modelValue":w[1]||(w[1]=A=>n.value=A),fullscreen:S(d),"max-width":S(d)?"100%":"1200px",transition:"dialog-bottom-transition"},{default:l(()=>[t(Zs,{modelValue:n.value,"onUpdate:modelValue":w[0]||(w[0]=A=>n.value=A),"catalog-name":c.value,title:V.value,icon:x.value,description:$.value},null,8,["modelValue","catalog-name","title","icon","description"])]),_:1},8,["modelValue","fullscreen","max-width"]),t(pi,{modelValue:o.value,"onUpdate:modelValue":w[2]||(w[2]=A=>o.value=A)},null,8,["modelValue"]),t(Di,{modelValue:i.value,"onUpdate:modelValue":w[3]||(w[3]=A=>i.value=A)},null,8,["modelValue"]),t(sr,{modelValue:u.value,"onUpdate:modelValue":w[4]||(w[4]=A=>u.value=A)},null,8,["modelValue"]),t(ue,{modelValue:s.value,"onUpdate:modelValue":w[6]||(w[6]=A=>s.value=A),"max-width":"600"},{default:l(()=>[t(X,{class:"rounded-xl"},{default:l(()=>[t($e,{class:"px-6 pt-6"},{default:l(()=>[I(N(C.value),1)]),_:1}),t(ie,{class:"px-6 py-4"},{default:l(()=>[...w[36]||(w[36]=[I(" Esta funcionalidad está en desarrollo. ",-1)])]),_:1}),t(Ce,null,{default:l(()=>[t(fe),t(z,{color:"primary",onClick:w[5]||(w[5]=A=>s.value=!1)},{default:l(()=>[...w[37]||(w[37]=[I("Cerrar",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ue,{modelValue:y.value,"onUpdate:modelValue":w[8]||(w[8]=A=>y.value=A),fullscreen:S(d),"max-width":S(d)?"100%":"1200px",transition:"dialog-bottom-transition"},{default:l(()=>[t(ro,{modelValue:y.value,"onUpdate:modelValue":w[7]||(w[7]=A=>y.value=A)},null,8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]),t(ue,{modelValue:v.value,"onUpdate:modelValue":w[10]||(w[10]=A=>v.value=A),fullscreen:S(d),"max-width":S(d)?"100%":"1200px",transition:"dialog-bottom-transition"},{default:l(()=>[t($o,{modelValue:v.value,"onUpdate:modelValue":w[9]||(w[9]=A=>v.value=A)},null,8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]),t(ue,{modelValue:g.value,"onUpdate:modelValue":w[12]||(w[12]=A=>g.value=A),fullscreen:S(d),"max-width":S(d)?"100%":"1200px",transition:"dialog-bottom-transition"},{default:l(()=>[t(Ma,{modelValue:g.value,"onUpdate:modelValue":w[11]||(w[11]=A=>g.value=A)},null,8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]),t(ue,{modelValue:h.value,"onUpdate:modelValue":w[14]||(w[14]=A=>h.value=A),fullscreen:S(d),"max-width":S(d)?"100%":"1200px",transition:"dialog-bottom-transition"},{default:l(()=>[t(kn,{modelValue:h.value,"onUpdate:modelValue":w[13]||(w[13]=A=>h.value=A)},null,8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]),t(ue,{modelValue:b.value,"onUpdate:modelValue":w[16]||(w[16]=A=>b.value=A),fullscreen:S(d),"max-width":S(d)?"100%":"1200px",transition:"dialog-bottom-transition"},{default:l(()=>[t(Ln,{modelValue:b.value,"onUpdate:modelValue":w[15]||(w[15]=A=>b.value=A)},null,8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"]),t(ue,{modelValue:r.value,"onUpdate:modelValue":w[18]||(w[18]=A=>r.value=A),fullscreen:S(d),"max-width":S(d)?"100%":"1200px",transition:"dialog-bottom-transition"},{default:l(()=>[t(_s,{modelValue:r.value,"onUpdate:modelValue":w[17]||(w[17]=A=>r.value=A)},null,8,["modelValue"])]),_:1},8,["modelValue","fullscreen","max-width"])]),_:1}))}},Or=Te(Vr,[["__scopeId","data-v-2d4d0599"]]);export{Or as default};
