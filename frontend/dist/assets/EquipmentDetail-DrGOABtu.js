import{z as U,A as R,aJ as re,E as J,d as I,k as D,R as A,a as t,S as B,aK as de,Z as Q,aY as ue,aZ as ce,f as u,ad as ve,a8 as L,W as ee,ap as me,I as te,K as fe,Q as ge,M as S,l as G,Y as be,aD as pe,az as xe,a6 as ye,m as we,c as H,w as s,ae as K,e as Ve,o as j,h as r,g as k,j as O,t as f,aa as v}from"./index--cwzPgFN.js";import{u as Ce,b as Te,c as he,d as Se}from"./useMobileDetection-DVtk2gMU.js";import{V as Y,m as ke,a as T,b as _e,U as Ee,G as Pe,H as qe,S as ze}from"./VWindowItem-DwqzgNxV.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Be}from"./VContainer-B_ZFSiXZ.js";import{V as $,g as We,f as $e,c as De}from"./VGrid-Bvk_EzwB.js";import{b as Z,m as Me,V as Ue}from"./VChip-hM0WfqDl.js";import"./index-BvfS-qSn.js";import"./VTextField-oy8GBoI6.js";import"./VSwitch-DeZFYIz0.js";import"./VList-ClXTKyiG.js";import"./VMenu-Cdl4H-mK.js";import"./catalogs-CMBpLrMV.js";import"./VToolbar-DBZSt_kb.js";import"./VDialog-BMR7tClG.js";import"./VAlert-Conwkj8S.js";const X=Symbol.for("vuetify:v-tabs"),ae=R({fixed:Boolean,sliderColor:String,sliderTransition:String,sliderTransitionDuration:[String,Number],hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Q(We({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),_=U()({name:"VTab",props:ae(),setup(e,l){let{slots:p,attrs:o}=l;const{textColorClasses:c,textColorStyles:n}=re(()=>e.sliderColor),{backgroundColorClasses:m,backgroundColorStyles:d}=J(()=>e.sliderColor),x=I(),h=I(),y=D(()=>e.direction==="horizontal"),w=D(()=>x.value?.group?.isSelected.value??!1);function i(b,W){return{opacity:[0,1]}}function N(b,W){return e.direction==="vertical"?{transform:["scaleY(0)","scaleY(1)"]}:{transform:["scaleX(0)","scaleX(1)"]}}function g(b,W){const V=W.getBoundingClientRect(),C=b.getBoundingClientRect(),E=y.value?"x":"y",P=y.value?"X":"Y",M=y.value?"right":"bottom",q=y.value?"width":"height",se=V[E],le=C[E],z=se>le?V[M]-C[M]:V[E]-C[E],oe=Math.sign(z)>0?y.value?"right":"bottom":Math.sign(z)<0?y.value?"left":"top":"center",ie=(Math.abs(z)+(Math.sign(z)<0?V[q]:C[q]))/Math.max(V[q],C[q])||0,ne=V[q]/C[q]||0,F=1.5;return{transform:[`translate${P}(${z}px) scale${P}(${ne})`,`translate${P}(${z/F}px) scale${P}(${(ie-1)/F+1})`,"none"],transformOrigin:Array(3).fill(oe)}}function a(b){let{value:W}=b;if(W){const V=x.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),C=h.value;if(!V||!C)return;const E=getComputedStyle(V).color,P={fade:i,grow:N,shift:g}[e.sliderTransition??"shift"]??g,M=Number(e.sliderTransitionDuration)||({fade:400,grow:350,shift:225}[e.sliderTransition??"shift"]??225);ue(C,{backgroundColor:[E,"currentcolor"],...P(C,V)},{duration:M,easing:ce})}}return A(()=>{const b=$.filterProps(e);return t($,B({symbol:X,ref:x,class:["v-tab",e.class,w.value?m.value:[]],style:[e.style,w.value?d.value:[]],tabindex:w.value?0:-1,role:"tab","aria-selected":String(w.value),active:!1},b,o,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":a}),{...p,default:()=>u(ee,null,[p.default?.()??e.text,!e.hideSlider&&u("div",{ref:h,class:L(["v-tab__slider",c.value]),style:ve(n.value)},null)])})}),de({},x)}}),Re=R({...Q(ke(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ae=U()({name:"VTabsWindow",props:Re(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:p}=l;const o=me(X,null),c=te(e,"modelValue"),n=D({get(){return c.value!=null||!o?c.value:o.items.value.find(m=>o.selected.value.includes(m.id))?.value},set(m){c.value=m}});return A(()=>{const m=Y.filterProps(e);return t(Y,B({_as:"VTabsWindow"},m,{modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),p)}),{}}}),Ne=R({..._e()},"VTabsWindowItem"),Ge=U()({name:"VTabsWindowItem",props:Ne(),setup(e,l){let{slots:p}=l;return A(()=>{const o=T.filterProps(e);return t(T,B({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",e.class],style:e.style}),p)}),{}}});function He(e){return e?e.map(l=>xe(l)?l:{text:l,value:l}):[]}const je=R({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,inset:Boolean,insetPadding:[String,Number],insetRadius:[String,Number],sliderColor:String,...pe(ae(),["spaced","sliderTransition","sliderTransitionDuration"]),...Me({mandatory:"force",selectedClass:"v-tab-item--selected"}),...De(),...be()},"VTabs"),Ye=U()({name:"VTabs",props:je(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:p,slots:o}=l;const c=te(e,"modelValue"),n=D(()=>He(e.items)),{densityClasses:m}=$e(e),{backgroundColorClasses:d,backgroundColorStyles:x}=J(()=>e.bgColor),{scopeId:h}=fe();return ge({VTab:{color:S(e,"color"),direction:S(e,"direction"),stacked:S(e,"stacked"),fixed:S(e,"fixedTabs"),sliderColor:S(e,"sliderColor"),sliderTransition:S(e,"sliderTransition"),sliderTransitionDuration:S(e,"sliderTransitionDuration"),hideSlider:S(e,"hideSlider")}}),A(()=>{const y=Z.filterProps(e),w=!!(o.window||e.items.length>0);return u(ee,null,[t(Z,B(y,{modelValue:c.value,"onUpdate:modelValue":i=>c.value=i,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--inset":e.inset,"v-tabs--stacked":e.stacked},m.value,d.value,e.class],style:[{"--v-tabs-height":G(e.height),"--v-tabs-inset-padding":e.inset?G(e.insetPadding):void 0,"--v-tabs-inset-radius":e.inset?G(e.insetRadius):void 0},x.value,e.style],role:"tablist",symbol:X},h,p),{default:o.default??(()=>n.value.map(i=>o.tab?.({item:i})??t(_,B(i,{key:i.text,value:i.value,spaced:e.spaced}),{default:o[`tab.${i.value}`]?()=>o[`tab.${i.value}`]?.({item:i}):void 0}))),prev:o.prev,next:o.next}),w&&t(Ae,B({modelValue:c.value,"onUpdate:modelValue":i=>c.value=i,key:"tabs-window"},h),{default:()=>[n.value.map(i=>o.item?.({item:i})??t(Ge,{value:i.value},{default:()=>o[`item.${i.value}`]?.({item:i})})),o.window?.()]})])}),{}}}),Xe={class:"w-100"},Fe={class:"mb-6"},Ke={class:"d-flex align-center mb-2"},Oe={class:"text-caption text-grey"},Ze={class:"d-flex flex-column flex-md-row justify-space-between align-md-center"},Je={class:"d-flex align-center"},Qe={class:"text-h5 text-md-h4 font-weight-bold text-primary mb-1 mr-3"},Le={class:"text-body-2 text-grey-darken-1"},et={class:"mt-4 mt-md-0 d-flex gap-2"},tt={__name:"EquipmentDetail",setup(e){const{isMobileApp:l}=Ce(),p=ye(),o=Ve(),c=I("user"),n=I(!1),m=I(!1),d=I({}),x=D(()=>p.params.id);async function h(){if(x.value)try{const g=await K.get(`/api/inventory/equipos/${x.value}`,{withCredentials:!0});d.value=g.data}catch(g){console.error("Error loading equipo",g)}}function y(){n.value&&h(),n.value=!n.value}function w(g,a){d.value[g]=a}async function i(){m.value=!0;try{await K.put(`/api/inventory/equipos/${x.value}`,d.value,{withCredentials:!0}),n.value=!1}catch(g){console.error("Error saving",g),alert("Error al guardar cambios")}finally{m.value=!1}}function N(){o.back()}return we(()=>{h()}),(g,a)=>(j(),H(Be,{fluid:"",class:"bg-grey-lighten-5 fill-height align-start"},{default:s(()=>[u("div",Xe,[u("div",Fe,[u("div",Ke,[t($,{icon:"mdi-arrow-left",variant:"text",size:"small",class:"mr-2",onClick:N}),u("div",Oe,[t(k,{size:"small",class:"mr-1"},{default:s(()=>[...a[2]||(a[2]=[r("mdi-home",-1)])]),_:1}),a[3]||(a[3]=r(" / Inventario / Equipos / Detalle ",-1))])]),u("div",Ze,[u("div",null,[u("div",Je,[u("h1",Qe,f(d.value.CodigoEquipo||"Cargando..."),1),d.value.Estado?(j(),H(Ue,{key:0,size:"small",color:"emerald",class:"bg-green-lighten-5 text-green-darken-1 font-weight-bold"},{default:s(()=>[r(f(d.value.Estado),1)]),_:1})):O("",!0)]),u("p",Le,f(d.value.Modelo)+" - "+f(d.value.Serial),1)]),u("div",et,[t($,{color:n.value?"error":"primary",variant:"flat",class:"text-capitalize rounded-lg","prepend-icon":"mdi-pencil",onClick:y},{default:s(()=>[r(f(n.value?"Cancelar Edición":"Editar Equipo"),1)]),_:1},8,["color"]),n.value?(j(),H($,{key:0,color:"success",variant:"flat",class:"text-capitalize rounded-lg","prepend-icon":"mdi-content-save",onClick:i,loading:m.value},{default:s(()=>[...a[4]||(a[4]=[r(" Guardar Cambios ",-1)])]),_:1},8,["loading"])):O("",!0)])])]),t(Te,{class:"rounded-xl border-0 elevation-1 overflow-hidden"},{default:s(()=>[t(Ye,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=b=>c.value=b),color:"primary","bg-color":"white","show-arrows":v(l),grow:!v(l),density:v(l)?"compact":"default"},{default:s(()=>[t(_,{value:"user",class:"text-capitalize"},{default:s(()=>[t(k,{start:""},{default:s(()=>[...a[5]||(a[5]=[r("mdi-account",-1)])]),_:1}),r(" "+f(v(l)?"":"Usuario"),1)]),_:1}),t(_,{value:"general",class:"text-capitalize"},{default:s(()=>[t(k,{start:""},{default:s(()=>[...a[6]||(a[6]=[r("mdi-laptop",-1)])]),_:1}),r(" "+f(v(l)?"":"Equipo"),1)]),_:1}),t(_,{value:"hardware",class:"text-capitalize"},{default:s(()=>[t(k,{start:""},{default:s(()=>[...a[7]||(a[7]=[r("mdi-cpu-64-bit",-1)])]),_:1}),r(" "+f(v(l)?"":"Hardware"),1)]),_:1}),t(_,{value:"software",class:"text-capitalize"},{default:s(()=>[t(k,{start:""},{default:s(()=>[...a[8]||(a[8]=[r("mdi-microsoft-windows",-1)])]),_:1}),r(" "+f(v(l)?"":"Software"),1)]),_:1}),t(_,{value:"apps",class:"text-capitalize"},{default:s(()=>[t(k,{start:""},{default:s(()=>[...a[9]||(a[9]=[r("mdi-apps",-1)])]),_:1}),r(" "+f(v(l)?"":"Aplicativos"),1)]),_:1}),t(_,{value:"files",class:"text-capitalize"},{default:s(()=>[t(k,{start:""},{default:s(()=>[...a[10]||(a[10]=[r("mdi-paperclip",-1)])]),_:1}),r(" "+f(v(l)?"":"Adjuntos"),1)]),_:1}),t(_,{value:"history",class:"text-capitalize"},{default:s(()=>[t(k,{start:""},{default:s(()=>[...a[11]||(a[11]=[r("mdi-history",-1)])]),_:1}),r(" "+f(v(l)?"":"Historial"),1)]),_:1})]),_:1},8,["modelValue","show-arrows","grow","density"]),t(he),t(Se,{class:L(v(l)?"pa-3":"pa-6"),style:{"min-height":"500px"}},{default:s(()=>[t(Y,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=b=>c.value=b)},{default:s(()=>[t(T,{value:"user"},{default:s(()=>[t(Ee,{equipo:d.value,"is-editing":n.value,"is-mobile":v(l),onUpdate:w},null,8,["equipo","is-editing","is-mobile"])]),_:1}),t(T,{value:"general"},{default:s(()=>[t(Pe,{equipo:d.value,"is-editing":n.value,"is-mobile":v(l),onUpdate:w},null,8,["equipo","is-editing","is-mobile"])]),_:1}),t(T,{value:"hardware"},{default:s(()=>[t(qe,{equipo:d.value,"is-editing":n.value,"is-mobile":v(l)},null,8,["equipo","is-editing","is-mobile"])]),_:1}),t(T,{value:"software"},{default:s(()=>[t(ze,{equipo:d.value,"is-editing":n.value,"is-mobile":v(l),onUpdate:w},null,8,["equipo","is-editing","is-mobile"])]),_:1}),t(T,{value:"apps"},{default:s(()=>[...a[12]||(a[12]=[u("div",{class:"text-center py-12 text-grey"},"Módulo de Aplicativos en construcción",-1)])]),_:1}),t(T,{value:"files"},{default:s(()=>[...a[13]||(a[13]=[u("div",{class:"text-center py-12 text-grey"},"Módulo de Adjuntos en construcción",-1)])]),_:1}),t(T,{value:"history"},{default:s(()=>[...a[14]||(a[14]=[u("div",{class:"text-center py-12 text-grey"},"Módulo de Historial en construcción",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["class"])]),_:1})])]),_:1}))}},yt=Ie(tt,[["__scopeId","data-v-27a9ade2"]]);export{yt as default};
