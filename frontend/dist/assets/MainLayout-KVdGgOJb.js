import{u as de,s as E,k,l as Te,m as G,n as M,p as J,C as _e,q as F,v as me,x as fe,y as Be,z as K,A as Q,B as Ce,D as Ee,E as le,F as Pe,G as Ie,H as Me,I as ge,J as he,K as He,d as X,L as Ae,M as Y,N as De,O as ye,P as Re,Q as Le,R as ee,f as T,a as f,S as A,T as Ne,U as ze,W as O,X as Ye,Y as $e,Z as Fe,_ as We,$ as pe,a0 as Oe,a1 as Xe,a2 as Ue,a3 as qe,a4 as je,a5 as Ze,e as Ge,a6 as Je,c as D,o as C,w as x,a7 as R,g as N,h as Z,a8 as q,a9 as ne,aa as z,t as ie,j as re,V as Ke,r as Qe,b as et}from"./index--cwzPgFN.js";import{_ as be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as we,a as tt,b as at,u as ot}from"./useMobileDetection-DVtk2gMU.js";import{V as se}from"./VTooltip-g5pwnaZf.js";import{V as lt}from"./VMenu-Cdl4H-mK.js";import{V as nt,a as it,b as rt}from"./VList-ClXTKyiG.js";import{u as st,a as ut,m as ct,b as vt,V as j}from"./VGrid-Bvk_EzwB.js";import{V as ue,m as dt,a as mt,b as ft}from"./VToolbar-DBZSt_kb.js";import{V as gt}from"./VContainer-B_ZFSiXZ.js";import"./index-BvfS-qSn.js";function ht(){const e=de(),n=[{title:"Inicio",icon:"mdi-home-outline",to:"/dashboard",value:"dashboard"},{title:"Inventario",icon:"mdi-clipboard-list-outline",to:"/inventory",value:"inventory"},{title:"Panel de Control",icon:"mdi-cog-outline",group:"panel_control",children:[{title:"Config. Sistema",icon:"mdi-tune",to:"/config/system",value:"sys_config",permission:"menu:view_sys_config"},{title:"Config. Cliente",icon:"mdi-account-cog-outline",to:"/config/client",value:"client_config",permission:"menu:view_client_config"}]}];function o(g){return g.filter(t=>t.permission?e.hasPermission(t.permission):!0)}return{menuItems:n,filterChildren:o}}function yt(e){let{rootEl:n,isSticky:o,layoutItemStyles:g}=e;const t=E(!1),a=E(0),l=k(()=>{const v=typeof t.value=="boolean"?"top":t.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[v]:Te(a.value)}:{top:g.value.top}]});G(()=>{M(o,v=>{v?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),J(()=>{window.removeEventListener("scroll",S)});let c=0;function S(){const v=c>window.scrollY?"up":"down",h=n.value.getBoundingClientRect(),s=parseFloat(g.value.top??0),y=window.scrollY-Math.max(0,a.value-s),V=h.height+Math.max(a.value,s)-window.scrollY-window.innerHeight,i=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;h.height<window.innerHeight-s?(t.value="top",a.value=s):v==="up"&&t.value==="bottom"||v==="down"&&t.value==="top"?(a.value=window.scrollY+h.top-i,t.value=!0):v==="down"&&V<=0?(a.value=0,t.value="bottom"):v==="up"&&y<=0&&(i?t.value!=="top"&&(a.value=-y+i+s,t.value="top"):(a.value=h.top+y,t.value="top")),c=window.scrollY}return{isStuck:t,stickyStyles:l}}const pt=100,bt=20;function ce(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ve(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let o=e.length-1;o>0;o--){if(e[o].t===e[o-1].t)continue;const g=ce(n),t=(e[o].d-e[o-1].d)/(e[o].t-e[o-1].t);n+=(t-g)*Math.abs(t),o===e.length-1&&(n*=.5)}return ce(n)*1e3}function wt(){const e={};function n(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new _e(bt))).push([t.timeStamp,a])})}function o(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function g(t){const a=e[t]?.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const l=a[0],c=[],S=[];for(const v of a){if(l[0]-v[0]>pt)break;c.push({t:v[0],d:v[1].clientX}),S.push({t:v[0],d:v[1].clientY})}return{x:ve(c),y:ve(S),get direction(){const{x:v,y:h}=this,[s,y]=[Math.abs(v),Math.abs(h)];return s>y&&v>=0?"right":s>y&&v<=0?"left":y>s&&h>=0?"down":y>s&&h<=0?"up":St()}}}return{addMovement:n,endTouch:o,getVelocity:g}}function St(){throw new Error}function Vt(e){let{el:n,isActive:o,isTemporary:g,width:t,touchless:a,position:l}=e;G(()=>{window.addEventListener("touchstart",r,{passive:!0}),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",W,{passive:!0})}),J(()=>{window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",W)});const c=k(()=>["left","right"].includes(l.value)),{addMovement:S,endTouch:v,getVelocity:h}=wt();let s=!1;const y=E(!1),V=E(0),i=E(0);let u;function p(d,m){return(l.value==="left"?d:l.value==="right"?document.documentElement.clientWidth-d:l.value==="top"?d:l.value==="bottom"?document.documentElement.clientHeight-d:L())-(m?t.value:0)}function H(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const b=l.value==="left"?(d-i.value)/t.value:l.value==="right"?(document.documentElement.clientWidth-d-i.value)/t.value:l.value==="top"?(d-i.value)/t.value:l.value==="bottom"?(document.documentElement.clientHeight-d-i.value)/t.value:L();return m?me(b):b}function r(d){if(a.value)return;const m=d.changedTouches[0].clientX,b=d.changedTouches[0].clientY,w=25,P=l.value==="left"?m<w:l.value==="right"?m>document.documentElement.clientWidth-w:l.value==="top"?b<w:l.value==="bottom"?b>document.documentElement.clientHeight-w:L(),I=o.value&&(l.value==="left"?m<t.value:l.value==="right"?m>document.documentElement.clientWidth-t.value:l.value==="top"?b<t.value:l.value==="bottom"?b>document.documentElement.clientHeight-t.value:L());(P||I||o.value&&g.value)&&(u=[m,b],i.value=p(c.value?m:b,o.value),V.value=H(c.value?m:b),s=i.value>-20&&i.value<80,v(d),S(d))}function B(d){const m=d.changedTouches[0].clientX,b=d.changedTouches[0].clientY;if(s){if(!d.cancelable){s=!1;return}const P=Math.abs(m-u[0]),I=Math.abs(b-u[1]);(c.value?P>I&&P>3:I>P&&I>3)?(y.value=!0,s=!1):(c.value?I:P)>3&&(s=!1)}if(!y.value)return;d.preventDefault(),S(d);const w=H(c.value?m:b,!1);V.value=Math.max(0,Math.min(1,w)),w>1?i.value=p(c.value?m:b,!0):w<0&&(i.value=p(c.value?m:b,!1))}function W(d){if(s=!1,!y.value)return;S(d),y.value=!1;const m=h(d.changedTouches[0].identifier),b=Math.abs(m.x),w=Math.abs(m.y);(c.value?b>w&&b>400:w>b&&w>3)?o.value=m.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||L()):o.value=V.value>.5}const $=k(()=>y.value?{transform:l.value==="left"?`translateX(calc(-100% + ${V.value*t.value}px))`:l.value==="right"?`translateX(calc(100% - ${V.value*t.value}px))`:l.value==="top"?`translateY(calc(-100% + ${V.value*t.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${V.value*t.value}px))`:L(),transition:"none"}:void 0);return F(y,()=>{const d=n.value?.style.transform??null,m=n.value?.style.transition??null;fe(()=>{n.value?.style.setProperty("transform",$.value?.transform||"none"),n.value?.style.setProperty("transition",$.value?.transition||null)}),Be(()=>{n.value?.style.setProperty("transform",d),n.value?.style.setProperty("transition",m)})}),{isDragging:y,dragProgress:V,dragStyles:$}}function L(){throw new Error}const kt=["start","end","left","right","top","bottom"],xt=Q({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>kt.includes(e)},sticky:Boolean,...vt(),...Ue(),...Xe(),...Oe({mobile:null}),...ct(),...pe(),...We(),...Fe(qe(),["disableInitialFocus"]),...$e({tag:"nav"}),...Ye()},"VNavigationDrawer"),Tt=K()({name:"VNavigationDrawer",props:xt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:o,emit:g,slots:t}=n;const{isRtl:a}=Ce(),{themeClasses:l}=Ee(e),{borderClasses:c}=st(e),{backgroundColorClasses:S,backgroundColorStyles:v}=le(()=>e.color),{elevationClasses:h}=ut(e),{displayClasses:s,mobile:y}=Pe(e),{roundedClasses:V}=Ie(e),i=Me(),u=ge(e,"modelValue",null,_=>!!_),{ssrBootStyles:p}=he(),{scopeId:H}=He(),r=X(),B=E(!1),{runOpenDelay:W,runCloseDelay:$}=Ne(e,_=>{B.value=_}),d=k(()=>e.rail&&e.expandOnHover&&B.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),m=k(()=>Ae(e.location,a.value)),b=Y(()=>e.persistent),w=k(()=>!e.permanent&&(y.value||e.temporary)),P=k(()=>e.sticky&&!w.value&&m.value!=="bottom");De(e,{isActive:u,localTop:w,contentEl:r}),F(()=>e.expandOnHover&&e.rail!=null,()=>{M(B,_=>g("update:rail",!_))}),F(()=>!e.disableResizeWatcher,()=>{M(w,_=>!e.permanent&&je(()=>u.value=!_))}),F(()=>!e.disableRouteWatcher&&!!i,()=>{M(i.currentRoute,()=>w.value&&(u.value=!1))}),M(()=>e.permanent,_=>{_&&(u.value=!0)}),e.modelValue==null&&!w.value&&(u.value=e.permanent||!y.value);const{isDragging:I,dragProgress:U}=Vt({el:r,isActive:u,isTemporary:w,width:d,touchless:Y(()=>e.touchless),position:m}),Se=k(()=>{const _=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):d.value;return I.value?_*U.value:_}),{layoutItemStyles:te,layoutItemScrimStyles:Ve}=ye({id:e.name,order:k(()=>parseInt(e.order,10)),position:m,layoutSize:Se,elementSize:d,active:Re(u),disableTransitions:Y(()=>I.value),absolute:k(()=>e.absolute||P.value&&typeof ae.value!="string")}),{isStuck:ae,stickyStyles:ke}=yt({rootEl:r,isSticky:P,layoutItemStyles:te}),oe=le(()=>typeof e.scrim=="string"?e.scrim:null),xe=k(()=>({...I.value?{opacity:U.value*.2,transition:"none"}:void 0,...Ve.value}));return Le({VList:{bgColor:"transparent"}}),ee(()=>{const _=t.image||e.image;return T(O,null,[f(e.tag,A({ref:r,onMouseenter:W,onMouseleave:$,class:["v-navigation-drawer",`v-navigation-drawer--${m.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":B.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":b.value,"v-navigation-drawer--active":u.value,"v-navigation-drawer--sticky":P.value},l.value,S.value,c.value,s.value,h.value,V.value,e.class],style:[v.value,te.value,p.value,ke.value,e.style],inert:!u.value},H,o),{default:()=>[_&&T("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?f(Ze,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):f(we,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&T("div",{class:"v-navigation-drawer__prepend"},[t.prepend?.()]),T("div",{class:"v-navigation-drawer__content"},[t.default?.()]),t.append&&T("div",{class:"v-navigation-drawer__append"},[t.append?.()])]}),f(ze,{name:"fade-transition"},{default:()=>[w.value&&(I.value||u.value)&&!!e.scrim&&T("div",A({class:["v-navigation-drawer__scrim",oe.backgroundColorClasses.value],style:[xe.value,oe.backgroundColorStyles.value],onClick:()=>{b.value||(u.value=!1)}},H),null)]})])}),{isStuck:ae}}}),_t={key:0,class:"drawer-header d-flex align-center justify-center py-6"},Bt={class:"logo-box"},Ct={key:1,class:"mobile-header d-flex justify-center pt-8 pb-6 mb-2"},Et=["onClick"],Pt={key:1,class:"w-100 d-flex flex-column align-center"},It={class:"px-4 py-2 text-caption font-weight-bold text-grey text-uppercase"},Mt={class:"d-flex flex-column align-center pb-8 gap-4"},Ht={__name:"AppDrawer",props:{modelValue:Boolean,mobile:Boolean},emits:["update:modelValue"],setup(e,{emit:n}){const o=e,g=n,t=k({get:()=>o.modelValue,set:i=>g("update:modelValue",i)}),a=de(),l=Ge(),c=Je(),{menuItems:S,filterChildren:v}=ht();function h(i){return c.path===i}function s(i){return i.children?i.children.some(u=>c.path===u.to):!1}function y(i){l.push(i)}function V(){a.logout(),l.push("/auth/login")}return(i,u)=>(C(),D(Tt,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=p=>t.value=p),rail:!e.mobile,permanent:!e.mobile,temporary:e.mobile,class:"modern-drawer",width:e.mobile?85:260,"rail-width":"80",elevation:"0",app:"",touchless:""},{append:x(()=>[T("div",Mt,[f(se,{text:"Cerrar SesiÃ³n",location:"end",offset:"10"},{activator:x(({props:p})=>[T("div",A(p,{class:"nav-item-wrapper logout-btn",onClick:V}),[f(N,{icon:"mdi-logout",size:"24",color:"error"})],16)]),_:1})])]),default:x(()=>[e.mobile?(C(),R("div",Ct,[f(tt,{size:"48",class:"border-2 border-white elevation-3"},{default:x(()=>[f(we,{src:"https://randomuser.me/api/portraits/men/85.jpg",cover:""})]),_:1})])):(C(),R("div",_t,[T("div",Bt,[f(N,{color:"#00A08F",size:"32"},{default:x(()=>[...u[1]||(u[1]=[Z("mdi-office-building",-1)])]),_:1})])])),T("div",{class:q(["d-flex flex-column w-100 py-2 gap-2",(e.mobile,"align-center")])},[(C(!0),R(O,null,ne(z(S),(p,H)=>(C(),R(O,{key:H},[p.children?(C(),R("div",Pt,[f(lt,{location:"end",offset:"10","open-on-hover":"","open-delay":"0","close-delay":"100"},{activator:x(({props:r})=>[T("div",A({ref_for:!0},r,{class:["nav-item-wrapper",{active:s(p),"mobile-item":e.mobile}]}),[T("div",{class:q(["icon-container",{"active-icon":s(p)}])},[f(N,{icon:p.icon,size:"24",color:s(p)?"#00A08F":"grey-lighten-1"},null,8,["icon","color"])],2)],16)]),default:x(()=>[f(at,{"min-width":"220",color:"#1e293b",class:"py-2 border-thin border-opacity-25 border-white elevation-4 rounded-lg"},{default:x(()=>[T("div",It,ie(p.title),1),f(nt,{density:"compact","bg-color":"transparent"},{default:x(()=>[(C(!0),R(O,null,ne(z(v)(p.children),(r,B)=>(C(),D(it,{key:B,to:r.to,color:"#00A08F",class:"rounded-lg mx-2 mb-1"},{prepend:x(()=>[f(N,{icon:r.icon,size:"small",class:"mr-2"},null,8,["icon"])]),default:x(()=>[f(rt,{class:"text-body-2"},{default:x(()=>[Z(ie(r.title),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):(C(),D(se,{key:0,text:p.title,location:"end",offset:"10",disabled:!1},{activator:x(({props:r})=>[T("div",A({ref_for:!0},r,{class:["nav-item-wrapper",{active:h(p.to),"mobile-item":e.mobile}],onClick:B=>y(p.to)}),[T("div",{class:q(["icon-container",{"active-icon":h(p.to)}])},[f(N,{icon:p.icon,size:(e.mobile,24),color:h(p.to)?"#00A08F":(e.mobile,"grey-lighten-1")},null,8,["icon","size","color"])],2)],16,Et)]),_:2},1032,["text"]))],64))),128))],2)]),_:1},8,["modelValue","rail","permanent","temporary","width"]))}},At=be(Ht,[["__scopeId","data-v-035e4af1"]]),Dt=Q({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Rt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:o}=n;let g=0,t=0;const a=X(null),l=E(0),c=E(0),S=E(0),v=E(!1),h=E(!1),s=k(()=>Number(e.scrollThreshold)),y=k(()=>me((s.value-l.value)/s.value||0)),V=()=>{const i=a.value;if(!i||o&&!o.value)return;g=l.value,l.value="window"in i?i.pageYOffset:i.scrollTop;const u=i instanceof Window?document.documentElement.scrollHeight:i.scrollHeight;if(t!==u){t=u;return}h.value=l.value<g,S.value=Math.abs(l.value-s.value)};return M(h,()=>{c.value=c.value||l.value}),M(v,()=>{c.value=0}),G(()=>{M(()=>e.scrollTarget,i=>{const u=i?document.querySelector(i):window;u&&u!==a.value&&(a.value?.removeEventListener("scroll",V),a.value=u,a.value.addEventListener("scroll",V,{passive:!0}))},{immediate:!0})}),J(()=>{a.value?.removeEventListener("scroll",V)}),o&&M(o,V,{immediate:!0}),{scrollThreshold:s,currentScroll:l,currentThreshold:S,isScrollActive:v,scrollRatio:y,isScrollingUp:h,savedScroll:c}}const Lt=Q({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...dt(),...pe(),...Dt(),height:{type:[Number,String],default:64}},"VAppBar"),Nt=K()({name:"VAppBar",props:Lt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:o}=n;const g=X(),t=ge(e,"modelValue"),a=k(()=>{const r=new Set(e.scrollBehavior?.split(" ")??[]);return{hide:r.has("hide"),fullyHide:r.has("fully-hide"),inverted:r.has("inverted"),collapse:r.has("collapse"),elevate:r.has("elevate"),fadeImage:r.has("fade-image")}}),l=k(()=>{const r=a.value;return r.hide||r.fullyHide||r.inverted||r.collapse||r.elevate||r.fadeImage||!t.value}),{currentScroll:c,scrollThreshold:S,isScrollingUp:v,scrollRatio:h}=Rt(e,{canScroll:l}),s=Y(()=>a.value.hide||a.value.fullyHide),y=k(()=>e.collapse||a.value.collapse&&(a.value.inverted?h.value>0:h.value===0)),V=k(()=>e.flat||a.value.fullyHide&&!t.value||a.value.elevate&&(a.value.inverted?c.value>0:c.value===0)),i=k(()=>a.value.fadeImage?a.value.inverted?1-h.value:h.value:void 0),u=k(()=>{if(a.value.hide&&a.value.inverted)return 0;const r=g.value?.contentHeight??0,B=g.value?.extensionHeight??0;return s.value?c.value<S.value||a.value.fullyHide?r+B:r:r+B});F(()=>!!e.scrollBehavior,()=>{fe(()=>{s.value?a.value.inverted?t.value=c.value>S.value:t.value=v.value||c.value<S.value:t.value=!0})});const{ssrBootStyles:p}=he(),{layoutItemStyles:H}=ye({id:e.name,order:k(()=>parseInt(e.order,10)),position:Y(()=>e.location),layoutSize:u,elementSize:E(void 0),active:t,absolute:Y(()=>e.absolute)});return ee(()=>{const r=ue.filterProps(e);return f(ue,A({ref:g,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...H.value,"--v-toolbar-image-opacity":i.value,height:void 0,...p.value},e.style]},r,{collapse:y.value,flat:V.value}),o)}),{}}}),zt=K()({name:"VAppBarTitle",props:mt(),setup(e,n){let{slots:o}=n;return ee(()=>f(ft,A(e,{class:"v-app-bar-title"}),o)),{}}}),Yt={__name:"AppBar",props:{mobile:Boolean},emits:["toggle-drawer"],setup(e){return(n,o)=>(C(),D(Nt,{color:"white",elevation:"1"},{prepend:x(()=>[e.mobile?(C(),D(j,{key:0,icon:"mdi-menu",color:"primary",variant:"text",class:"menu-btn-creative mr-2",onClick:o[0]||(o[0]=g=>n.$emit("toggle-drawer"))})):re("",!0)]),append:x(()=>[f(j,{icon:"mdi-bell-outline",color:"secondary",variant:"text"}),f(j,{icon:"mdi-help-circle-outline",color:"secondary",variant:"text"})]),default:x(()=>[f(zt,{class:"text-primary font-weight-bold d-flex align-center"},{default:x(()=>[e.mobile?(C(),D(N,{key:0,icon:"mdi-office-building",color:"primary",class:"mr-2"})):re("",!0),o[1]||(o[1]=Z(" Sistema de Inventario ",-1))]),_:1})]),_:1}))}},$t=be(Yt,[["__scopeId","data-v-a7cdd41e"]]),Kt={__name:"MainLayout",setup(e){const{isMobileApp:n}=ot(),o=X(!n.value);return M(n,g=>{o.value=!g}),(g,t)=>{const a=Qe("router-view");return C(),D(Ke,null,{default:x(()=>[f(At,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=l=>o.value=l),mobile:z(n)},null,8,["modelValue","mobile"]),f($t,{mobile:z(n),onToggleDrawer:t[1]||(t[1]=l=>o.value=!o.value)},null,8,["mobile"]),f(et,{class:"bg-grey-lighten-4"},{default:x(()=>[f(gt,{fluid:"",class:"pa-6"},{default:x(()=>[f(a,{"is-mobile-device":z(n),"is-functional-mobile":z(n)},null,8,["is-mobile-device","is-functional-mobile"])]),_:1})]),_:1})]),_:1})}}};export{Kt as default};
