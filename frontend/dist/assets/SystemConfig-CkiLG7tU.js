import{a5 as Aa,a6 as Ta,j as O,d as P,m as fe,l as Oe,c as ae,o as q,w as a,a as t,f as l,g as A,t as U,h as ye,$ as ee,a7 as K,a0 as ge,M as ce,a1 as Ne,a8 as $a,y as Se,z as de,E as Te,a9 as Be,A as Da,B as Dt,D as ut,s as Ee,J as Pt,aa as Ea,ab as ot,G as oe,K as $e,a4 as tt,N as Et,O as Nt,S as _t,ac as pe,L as Q,ad as Ot,U as Re,ae as Wt,q as kt,af as je,ag as Ge,P as ct,ah as Na,k as he,v as _a,ai as Fa,aj as Ra,ak as Je,al as za,am as rt,an as nt,Y as Ma,R as Ft,ao as Oa,ap as st,aq as Ct,ar as At,as as it,at as Ua,i as Qe,au as La,av as Ba,aw as Ut,ax as ja,ay as Ga,az as Ha,aA as qa,aB as Ka,aC as Wa,e as Za,a2 as It}from"./index-C00rILNG.js";import{_ as De,a as B,i as Ja,j as Qa,m as Zt,f as Jt,k as at,g as Qt,l as dt,n as Xa,b as Xt,L as Ya,o as el,p as tl,q as al,h as ll,V as vt,u as ol,c as nl,r as sl,s as il,d as rl,v as dl,w as ul,R as St}from"./index-BZPMV4V2.js";import{a as J,c as ne,d as we,e as Ie,b as cl}from"./VCard-CkjxDFEY.js";import{V as z,b as Yt,f as vl}from"./index-B7DE2XA0.js";import{e as ve,l as fl,t as Ze,j as ml,f as Tt,g as Ue,k as gl}from"./VMenu-SEDkpfpU.js";import{b as Ae,V as me,a as H,c as se,u as pl,m as bl}from"./VTextField-zX8p1YQR.js";import{V as Xe,a as Le,b as re,c as le,d as Me,e as Ye,f as Ve,u as ea,m as ta,g as yl,h as xl,i as hl,j as wl,k as Vl,U as kl}from"./UserList-B-jZ-HyE.js";function Lt(e,i,n){return Object.keys(e).filter(o=>Aa(o)&&o.endsWith(i)).reduce((o,s)=>(o[s.slice(0,-i.length)]=r=>Ta(e[s],r,n(r)),o),{})}const Cl={class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},Il={class:"d-flex align-center"},Sl={class:"header-icon-box mr-3"},Pl={class:"text-h6 font-weight-bold text-grey-darken-3",style:{"line-height":"1.2"}},Al={class:"text-caption text-grey mt-1"},Tl={class:"d-flex align-center"},$l={__name:"CompanyForm",props:{modelValue:Boolean,company:Object},emits:["update:modelValue","saved"],setup(e,{emit:i}){const n=e,o=i,s=O({get:()=>n.modelValue,set:w=>o("update:modelValue",w)}),r=P({NIT:"",RazonSocial:"",Direccion:"",DepartamentoId:null,CiudadId:null,Telefono:"",Activo:!0}),m=P([]),C=P([]),k=P(!1);async function I(){try{const w=await K.get("http://localhost:5000/api/config/departments",{withCredentials:!0});m.value=w.data}catch(w){console.error(w)}}async function S(w){if(!w){C.value=[];return}try{const f=await K.get(`http://localhost:5000/api/config/cities/${w}`,{withCredentials:!0});C.value=f.data}catch(f){console.error(f)}}async function b(){k.value=!0;try{const w=n.company?`http://localhost:5000/api/config/companies/${n.company.Id}`:"http://localhost:5000/api/config/companies",f=n.company?"put":"post";await K[f](w,r.value,{withCredentials:!0}),o("saved"),s.value=!1}catch(w){alert("Error al guardar: "+(w.response?.data?.message||w.message))}finally{k.value=!1}}return fe(()=>n.company,async w=>{w?r.value={...w}:(r.value={NIT:"",RazonSocial:"",Direccion:"",DepartamentoId:null,CiudadId:null,Telefono:"",Activo:!0},C.value=[])}),Oe(I),(w,f)=>(q(),ae(le,{modelValue:s.value,"onUpdate:modelValue":f[9]||(f[9]=x=>s.value=x),"max-width":"600",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl elevation-0"},{default:a(()=>[l("div",Cl,[l("div",Il,[l("div",Sl,[t(B,{color:"primary",size:"24"},{default:a(()=>[...f[10]||(f[10]=[A("mdi-domain",-1)])]),_:1})]),l("div",null,[l("h2",Pl,U(e.company?"Editar Empresa":"Registrar Nueva Empresa"),1),l("p",Al," Complete la información para "+U(e.company?"actualizar la":"dar de alta una nueva")+" entidad. ",1)])]),t(z,{icon:"mdi-close",variant:"text",color:"grey-darken-1",density:"comfortable",onClick:f[0]||(f[0]=x=>s.value=!1)})]),t(ve,{class:"mx-6 my-2"}),t(ne,{class:"px-6 py-2 scroll-container",style:{"max-height":"60vh","overflow-y":"auto"}},{default:a(()=>[t(Ae,{ref:"form",onSubmit:ye(b,["prevent"])},{default:a(()=>[t(me,{dense:""},{default:a(()=>[t(H,{cols:"12",md:"6"},{default:a(()=>[f[11]||(f[11]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NIT / IDENTIFICACIÓN",-1)),t(se,{modelValue:r.value.NIT,"onUpdate:modelValue":f[1]||(f[1]=x=>r.value.NIT=x),placeholder:"Ej. 900.123.456-7",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-pound","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[x=>!!x||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[f[12]||(f[12]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"RAZÓN SOCIAL",-1)),t(se,{modelValue:r.value.RazonSocial,"onUpdate:modelValue":f[2]||(f[2]=x=>r.value.RazonSocial=x),placeholder:"Nombre de la empresa",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-office-building","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[x=>!!x||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(H,{cols:"12"},{default:a(()=>[f[13]||(f[13]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DIRECCIÓN PRINCIPAL",-1)),t(se,{modelValue:r.value.Direccion,"onUpdate:modelValue":f[3]||(f[3]=x=>r.value.Direccion=x),placeholder:"Calle, Carrera, Avenida...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[f[14]||(f[14]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DEPARTAMENTO",-1)),t(Xe,{modelValue:r.value.DepartamentoId,"onUpdate:modelValue":[f[4]||(f[4]=x=>r.value.DepartamentoId=x),S],items:m.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[f[15]||(f[15]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CIUDAD",-1)),t(Xe,{modelValue:r.value.CiudadId,"onUpdate:modelValue":f[5]||(f[5]=x=>r.value.CiudadId=x),items:C.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-radius-outline","bg-color":"grey-lighten-5",class:"rounded-lg",disabled:!r.value.DepartamentoId,"hide-details":"auto"},null,8,["modelValue","items","disabled"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[f[16]||(f[16]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"TELÉFONO DE CONTACTO",-1)),t(se,{modelValue:r.value.Telefono,"onUpdate:modelValue":f[6]||(f[6]=x=>r.value.Telefono=x),placeholder:"(+57) 300 000 0000",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-phone-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[f[17]||(f[17]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO DE LA EMPRESA",-1)),l("div",{class:ee(["status-box d-flex align-center justify-space-between px-3 py-0 rounded-lg",r.value.Activo?"bg-blue-lighten-5":"bg-grey-lighten-4"])},[l("div",Tl,[t(B,{color:r.value.Activo?"primary":"grey",class:"mr-2",size:"16"},{default:a(()=>[A(U(r.value.Activo?"mdi-check-circle":"mdi-minus-circle"),1)]),_:1},8,["color"]),l("span",{class:ee(["text-caption font-weight-medium",r.value.Activo?"text-primary":"text-grey-darken-1"])},U(r.value.Activo?"Empresa Activa":"Empresa Inactiva"),3)]),t(Le,{modelValue:r.value.Activo,"onUpdate:modelValue":f[7]||(f[7]=x=>r.value.Activo=x),color:"primary","hide-details":"",density:"compact",inset:"",class:"scale-switch"},null,8,["modelValue"])],2)]),_:1})]),_:1})]),_:1},512)]),_:1}),t(we,{class:"px-6 pb-6 pt-4 bg-white"},{default:a(()=>[t(re),t(z,{variant:"text",class:"text-capitalize text-grey-darken-1 mr-2",onClick:f[8]||(f[8]=x=>s.value=!1),density:"comfortable"},{default:a(()=>[...f[18]||(f[18]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"blue-grey-darken-4",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-content-save-outline",onClick:b,loading:k.value,elevation:"0",density:"comfortable"},{default:a(()=>[A(U(e.company?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Dl=De($l,[["__scopeId","data-v-e19fe7d8"]]),El={class:"px-8 pt-8 pb-4 d-flex justify-space-between align-start"},Nl={key:0,class:"d-flex justify-center align-center py-12"},_l={key:1,class:"d-flex flex-column align-center justify-center py-12 text-center"},Fl={class:"empty-state-icon mb-6"},Rl={class:"plus-badge"},zl={class:"d-flex justify-space-between align-start mb-3"},Ml={class:"text-subtitle-1 font-weight-bold text-grey-darken-3 text-truncate"},Ol={class:"text-caption text-grey-darken-1 mb-2 font-weight-medium"},Ul={class:"text-caption text-grey mb-1 d-flex align-center"},Ll={class:"text-truncate"},Bl={class:"text-caption text-grey d-flex align-center"},jl={__name:"CompanyList",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:i}){const n=e,o=i,s=O({get:()=>n.modelValue,set:x=>o("update:modelValue",x)}),r=P([]),m=P(!1),C=P(""),k=P("all"),I=P(!1),S=P(null);async function b(){m.value=!0;try{const x=await K.get("http://localhost:5000/api/config/companies",{withCredentials:!0});r.value=x.data}catch(x){console.error(x)}finally{m.value=!1}}const w=O(()=>r.value.filter(x=>{if(x.EsCliente)return!1;const c=x.RazonSocial?.toLowerCase().includes(C.value.toLowerCase())||x.NIT?.includes(C.value),u=k.value==="all"?!0:k.value==="active"?x.Activo:!x.Activo;return c&&u}));function f(x){S.value=x,I.value=!0}return fe(s,x=>{x&&b()},{immediate:!0}),Oe(()=>{s.value&&b()}),(x,c)=>(q(),ae(le,{modelValue:s.value,"onUpdate:modelValue":c[6]||(c[6]=u=>s.value=u),"max-width":"1100",height:"auto",scrollable:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(J,{class:"rounded-xl elevation-24"},{default:a(()=>[l("div",El,[c[7]||(c[7]=l("div",null,[l("h2",{class:"text-h5 font-weight-bold text-grey-darken-3 mb-1"},"Mis Empresas"),l("p",{class:"text-body-2 text-grey"},"Gestiona el listado de empresas registradas en el sistema.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:c[0]||(c[0]=u=>s.value=!1)})]),t(ve,{class:"mx-8"}),t(ne,{class:"px-8 py-6 bg-grey-lighten-5"},{default:a(()=>[t(me,{class:"mb-6 align-center"},{default:a(()=>[t(H,{cols:"12",md:"5"},{default:a(()=>[t(se,{modelValue:C.value,"onUpdate:modelValue":c[1]||(c[1]=u=>C.value=u),"prepend-inner-icon":"mdi-magnify",label:"Buscar por NIT o Razón Social",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",color:"primary",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",md:"3"},{default:a(()=>[t(Me,{modelValue:k.value,"onUpdate:modelValue":c[2]||(c[2]=u=>k.value=u),items:[{title:"Todos los estados",value:"all"},{title:"Activos",value:"active"},{title:"Inactivos",value:"inactive"}],label:"Estado",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",color:"primary",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(re),t(H,{cols:"12",md:"auto"},{default:a(()=>[t(z,{color:"#1e293b",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:c[3]||(c[3]=u=>f(null))},{default:a(()=>[...c[8]||(c[8]=[A(" Nueva Empresa ",-1)])]),_:1})]),_:1})]),_:1}),m.value?(q(),ge("div",Nl,[t(Yt,{indeterminate:"",color:"primary",size:"64"})])):w.value.length===0?(q(),ge("div",_l,[l("div",Fl,[t(B,{size:"48",color:"primary"},{default:a(()=>[...c[9]||(c[9]=[A("mdi-briefcase-plus-outline",-1)])]),_:1}),l("div",Rl,[t(B,{size:"16",color:"white"},{default:a(()=>[...c[10]||(c[10]=[A("mdi-plus",-1)])]),_:1})])]),c[12]||(c[12]=l("h3",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron empresas",-1)),c[13]||(c[13]=l("p",{class:"text-body-2 text-grey mb-8",style:{"max-width":"400px"}}," Aún no has registrado ninguna empresa. Comienza agregando la primera para gestionar sus sedes, usuarios y activos. ",-1)),t(z,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg px-6",height:"44","prepend-icon":"mdi-plus",onClick:c[4]||(c[4]=u=>f(null))},{default:a(()=>[...c[11]||(c[11]=[A(" Agregar mi primera empresa ",-1)])]),_:1})])):(q(),ae(me,{key:2},{default:a(()=>[(q(!0),ge(ce,null,Ne(w.value,u=>(q(),ae(H,{cols:"12",sm:"6",md:"4",lg:"3",key:u.Id},{default:a(()=>[t(J,{hover:"",onClick:V=>f(u),class:"company-card border-0 elevation-1 h-100 rounded-lg"},{default:a(()=>[l("div",{class:ee(["card-status-strip",u.Activo?"bg-success":"bg-grey"])},null,2),t(ne,{class:"pa-5"},{default:a(()=>[l("div",zl,[l("div",Ml,U(u.RazonSocial),1)]),l("div",Ol," NIT: "+U(u.NIT),1),t(ve,{class:"mb-3"}),l("div",Ul,[t(B,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:a(()=>[...c[14]||(c[14]=[A("mdi-map-marker",-1)])]),_:1}),l("span",Ll,U(u.Direccion||"Sin dirección"),1)]),l("div",Bl,[t(B,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:a(()=>[...c[15]||(c[15]=[A("mdi-phone",-1)])]),_:1}),A(" "+U(u.Telefono||"Sin teléfono"),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}),t(Dl,{modelValue:I.value,"onUpdate:modelValue":c[5]||(c[5]=u=>I.value=u),company:S.value,onSaved:b},null,8,["modelValue","company"])]),_:1},8,["modelValue"]))}},Gl=De(jl,[["__scopeId","data-v-7742931b"]]),Hl={class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},ql={class:"d-flex align-center"},Kl={class:"header-icon-box mr-3"},Wl={class:"text-h6 font-weight-bold text-grey-darken-3",style:{"line-height":"1.2"}},Zl={class:"text-caption text-grey mt-1"},Jl={class:"d-flex align-center"},Ql={__name:"SedeForm",props:{modelValue:Boolean,sede:Object,companies:Array},emits:["update:modelValue","save"],setup(e,{emit:i}){const n=e,o=i,s=O({get:()=>n.modelValue,set:c=>o("update:modelValue",c)}),r=P(null),m=P(!1),C=P([]),k=P([]),I=P(null),S=O(()=>n.companies.filter(c=>c.Activo&&!c.EsCliente)),b=P({EmpresaId:null,NombreSede:"",Direccion:"",Telefono:"",CiudadId:null,Activo:!0});async function w(){try{const c=await K.get("http://localhost:5000/api/config/departments",{withCredentials:!0});C.value=c.data}catch(c){console.error(c)}}async function f(c){if(console.log("Cargando ciudades para depto:",c),!c){k.value=[];return}try{const u=await K.get(`http://localhost:5000/api/config/cities/${c}`,{withCredentials:!0});k.value=u.data,console.log("Ciudades cargadas:",k.value.length)}catch(u){console.error(u)}}async function x(){console.log("Intentando guardar sede...",b.value);const{valid:c,errors:u}=await r.value.validate();if(console.log("Validación del formulario:",c,u),!c){console.warn("Formulario inválido, no se envía.");return}m.value=!0;try{const V=n.sede?`http://localhost:5000/api/config/sedes/${n.sede.Id}`:"http://localhost:5000/api/config/sedes",v=n.sede?"put":"post";console.log(`Enviando ${v.toUpperCase()} a ${V}`),await K[v](V,b.value,{withCredentials:!0}),console.log("Guardado exitoso"),o("save"),s.value=!1}catch(V){console.error("Error en petición:",V),alert("Error al guardar: "+(V.response?.data?.message||V.message))}finally{m.value=!1}}return fe(()=>n.sede,async c=>{c?(b.value={...c},I.value=null,k.value=[]):(b.value={EmpresaId:null,NombreSede:"",Direccion:"",Telefono:"",CiudadId:null,Activo:!0},I.value=null,k.value=[])}),Oe(()=>{w()}),(c,u)=>(q(),ae(le,{modelValue:s.value,"onUpdate:modelValue":u[9]||(u[9]=V=>s.value=V),"max-width":"600",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl elevation-0"},{default:a(()=>[l("div",Hl,[l("div",ql,[l("div",Kl,[t(B,{color:"primary",size:"24"},{default:a(()=>[...u[10]||(u[10]=[A("mdi-map-marker",-1)])]),_:1})]),l("div",null,[l("h2",Wl,U(e.sede?"Editar Sede":"Registrar Nueva Sede"),1),l("p",Zl," Complete la información para "+U(e.sede?"actualizar la":"dar de alta una nueva")+" sede. ",1)])]),t(z,{icon:"mdi-close",variant:"text",color:"grey-darken-1",density:"comfortable",onClick:u[0]||(u[0]=V=>s.value=!1)})]),t(ve,{class:"mx-6 my-2"}),t(ne,{class:"px-6 py-2 scroll-container",style:{"max-height":"60vh","overflow-y":"auto"}},{default:a(()=>[t(Ae,{ref_key:"form",ref:r,onSubmit:ye(x,["prevent"])},{default:a(()=>[t(me,{dense:""},{default:a(()=>[t(H,{cols:"12"},{default:a(()=>[u[11]||(u[11]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"EMPRESA ASOCIADA",-1)),t(Xe,{modelValue:b.value.EmpresaId,"onUpdate:modelValue":u[1]||(u[1]=V=>b.value.EmpresaId=V),items:S.value,"item-title":"RazonSocial","item-value":"Id",placeholder:"Seleccionar empresa...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-domain","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[V=>!!V||"Requerido"],"hide-details":"auto"},null,8,["modelValue","items","rules"])]),_:1}),t(H,{cols:"12"},{default:a(()=>[u[12]||(u[12]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NOMBRE DE LA SEDE",-1)),t(se,{modelValue:b.value.NombreSede,"onUpdate:modelValue":u[2]||(u[2]=V=>b.value.NombreSede=V),placeholder:"Ej. Sede Principal, Oficina Norte...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-store-marker-outline","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[V=>!!V||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[u[13]||(u[13]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DEPARTAMENTO",-1)),t(Xe,{modelValue:I.value,"onUpdate:modelValue":[u[3]||(u[3]=V=>I.value=V),f],items:C.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[u[14]||(u[14]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CIUDAD",-1)),t(Xe,{modelValue:b.value.CiudadId,"onUpdate:modelValue":u[4]||(u[4]=V=>b.value.CiudadId=V),items:k.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-radius-outline","bg-color":"grey-lighten-5",class:"rounded-lg",disabled:!I.value,rules:[V=>!!V||"Requerido"],"hide-details":"auto"},null,8,["modelValue","items","disabled","rules"])]),_:1}),t(H,{cols:"12"},{default:a(()=>[u[15]||(u[15]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"DIRECCIÓN FÍSICA",-1)),t(se,{modelValue:b.value.Direccion,"onUpdate:modelValue":u[5]||(u[5]=V=>b.value.Direccion=V),placeholder:"Calle, Carrera, Avenida...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[u[16]||(u[16]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"TELÉFONO DE CONTACTO",-1)),t(se,{modelValue:b.value.Telefono,"onUpdate:modelValue":u[6]||(u[6]=V=>b.value.Telefono=V),placeholder:"(+57) 601 000 0000",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-phone-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",md:"6"},{default:a(()=>[u[17]||(u[17]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO DE LA SEDE",-1)),l("div",{class:ee(["status-box d-flex align-center justify-space-between px-3 py-0 rounded-lg",b.value.Activo?"bg-blue-lighten-5":"bg-grey-lighten-4"])},[l("div",Jl,[t(B,{color:b.value.Activo?"primary":"grey",class:"mr-2",size:"16"},{default:a(()=>[A(U(b.value.Activo?"mdi-check-circle":"mdi-minus-circle"),1)]),_:1},8,["color"]),l("span",{class:ee(["text-caption font-weight-medium",b.value.Activo?"text-primary":"text-grey-darken-1"])},U(b.value.Activo?"Sede Activa":"Sede Inactiva"),3)]),t(Le,{modelValue:b.value.Activo,"onUpdate:modelValue":u[7]||(u[7]=V=>b.value.Activo=V),color:"primary","hide-details":"",density:"compact",inset:"",class:"scale-switch"},null,8,["modelValue"])],2)]),_:1})]),_:1})]),_:1},512)]),_:1}),t(we,{class:"px-6 pb-6 pt-4 bg-white"},{default:a(()=>[t(re),t(z,{variant:"text",class:"text-capitalize text-grey-darken-1 mr-2",onClick:u[8]||(u[8]=V=>s.value=!1),density:"comfortable"},{default:a(()=>[...u[18]||(u[18]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"blue-grey-darken-4",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-content-save-outline",onClick:x,loading:m.value,elevation:"0",density:"comfortable"},{default:a(()=>[A(U(e.sede?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Xl=De(Ql,[["__scopeId","data-v-90538f00"]]),Yl={class:"px-8 pt-8 pb-4 d-flex justify-space-between align-start"},eo={key:0,class:"d-flex justify-center align-center py-12"},to={key:1,class:"d-flex flex-column align-center justify-center py-12 text-center"},ao={class:"empty-state-icon mb-6"},lo={class:"plus-badge"},oo={class:"d-flex justify-space-between align-start mb-3"},no={class:"text-subtitle-1 font-weight-bold text-grey-darken-3 text-truncate"},so={class:"text-caption text-grey-darken-1 mb-2 font-weight-medium d-flex align-center"},io={class:"text-truncate"},ro={class:"text-caption text-grey mb-1 d-flex align-center"},uo={class:"text-truncate"},co={class:"text-caption text-grey d-flex align-center"},vo={__name:"SedeList",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:i}){const n=e,o=i,s=O({get:()=>n.modelValue,set:V=>o("update:modelValue",V)}),r=P([]),m=P([]),C=P(""),k=P(!1),I=P(null),S=P(!1),b=O(()=>{if(!C.value)return r.value.filter(v=>{const T=m.value.find(p=>p.Id===v.EmpresaId);return T&&!T.EsCliente});const V=C.value.toLowerCase();return r.value.filter(v=>{const T=m.value.find(p=>p.Id===v.EmpresaId);return T&&T.EsCliente?!1:v.NombreSede.toLowerCase().includes(V)||v.Direccion&&v.Direccion.toLowerCase().includes(V)})});function w(V){const v=m.value.find(T=>T.Id===V);return v?v.RazonSocial:"Desconocida"}async function f(){S.value=!0;try{const[V,v]=await Promise.all([K.get("http://localhost:5000/api/config/sedes",{withCredentials:!0}),K.get("http://localhost:5000/api/config/companies",{withCredentials:!0})]);r.value=V.data,m.value=v.data}catch(V){console.error("Error cargando datos:",V)}finally{S.value=!1}}function x(){I.value=null,k.value=!0}function c(V){I.value={...V},k.value=!0}async function u(){await f(),k.value=!1}return fe(s,V=>{V&&f()},{immediate:!0}),Oe(()=>{f()}),(V,v)=>(q(),ae(le,{modelValue:s.value,"onUpdate:modelValue":v[3]||(v[3]=T=>s.value=T),"max-width":"1100",height:"auto",scrollable:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(J,{class:"rounded-xl elevation-24"},{default:a(()=>[l("div",Yl,[v[4]||(v[4]=l("div",null,[l("h2",{class:"text-h5 font-weight-bold text-grey-darken-3 mb-1"},"Mis Sedes"),l("p",{class:"text-body-2 text-grey"},"Gestiona las sedes y oficinas operativas de tus empresas.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:v[0]||(v[0]=T=>s.value=!1)})]),t(ve,{class:"mx-8"}),t(ne,{class:"px-8 py-6 bg-grey-lighten-5"},{default:a(()=>[t(me,{class:"mb-6 align-center"},{default:a(()=>[t(H,{cols:"12",md:"5"},{default:a(()=>[t(se,{modelValue:C.value,"onUpdate:modelValue":v[1]||(v[1]=T=>C.value=T),"prepend-inner-icon":"mdi-magnify",label:"Buscar por nombre o dirección",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",color:"primary",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(re),t(H,{cols:"12",md:"auto"},{default:a(()=>[t(z,{color:"#1e293b",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:x},{default:a(()=>[...v[5]||(v[5]=[A(" Nueva Sede ",-1)])]),_:1})]),_:1})]),_:1}),S.value?(q(),ge("div",eo,[t(Yt,{indeterminate:"",color:"primary",size:"64"})])):b.value.length===0?(q(),ge("div",to,[l("div",ao,[t(B,{size:"48",color:"primary"},{default:a(()=>[...v[6]||(v[6]=[A("mdi-map-marker-off",-1)])]),_:1}),l("div",lo,[t(B,{size:"16",color:"white"},{default:a(()=>[...v[7]||(v[7]=[A("mdi-plus",-1)])]),_:1})])]),v[9]||(v[9]=l("h3",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron sedes",-1)),v[10]||(v[10]=l("p",{class:"text-body-2 text-grey mb-8",style:{"max-width":"400px"}}," No hay sedes registradas que coincidan con tu búsqueda. Agrega una nueva sede para comenzar. ",-1)),t(z,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg px-6",height:"44","prepend-icon":"mdi-plus",onClick:x},{default:a(()=>[...v[8]||(v[8]=[A(" Agregar mi primera sede ",-1)])]),_:1})])):(q(),ae(me,{key:2},{default:a(()=>[(q(!0),ge(ce,null,Ne(b.value,T=>(q(),ae(H,{cols:"12",sm:"6",md:"4",lg:"3",key:T.Id},{default:a(()=>[t(J,{hover:"",onClick:p=>c(T),class:"company-card border-0 elevation-1 h-100 rounded-lg"},{default:a(()=>[l("div",{class:ee(["card-status-strip",T.Activo?"bg-success":"bg-grey"])},null,2),t(ne,{class:"pa-5"},{default:a(()=>[l("div",oo,[l("div",no,U(T.NombreSede),1)]),l("div",so,[t(B,{size:"small",start:"",class:"mr-1"},{default:a(()=>[...v[11]||(v[11]=[A("mdi-domain",-1)])]),_:1}),l("span",io,U(w(T.EmpresaId)),1)]),t(ve,{class:"mb-3"}),l("div",ro,[t(B,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:a(()=>[...v[12]||(v[12]=[A("mdi-map-marker",-1)])]),_:1}),l("span",uo,U(T.Direccion||"Sin dirección"),1)]),l("div",co,[t(B,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:a(()=>[...v[13]||(v[13]=[A("mdi-phone",-1)])]),_:1}),A(" "+U(T.Telefono||"Sin teléfono"),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}),t(Xl,{modelValue:k.value,"onUpdate:modelValue":v[2]||(v[2]=T=>k.value=T),sede:I.value,companies:m.value,onSave:u},null,8,["modelValue","sede","companies"])]),_:1},8,["modelValue"]))}},fo=De(vo,[["__scopeId","data-v-c4fa3fab"]]);function mo(){const e=P([]);$a(()=>e.value=[]);function i(n,o){e.value[o]=n}return{refs:e,updateRef:i}}const go=de({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:pe,default:"$first"},prevIcon:{type:pe,default:"$prev"},nextIcon:{type:pe,default:"$next"},lastIcon:{type:pe,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Qt(),..._t(),...at(),...Jt(),...Zt(),...Qa(),...Nt({tag:"nav"}),...Et(),...Ja({variant:"text"})},"VPagination"),Bt=Se()({name:"VPagination",props:go(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,i){let{slots:n,emit:o}=i;const s=Te(e,"modelValue"),{t:r,n:m}=Be(),{isRtl:C}=Da(),{themeClasses:k}=Dt(e),{width:I}=ut(),S=Ee(-1);Pt(void 0,{scoped:!0});const{resizeRef:b}=Ea(F=>{if(!F.length)return;const{target:$,contentRect:d}=F[0],D=$.querySelector(".v-pagination__list > *");if(!D)return;const j=d.width,M=D.offsetWidth+parseFloat(getComputedStyle(D).marginRight)*2;S.value=c(j,M)}),w=O(()=>parseInt(e.length,10)),f=O(()=>parseInt(e.start,10)),x=O(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):S.value>=0?S.value:c(I.value,58));function c(F,$){const d=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((F-$*d)/$).toFixed(2))))}const u=O(()=>{if(w.value<=0||isNaN(w.value)||w.value>Number.MAX_SAFE_INTEGER)return[];if(x.value<=0)return[];if(x.value===1)return[s.value];if(w.value<=x.value)return ot(w.value,f.value);const F=x.value%2===0,$=F?x.value/2:Math.floor(x.value/2),d=F?$:$+1,D=w.value-$;if(d-s.value>=0)return[...ot(Math.max(1,x.value-1),f.value),e.ellipsis,w.value];if(s.value-D>=(F?1:0)){const j=x.value-1,M=w.value-j+f.value;return[f.value,e.ellipsis,...ot(j,M)]}else{const j=Math.max(1,x.value-2),M=j===1?s.value:s.value-Math.ceil(j/2)+f.value;return[f.value,e.ellipsis,...ot(j,M),e.ellipsis,w.value]}});function V(F,$,d){F.preventDefault(),s.value=$,d&&o(d,$)}const{refs:v,updateRef:T}=mo();Pt({VPaginationBtn:{color:oe(()=>e.color),border:oe(()=>e.border),density:oe(()=>e.density),size:oe(()=>e.size),variant:oe(()=>e.variant),rounded:oe(()=>e.rounded),elevation:oe(()=>e.elevation)}});const p=O(()=>u.value.map((F,$)=>{const d=D=>T(D,$);if(typeof F=="string")return{isActive:!1,key:`ellipsis-${$}`,page:F,props:{ref:d,ellipsis:!0,icon:!0,disabled:!0}};{const D=F===s.value;return{isActive:D,key:F,page:m(F),props:{ref:d,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:D?e.activeColor:e.color,"aria-current":D,"aria-label":r(D?e.currentPageAriaLabel:e.pageAriaLabel,F),onClick:j=>V(j,F)}}}})),g=O(()=>{const F=!!e.disabled||s.value<=f.value,$=!!e.disabled||s.value>=f.value+w.value-1;return{first:e.showFirstLastPage?{icon:C.value?e.lastIcon:e.firstIcon,onClick:d=>V(d,f.value,"first"),disabled:F,"aria-label":r(e.firstAriaLabel),"aria-disabled":F}:void 0,prev:{icon:C.value?e.nextIcon:e.prevIcon,onClick:d=>V(d,s.value-1,"prev"),disabled:F,"aria-label":r(e.previousAriaLabel),"aria-disabled":F},next:{icon:C.value?e.prevIcon:e.nextIcon,onClick:d=>V(d,s.value+1,"next"),disabled:$,"aria-label":r(e.nextAriaLabel),"aria-disabled":$},last:e.showFirstLastPage?{icon:C.value?e.firstIcon:e.lastIcon,onClick:d=>V(d,f.value+w.value-1,"last"),disabled:$,"aria-label":r(e.lastAriaLabel),"aria-disabled":$}:void 0}});function R(){const F=s.value-f.value;v.value[F]?.$el.focus()}function X(F){F.key===Ot.left&&!e.disabled&&s.value>Number(e.start)?(s.value=s.value-1,Re(R)):F.key===Ot.right&&!e.disabled&&s.value<f.value+w.value-1&&(s.value=s.value+1,Re(R))}return $e(()=>t(e.tag,{ref:b,class:ee(["v-pagination",k.value,e.class]),style:tt(e.style),role:"navigation","aria-label":r(e.ariaLabel),onKeydown:X,"data-test":"v-pagination-root"},{default:()=>[l("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&l("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(g.value.first):t(z,Q({_as:"VPaginationBtn"},g.value.first),null)]),l("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(g.value.prev):t(z,Q({_as:"VPaginationBtn"},g.value.prev),null)]),p.value.map((F,$)=>l("li",{key:F.key,class:ee(["v-pagination__item",{"v-pagination__item--is-active":F.isActive}]),"data-test":"v-pagination-item"},[n.item?n.item(F):t(z,Q({_as:"VPaginationBtn"},F.props),{default:()=>[F.page]})])),l("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(g.value.next):t(z,Q({_as:"VPaginationBtn"},g.value.next),null)]),e.showFirstLastPage&&l("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(g.value.last):t(z,Q({_as:"VPaginationBtn"},g.value.last),null)])])]})),{}}}),po=de({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),aa=Symbol.for("vuetify:data-table-pagination");function bo(e){const i=Te(e,"page",void 0,o=>Number(o??1)),n=Te(e,"itemsPerPage",void 0,o=>Number(o??10));return{page:i,itemsPerPage:n}}function yo(e){const{page:i,itemsPerPage:n,itemsLength:o}=e,s=O(()=>n.value===-1?0:n.value*(i.value-1)),r=O(()=>n.value===-1?o.value:Math.min(o.value,s.value+n.value)),m=O(()=>n.value===-1||o.value===0?1:Math.ceil(o.value/n.value));fe([i,m],()=>{i.value>m.value&&(i.value=m.value)});function C(w){n.value=w,i.value=1}function k(){i.value=kt(i.value+1,1,m.value)}function I(){i.value=kt(i.value-1,1,m.value)}function S(w){i.value=kt(w,1,m.value)}const b={page:i,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:m,itemsLength:o,nextPage:k,prevPage:I,setPage:S,setItemsPerPage:C};return Ge(aa,b),b}function xo(){const e=je(aa);if(!e)throw new Error("Missing pagination!");return e}function ho(e){const i=Wt("usePaginatedItems"),{items:n,startIndex:o,stopIndex:s,itemsPerPage:r}=e,m=O(()=>r.value<=0?n.value:n.value.slice(o.value,s.value));return fe(m,C=>{i.emit("update:currentItems",C)},{immediate:!0}),{paginatedItems:m}}const la=de({color:String,prevIcon:{type:pe,default:"$prev"},nextIcon:{type:pe,default:"$next"},firstIcon:{type:pe,default:"$first"},lastIcon:{type:pe,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),jt=Se()({name:"VDataTableFooter",props:la(),setup(e,i){let{slots:n}=i;const{t:o}=Be(),{page:s,pageCount:r,startIndex:m,stopIndex:C,itemsLength:k,itemsPerPage:I,setItemsPerPage:S}=xo(),b=O(()=>e.itemsPerPageOptions.map(w=>typeof w=="number"?{value:w,title:w===-1?o("$vuetify.dataFooter.itemsPerPageAll"):String(w)}:{...w,title:isNaN(Number(w.title))?o(w.title):w.title}));return $e(()=>{const w=Bt.filterProps(e);return l("div",{class:"v-data-table-footer"},[n.prepend?.(),l("div",{class:"v-data-table-footer__items-per-page"},[l("span",{"aria-label":o(e.itemsPerPageText)},[o(e.itemsPerPageText)]),t(Me,{items:b.value,itemColor:e.color,modelValue:I.value,"onUpdate:modelValue":f=>S(Number(f)),density:"compact",variant:"outlined",hideDetails:!0},null)]),l("div",{class:"v-data-table-footer__info"},[l("div",null,[o(e.pageText,k.value?m.value+1:0,C.value,k.value)])]),l("div",{class:"v-data-table-footer__pagination"},[t(Bt,Q({modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},ct(w,["color"])),null)])])}),{}}}),et=Na({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,i)=>{let{slots:n}=i;const o=e.tag??"td",s=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return t(o,{class:ee(["v-data-table__td",{"v-data-table-column--fixed":s==="start","v-data-table-column--fixed-end":s==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:he(e.height),width:he(e.width),maxWidth:he(e.maxWidth),left:s==="start"?he(e.fixedOffset||null):void 0,right:s==="end"?he(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?he(e.indent):void 0}},{default:()=>[n.default?.()]})}),wo=de({headers:Array},"DataTable-header"),oa=Symbol.for("vuetify:data-table-headers"),na={title:"",sortable:!1},Vo={...na,width:48};function ko(){const i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,o)=>{let s=!1;for(let r=0;r<i.length;r++)if(i[r].priority>o){i.splice(r,0,{element:n,priority:o}),s=!0;break}s||i.push({element:n,priority:o})},size:()=>i.length,count:()=>{let n=0;if(!i.length)return 0;const o=Math.floor(i[0].priority);for(let s=0;s<i.length;s++)Math.floor(i[s].priority)===o&&(n+=1);return n},dequeue:()=>i.shift()}}function $t(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)i.push(e);else for(const n of e.children)$t(n,i);return i}function sa(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&i.add(n.key),n.children&&sa(n.children,i);return i}function Co(e){if(e.key){if(e.key==="data-table-group")return na;if(["data-table-expand","data-table-select"].includes(e.key))return Vo}}function Rt(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(i,...e.children.map(n=>Rt(n,i+1))):i}function Io(e){let i=!1;function n(r,m){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(C!=="none"&&(r.fixed=C),r.fixed===!0&&(r.fixed="start"),r.fixed===m)if(r.children)if(m==="start")for(let k=r.children.length-1;k>=0;k--)n(r.children[k],m,m);else for(let k=0;k<r.children.length;k++)n(r.children[k],m,m);else!i&&m==="start"?r.lastFixed=!0:!i&&m==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?Ra(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),i=!0;else if(r.children)if(m==="start")for(let k=r.children.length-1;k>=0;k--)n(r.children[k],m);else for(let k=0;k<r.children.length;k++)n(r.children[k],m);else i=!1}for(let r=e.length-1;r>=0;r--)n(e[r],"start");for(let r=0;r<e.length;r++)n(e[r],"end");let o=0;for(let r=0;r<e.length;r++)o=ia(e[r],o);let s=0;for(let r=e.length-1;r>=0;r--)s=ra(e[r],s)}function ia(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return i;if(e.children){e.fixedOffset=i;for(const n of e.children)i=ia(n,i)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=i,i+=parseFloat(e.width||"0")||0);return i}function ra(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return i;if(e.children){e.fixedEndOffset=i;for(const n of e.children)i=ra(n,i)}else e.fixed==="end"&&(e.fixedEndOffset=i,i+=parseFloat(e.width||"0")||0);return i}function So(e,i){const n=[];let o=0;const s=ko(e);for(;s.size()>0;){let m=s.count();const C=[];let k=1;for(;m>0;){const{element:I,priority:S}=s.dequeue(),b=i-o-Rt(I);if(C.push({...I,rowspan:b??1,colspan:I.children?$t(I).length:1}),I.children)for(const w of I.children){const f=S%1+k/Math.pow(10,o+2);s.enqueue(w,o+b+f)}k+=1,m-=1}o+=1,n.push(C)}return{columns:e.map(m=>$t(m)).flat(),headers:n}}function da(e){const i=[];for(const n of e){const o={...Co(n),...n},s=o.key??(typeof o.value=="string"?o.value:null),r=o.value??s??null,m={...o,key:s,value:r,sortable:o.sortable??(o.key!=null||!!o.sort),children:o.children?da(o.children):void 0};i.push(m)}return i}function Po(e,i){const n=P([]),o=P([]),s=P({}),r=P({}),m=P({});_a(()=>{const I=(e.headers||Object.keys(e.items[0]??{}).map(c=>({key:c,title:Fa(c)}))).slice(),S=sa(I);i?.groupBy?.value.length&&!S.has("data-table-group")&&I.unshift({key:"data-table-group",title:"Group"}),i?.showSelect?.value&&!S.has("data-table-select")&&I.unshift({key:"data-table-select"}),i?.showExpand?.value&&!S.has("data-table-expand")&&I.push({key:"data-table-expand"});const b=da(I);Io(b);const w=Math.max(...b.map(c=>Rt(c)))+1,f=So(b,w);n.value=f.headers,o.value=f.columns;const x=f.headers.flat(1);for(const c of x)c.key&&(c.sortable&&(c.sort&&(s.value[c.key]=c.sort),c.sortRaw&&(r.value[c.key]=c.sortRaw)),c.filter&&(m.value[c.key]=c.filter))});const C={headers:n,columns:o,sortFunctions:s,sortRawFunctions:r,filterFunctions:m};return Ge(oa,C),C}function ft(){const e=je(oa);if(!e)throw new Error("Missing headers!");return e}const Ao={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:i,value:n}=e;return new Set(n?[i[0]?.value]:[])},selectAll:e=>{let{selected:i}=e;return i}},ua={showSelectAll:!0,allSelected:e=>{let{currentPage:i}=e;return i},select:e=>{let{items:i,value:n,selected:o}=e;for(const s of i)n?o.add(s.value):o.delete(s.value);return o},selectAll:e=>{let{value:i,currentPage:n,selected:o}=e;return ua.select({items:n,value:i,selected:o})}},To={showSelectAll:!0,allSelected:e=>{let{allItems:i}=e;return i},select:e=>{let{items:i,value:n,selected:o}=e;for(const s of i)n?o.add(s.value):o.delete(s.value);return o},selectAll:e=>{let{value:i,allItems:n}=e;return new Set(i?n.map(o=>o.value):[])}},$o=de({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:Function},"DataTable-select"),ca=Symbol.for("vuetify:data-table-selection");function Do(e,i){let{allItems:n,currentPage:o}=i;const s=Te(e,"modelValue",e.modelValue,v=>{const T=e.valueComparator;return T?new Set(Je(v).map(p=>n.value.find(g=>T(p,g.value))?.value??p)):new Set(Je(v).map(p=>za(p)?n.value.find(g=>p===g.value)?.value??p:n.value.find(g=>dt(p,g.value))?.value??p))},v=>[...v.values()]),r=O(()=>n.value.filter(v=>v.selectable)),m=O(()=>o.value.filter(v=>v.selectable)),C=O(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Ao;case"all":return To;case"page":default:return ua}}),k=Ee(null);function I(v){return Je(v).every(T=>s.value.has(T.value))}function S(v){return Je(v).some(T=>s.value.has(T.value))}function b(v,T){const p=C.value.select({items:v,value:T,selected:new Set(s.value)});s.value=p}function w(v,T,p){const g=[];if(T=T??o.value.findIndex(R=>R.value===v.value),e.selectStrategy!=="single"&&p?.shiftKey&&k.value!==null){const[R,X]=[k.value,T].sort((F,$)=>F-$);g.push(...o.value.slice(R,X+1).filter(F=>F.selectable))}else g.push(v),k.value=T;b(g,!I([v]))}function f(v){const T=C.value.selectAll({value:v,allItems:r.value,currentPage:m.value,selected:new Set(s.value)});s.value=T}const x=O(()=>s.value.size>0),c=O(()=>{const v=C.value.allSelected({allItems:r.value,currentPage:m.value});return!!v.length&&I(v)}),u=oe(()=>C.value.showSelectAll),V={toggleSelect:w,select:b,selectAll:f,isSelected:I,isSomeSelected:S,someSelected:x,allSelected:c,showSelectAll:u,lastSelectedIndex:k,selectStrategy:C};return Ge(ca,V),V}function mt(){const e=je(ca);if(!e)throw new Error("Missing selection!");return e}const Eo=de({initialSortOrder:{type:String,default:"asc",validator:e=>!e||["asc","desc"].includes(e)},sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:{type:[Boolean,Object],default:!1},mustSort:Boolean},"DataTable-sort"),va=Symbol.for("vuetify:data-table-sort");function No(e){const i=oe(()=>e.initialSortOrder),n=Te(e,"sortBy"),o=oe(()=>e.mustSort),s=oe(()=>e.multiSort);return{initialSortOrder:i,sortBy:n,multiSort:s,mustSort:o}}function _o(e,i){if(!Ma(e))return{active:!!e};const{key:n,mode:o,modifier:s}=e,r=s==="alt"&&i?.altKey||s==="shift"&&i?.shiftKey;return{active:!n||i?.ctrlKey||i?.metaKey||!1,mode:r?o==="append"?"prepend":"append":o}}function Fo(e){const{initialSortOrder:i,sortBy:n,mustSort:o,multiSort:s,page:r}=e,m=(I,S)=>{if(I.key==null)return;let b=n.value.map(c=>({...c}))??[];const w=b.find(c=>c.key===I.key),f=i.value,x=i.value==="desc"?"asc":"desc";if(w)w.order===x?o.value&&b.length===1?w.order=i.value:b=b.filter(c=>c.key!==I.key):w.order=x;else{const{active:c,mode:u}=_o(s.value,S);c?u==="prepend"?b.unshift({key:I.key,order:f}):b.push({key:I.key,order:f}):b=[{key:I.key,order:f}]}n.value=b,r&&(r.value=1)};function C(I){return!!n.value.find(S=>S.key===I.key)}const k={sortBy:n,toggleSort:m,isSorted:C};return Ge(va,k),k}function fa(){const e=je(va);if(!e)throw new Error("Missing sort!");return e}function Ro(e,i,n,o){const s=Be();return{sortedItems:O(()=>n.value.length?zo(i.value,n.value,s.current.value,{transform:o?.transform,sortFunctions:{...e.customKeySort,...o?.sortFunctions?.value},sortRawFunctions:o?.sortRawFunctions?.value}):i.value)}}function zo(e,i,n,o){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(m=>[m,o?.transform?o.transform(m):m]).sort((m,C)=>{for(let k=0;k<i.length;k++){let I=!1;const S=i[k].key,b=i[k].order??"asc";if(b===!1)continue;let w=rt(m[1],S),f=rt(C[1],S),x=m[0].raw,c=C[0].raw;if(b==="desc"&&([w,f]=[f,w],[x,c]=[c,x]),o?.sortRawFunctions?.[S]){const u=o.sortRawFunctions[S](x,c);if(u==null)continue;if(I=!0,u)return u}if(o?.sortFunctions?.[S]){const u=o.sortFunctions[S](w,f);if(u==null)continue;if(I=!0,u)return u}if(!I&&(w instanceof Date&&f instanceof Date&&(w=w.getTime(),f=f.getTime()),[w,f]=[w,f].map(u=>u!=null?u.toString().toLocaleLowerCase():u),w!==f))return nt(w)&&nt(f)?0:nt(w)?-1:nt(f)?1:!isNaN(w)&&!isNaN(f)?Number(w)-Number(f):s.compare(w,f)}return 0}).map(m=>{let[C]=m;return C})}const ma=de({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:pe,default:"$sortAsc"},sortDescIcon:{type:pe,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...at(),...Ft(),...el()},"VDataTableHeaders"),Gt=Se()({name:"VDataTableHeaders",props:ma(),setup(e,i){let{slots:n}=i;const{t:o}=Be(),{toggleSort:s,sortBy:r,isSorted:m}=fa(),{someSelected:C,allSelected:k,selectAll:I,showSelectAll:S}=mt(),{columns:b,headers:w}=ft(),{loaderClasses:f}=Xa(e);function x($,d){if(!(e.sticky||e.fixedHeader)&&!$.fixed)return;const D=typeof $.fixed=="string"?$.fixed:$.fixed?"start":"none";return{position:"sticky",left:D==="start"?he($.fixedOffset):void 0,right:D==="end"?he($.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${d})`:void 0}}function c($,d){$.key==="Enter"&&!e.disableSort&&s(d,$)}function u($){const d=r.value.find(D=>D.key===$.key);return d?d.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:V,backgroundColorStyles:v}=Xt(()=>e.color),{displayClasses:T,mobile:p}=ut(e),g=O(()=>({headers:w.value,columns:b.value,toggleSort:s,isSorted:m,sortBy:r.value,someSelected:C.value,allSelected:k.value,selectAll:I,getSortIcon:u})),R=O(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},T.value,f.value]),X=$=>{let{column:d,x:D,y:j}=$;const M=d.key==="data-table-select"||d.key==="data-table-expand",y=d.key==="data-table-group"&&d.width===0&&!d.title,E=Q(e.headerProps??{},d.headerProps??{});return t(et,Q({tag:"th",align:d.align,class:[{"v-data-table__th--sortable":d.sortable&&!e.disableSort,"v-data-table__th--sorted":m(d),"v-data-table__th--fixed":d.fixed},...R.value],style:{width:he(d.width),minWidth:he(d.minWidth),maxWidth:he(d.maxWidth),...x(d,j)},colspan:d.colspan,rowspan:d.rowspan,fixed:d.fixed,nowrap:d.nowrap,lastFixed:d.lastFixed,firstFixedEnd:d.firstFixedEnd,noPadding:M,empty:y,tabindex:d.sortable?0:void 0,onClick:d.sortable?te=>s(d,te):void 0,onKeydown:d.sortable?te=>c(te,d):void 0},E),{default:()=>{const te=`header.${d.key}`,G={column:d,selectAll:I,isSorted:m,toggleSort:s,sortBy:r.value,someSelected:C.value,allSelected:k.value,getSortIcon:u};return n[te]?n[te](G):y?"":d.key==="data-table-select"?n["header.data-table-select"]?.(G)??(S.value&&t(Ye,{color:e.color,density:e.density,modelValue:k.value,indeterminate:C.value&&!k.value,"onUpdate:modelValue":I},null)):l("div",{class:"v-data-table-header__content"},[l("span",null,[d.title]),d.sortable&&!e.disableSort&&t(B,{key:"icon",class:"v-data-table-header__sort-icon",icon:u(d)},null),e.multiSort&&m(d)&&l("div",{key:"badge",class:ee(["v-data-table-header__sort-badge",...V.value]),style:tt(v.value)},[r.value.findIndex(h=>h.key===d.key)+1])])}})},F=()=>{const $=O(()=>b.value.filter(d=>d?.sortable&&!e.disableSort));return t(et,Q({tag:"th",class:[...R.value],colspan:w.value.length+1},e.headerProps),{default:()=>[l("div",{class:"v-data-table-header__content"},[t(Me,{chips:!0,color:e.color,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:$.value,label:o("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],"onClick:append":()=>I(!k.value)},{append:()=>t(Ye,{color:e.color,density:"compact",modelValue:k.value,indeterminate:C.value&&!k.value,"onUpdate:modelValue":I},null),chip:d=>t(Ve,{onClick:d.item.raw?.sortable?()=>s(d.item.raw):void 0,onMousedown:D=>{D.preventDefault(),D.stopPropagation()}},{default:()=>[d.item.title,t(B,{class:ee(["v-data-table__td-sort-icon",m(d.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:u(d.item.raw),size:"small"},null)]})})])]})};$e(()=>p.value?l("tr",null,[t(F,null,null)]):l(ce,null,[n.headers?n.headers(g.value):w.value.map(($,d)=>l("tr",null,[$.map((D,j)=>t(X,{column:D,x:j,y:d},null))])),e.loading&&l("tr",{class:"v-data-table-progress"},[l("th",{colspan:b.value.length},[t(Ya,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"||e.loading==="true"?e.color:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),Mo=de({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ga=Symbol.for("vuetify:data-table-group");function Oo(e){return{groupBy:Te(e,"groupBy")}}function Uo(e){const{disableSort:i,groupBy:n,sortBy:o}=e,s=P(new Set),r=O(()=>n.value.map(S=>({...S,order:S.order??!1})).concat(i?.value?[]:o.value));function m(S){return s.value.has(S.id)}function C(S){const b=new Set(s.value);m(S)?b.delete(S.id):b.add(S.id),s.value=b}function k(S){function b(w){const f=[];for(const x of w.items)"type"in x&&x.type==="group"?f.push(...b(x)):f.push(x);return[...new Set(f)]}return b({items:S})}const I={sortByWithGroups:r,toggleGroup:C,opened:s,groupBy:n,extractRows:k,isGroupOpen:m};return Ge(ga,I),I}function pa(){const e=je(ga);if(!e)throw new Error("Missing group!");return e}function Lo(e,i){if(!e.length)return[];const n=new Map;for(const o of e){const s=rt(o.raw,i);n.has(s)||n.set(s,[]),n.get(s).push(o)}return n}function ba(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!i.length)return[];const s=Lo(e,i[0]),r=[],m=i.slice(1);return s.forEach((C,k)=>{const I=i[0],S=`${o}_${I}_${k}`;r.push({depth:n,id:S,key:I,value:k,items:m.length?ba(C,m,n+1,S):C,type:"group"})}),r}function ya(e,i,n){const o=[];for(const s of e)"type"in s&&s.type==="group"?(s.value!=null&&o.push(s),(i.has(s.id)||s.value==null)&&(o.push(...ya(s.items,i,n)),n&&o.push({...s,type:"group-summary"}))):o.push(s);return o}function Bo(e,i,n,o){return{flatItems:O(()=>{if(!i.value.length)return e.value;const r=ba(e.value,i.value.map(m=>m.key));return ya(r,n.value,Oa(o))})}}const xa=de({item:{type:Object,required:!0},groupCollapseIcon:{type:pe,default:"$tableGroupCollapse"},groupExpandIcon:{type:pe,default:"$tableGroupExpand"},...at()},"VDataTableGroupHeaderRow"),jo=Se()({name:"VDataTableGroupHeaderRow",props:xa(),setup(e,i){let{slots:n}=i;const{isGroupOpen:o,toggleGroup:s,extractRows:r}=pa(),{isSelected:m,isSomeSelected:C,select:k}=mt(),{columns:I}=ft(),S=O(()=>r([e.item])),b=oe(()=>I.value.length-(I.value.some(w=>w.key==="data-table-select")?1:0));return()=>l("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[I.value.map(w=>{if(w.key==="data-table-group"){const f=o(e.item)?e.groupCollapseIcon:e.groupExpandIcon,x=()=>s(e.item);return n["data-table-group"]?.({item:e.item,count:S.value.length,props:{icon:f,onClick:x}})??t(et,{class:"v-data-table-group-header-row__column",colspan:b.value},{default:()=>[t(z,{size:"small",variant:"text",icon:f,onClick:x},null),l("span",null,[e.item.value]),l("span",null,[A("("),S.value.length,A(")")])]})}else if(w.key==="data-table-select"){const f=m(S.value),x=C(S.value)&&!f,c=u=>k(S.value,u);return n["data-table-select"]?.({props:{modelValue:f,indeterminate:x,"onUpdate:modelValue":c}})??t(et,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[t(Ye,{density:e.density,modelValue:f,indeterminate:x,"onUpdate:modelValue":c},null)]})}return""})])}}),Go=de({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),ha=Symbol.for("vuetify:datatable:expanded");function Ho(e){const i=oe(()=>e.expandOnClick),n=Te(e,"expanded",e.expanded,C=>new Set(C),C=>[...C.values()]);function o(C,k){const I=new Set(n.value),S=st(C.value);if(k)I.add(S);else{const b=[...n.value].find(w=>st(w)===S);I.delete(b)}n.value=I}function s(C){const k=st(C.value);return[...n.value].some(I=>st(I)===k)}function r(C){o(C,!s(C))}const m={expand:o,expanded:n,expandOnClick:i,isExpanded:s,toggleExpand:r};return Ge(ha,m),m}function wa(){const e=je(ha);if(!e)throw new Error("foo");return e}const Va=de({color:String,index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:pe,default:"$collapse"},expandIcon:{type:pe,default:"$expand"},onClick:Ct(),onContextmenu:Ct(),onDblclick:Ct(),...at(),...Ft()},"VDataTableRow"),qo=Se()({name:"VDataTableRow",props:Va(),setup(e,i){let{slots:n}=i;const{displayClasses:o,mobile:s}=ut(e,"v-data-table__tr"),{isSelected:r,toggleSelect:m,someSelected:C,allSelected:k,selectAll:I}=mt(),{isExpanded:S,toggleExpand:b}=wa(),{toggleSort:w,sortBy:f,isSorted:x}=fa(),{columns:c}=ft();$e(()=>l("tr",{class:ee(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},o.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&c.value.map((u,V)=>{const v=e.item,T=`item.${u.key}`,p=`header.${u.key}`,g={index:e.index,item:v.raw,internalItem:v,value:rt(v.columns,u.key),column:u,isSelected:r,toggleSelect:m,isExpanded:S,toggleExpand:b},R={column:u,selectAll:I,isSorted:x,toggleSort:w,sortBy:f.value,someSelected:C.value,allSelected:k.value,getSortIcon:()=>""},X=typeof e.cellProps=="function"?e.cellProps({index:g.index,item:g.item,internalItem:g.internalItem,value:g.value,column:u}):e.cellProps,F=typeof u.cellProps=="function"?u.cellProps({index:g.index,item:g.item,internalItem:g.internalItem,value:g.value}):u.cellProps,$=u.key==="data-table-select"||u.key==="data-table-expand",d=u.key==="data-table-group"&&u.width===0&&!u.title;return t(et,Q({align:u.align,indent:u.intent,class:{"v-data-table__td--expanded-row":u.key==="data-table-expand","v-data-table__td--select-row":u.key==="data-table-select"},fixed:u.fixed,fixedOffset:u.fixedOffset,fixedEndOffset:u.fixedEndOffset,lastFixed:u.lastFixed,firstFixedEnd:u.firstFixedEnd,maxWidth:s.value?void 0:u.maxWidth,noPadding:$,empty:d,nowrap:u.nowrap,width:s.value?void 0:u.width},X,F),{default:()=>{if(u.key==="data-table-select")return n["item.data-table-select"]?.({...g,props:{color:e.color,disabled:!v.selectable,modelValue:r([v]),onClick:ye(()=>m(v),["stop"])}})??t(Ye,{color:e.color,disabled:!v.selectable,density:e.density,modelValue:r([v]),onClick:ye(j=>m(v,e.index,j),["stop"])},null);if(u.key==="data-table-expand")return n["item.data-table-expand"]?.({...g,props:{icon:S(v)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ye(()=>b(v),["stop"])}})??t(z,{icon:S(v)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ye(()=>b(v),["stop"])},null);if(n[T]&&!s.value)return n[T](g);const D=U(g.value);return s.value?l(ce,null,[l("div",{class:"v-data-table__td-title"},[n[p]?.(R)??u.title]),l("div",{class:"v-data-table__td-value"},[n[T]?.(g)??D])]):D}})})]))}}),ka=de({color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...At(Va(),["collapseIcon","expandIcon","density"]),...At(xa(),["groupCollapseIcon","groupExpandIcon","density"]),...Ft()},"VDataTableRows"),Ht=Se()({name:"VDataTableRows",inheritAttrs:!1,props:ka(),setup(e,i){let{attrs:n,slots:o}=i;const{columns:s}=ft(),{expandOnClick:r,toggleExpand:m,isExpanded:C}=wa(),{isSelected:k,toggleSelect:I}=mt(),{toggleGroup:S,isGroupOpen:b}=pa(),{t:w}=Be(),{mobile:f}=ut(e);return $e(()=>{const x=At(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||o.loading)?l("tr",{class:"v-data-table-rows-loading",key:"loading"},[l("td",{colspan:s.value.length},[o.loading?.()??w(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?l("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[l("td",{colspan:s.value.length},[o["no-data"]?.()??w(e.noDataText)])]):l(ce,null,[e.items.map((c,u)=>{if(c.type==="group"){const T={index:u,item:c,columns:s.value,isExpanded:C,toggleExpand:m,isSelected:k,toggleSelect:I,toggleGroup:S,isGroupOpen:b};return o["group-header"]?o["group-header"](T):t(jo,Q({key:`group-header_${c.id}`,item:c},Lt(n,":groupHeader",()=>T),x),o)}if(c.type==="group-summary"){const T={index:u,item:c,columns:s.value,toggleGroup:S};return o["group-summary"]?.(T)??""}const V={index:u,item:c.raw,internalItem:c,columns:s.value,isExpanded:C,toggleExpand:m,isSelected:k,toggleSelect:I},v={...V,props:Q({key:`item_${c.key??c.index}`,onClick:r.value?()=>{m(c)}:void 0,index:u,item:c,color:e.color,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:f.value},Lt(n,":row",()=>V),typeof e.rowProps=="function"?e.rowProps({item:V.item,index:V.index,internalItem:V.internalItem}):e.rowProps)};return l(ce,{key:v.props.key},[o.item?o.item(v):t(qo,v.props,o),C(c)&&o["expanded-row"]?.(V)])})])}),{}}}),Ca=de({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},..._t(),...at(),...Nt(),...Et()},"VTable"),qt=Se()({name:"VTable",props:Ca(),setup(e,i){let{slots:n,emit:o}=i;const{themeClasses:s}=Dt(e),{densityClasses:r}=tl(e);return $e(()=>t(e.tag,{class:ee(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},s.value,r.value,e.class]),style:tt(e.style)},{default:()=>[n.top?.(),n.default?l("div",{class:"v-table__wrapper",style:{height:he(e.height)}},[l("table",null,[n.default()])]):n.wrapper?.(),n.bottom?.()]})),{}}}),Ko=de({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Wo(e,i,n,o){const s=e.returnObject?i:it(i,e.itemValue),r=it(i,e.itemSelectable,!0),m=o.reduce((C,k)=>(k.key!=null&&(C[k.key]=it(i,k.value)),C),{});return{type:"item",key:e.returnObject?it(i,e.itemValue):s,index:n,value:s,selectable:r,columns:m,raw:i}}function Zo(e,i,n){return i.map((o,s)=>Wo(e,o,s,n))}function Jo(e,i){return{items:O(()=>Zo(e,e.items,i.value))}}function Qo(e){let{page:i,itemsPerPage:n,sortBy:o,groupBy:s,search:r}=e;const m=Wt("VDataTable"),C=()=>({page:i.value,itemsPerPage:n.value,sortBy:o.value,groupBy:s.value,search:r.value});let k=null;fe(C,I=>{dt(k,I)||(k&&k.search!==I.search&&(i.value=1),m.emit("update:options",I),k=I)},{deep:!0,immediate:!0})}const Xo=de({...ka(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Go(),...Mo(),...wo(),...Ko(),...$o(),...Eo(),...ct(ma(),["multiSort"]),...Ca()},"DataTable"),Yo=de({...po(),...Xo(),...ta(),...la()},"VDataTable"),gt=Se()({name:"VDataTable",props:Yo(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,i){let{attrs:n,slots:o}=i;const{groupBy:s}=Oo(e),{initialSortOrder:r,sortBy:m,multiSort:C,mustSort:k}=No(e),{page:I,itemsPerPage:S}=bo(e),{disableSort:b}=Ua(e),{columns:w,headers:f,sortFunctions:x,sortRawFunctions:c,filterFunctions:u}=Po(e,{groupBy:s,showSelect:oe(()=>e.showSelect),showExpand:oe(()=>e.showExpand)}),{items:V}=Jo(e,w),v=oe(()=>e.search),{filteredItems:T}=ea(e,V,v,{transform:ke=>ke.columns,customKeyFilter:u}),{toggleSort:p}=Fo({initialSortOrder:r,sortBy:m,multiSort:C,mustSort:k,page:I}),{sortByWithGroups:g,opened:R,extractRows:X,isGroupOpen:F,toggleGroup:$}=Uo({groupBy:s,sortBy:m,disableSort:b}),{sortedItems:d}=Ro(e,T,g,{transform:ke=>({...ke.raw,...ke.columns}),sortFunctions:x,sortRawFunctions:c}),{flatItems:D}=Bo(d,s,R,()=>!!o["group-summary"]),j=O(()=>D.value.length),{startIndex:M,stopIndex:y,pageCount:E,setItemsPerPage:te}=yo({page:I,itemsPerPage:S,itemsLength:j}),{paginatedItems:G}=ho({items:D,startIndex:M,stopIndex:y,itemsPerPage:S}),h=O(()=>X(G.value)),{isSelected:_,select:Y,selectAll:He,toggleSelect:qe,someSelected:pt,allSelected:bt}=Do(e,{allItems:V,currentPage:h}),{isExpanded:yt,toggleExpand:xt}=Ho(e);Qo({page:I,itemsPerPage:S,sortBy:m,groupBy:s,search:v}),Pt({VDataTableRows:{hideNoData:oe(()=>e.hideNoData),noDataText:oe(()=>e.noDataText),loading:oe(()=>e.loading),loadingText:oe(()=>e.loadingText)}});const xe=O(()=>({page:I.value,itemsPerPage:S.value,sortBy:m.value,pageCount:E.value,toggleSort:p,setItemsPerPage:te,someSelected:pt.value,allSelected:bt.value,isSelected:_,select:Y,selectAll:He,toggleSelect:qe,isExpanded:yt,toggleExpand:xt,isGroupOpen:F,toggleGroup:$,items:h.value.map(ke=>ke.raw),internalItems:h.value,groupedItems:G.value,columns:w.value,headers:f.value}));return $e(()=>{const ke=jt.filterProps(e),ht=Gt.filterProps(ct(e,["multiSort"])),wt=Ht.filterProps(e),Vt=qt.filterProps(e);return t(qt,Q({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Vt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>o.top?.(xe.value),default:()=>o.default?o.default(xe.value):l(ce,null,[o.colgroup?.(xe.value),!e.hideDefaultHeader&&l("thead",{key:"thead"},[t(Gt,Q(ht,{multiSort:!!e.multiSort}),o)]),o.thead?.(xe.value),!e.hideDefaultBody&&l("tbody",null,[o["body.prepend"]?.(xe.value),o.body?o.body(xe.value):t(Ht,Q(n,wt,{items:G.value}),o),o["body.append"]?.(xe.value)]),o.tbody?.(xe.value),o.tfoot?.(xe.value)]),bottom:()=>o.bottom?o.bottom(xe.value):!e.hideDefaultFooter&&l(ce,null,[t(ve,null,null),t(jt,ke,{prepend:o["footer.prepend"]})])})}),{}}}),en={class:"px-8 pt-8 pb-4 d-flex justify-space-between align-start"},tn={class:"d-flex align-center"},an={class:"header-icon-box mr-4"},ln={class:"text-h5 font-weight-bold text-grey-darken-3 mb-1"},on={class:"text-body-2 text-grey"},nn={class:"text-grey-darken-1 font-weight-medium"},sn={class:"font-weight-bold text-grey-darken-3"},rn={class:"d-flex flex-column align-center justify-center py-8"},dn={class:"text-h6 font-weight-bold text-grey-darken-3"},un={key:0},cn={__name:"UnifiedCatalogList",props:{modelValue:Boolean,catalogName:{type:String,required:!0},title:{type:String,required:!0},icon:{type:String,default:"mdi-database"},description:{type:String,default:"Gestión de catálogo del sistema."}},emits:["update:modelValue"],setup(e,{emit:i}){const n=e,o=i,s=O({get:()=>n.modelValue,set:p=>o("update:modelValue",p)}),r=P([]),m=P(!1),C=P(""),k=P(!1),I=P(!1),S=P(null),b=P("all"),w=[{title:"ID",key:"Id",align:"start",width:"80px"},{title:"NOMBRE",key:"Nombre",align:"start"},{title:"ESTADO",key:"Activo",align:"center",width:"120px"}],f={Id:null,Nombre:"",Activo:!0},x=P({...f}),c=O(()=>r.value.filter(p=>b.value==="all"?!0:b.value==="active"?p.Activo:b.value==="inactive"?!p.Activo:!0));async function u(){m.value=!0;try{const p=await K.get(`http://localhost:5000/api/config/catalogs/${n.catalogName}`,{withCredentials:!0});r.value=p.data}catch(p){console.error(`Error cargando ${n.catalogName}:`,p)}finally{m.value=!1}}function V(p){x.value=p?{...p}:{...f},k.value=!0}function v(){k.value=!1,x.value={...f}}async function T(){const{valid:p}=await S.value.validate();if(p){I.value=!0;try{const g=`http://localhost:5000/api/config/catalogs/${n.catalogName}`;x.value.Id?await K.put(`${g}/${x.value.Id}`,x.value,{withCredentials:!0}):await K.post(g,{Nombre:x.value.Nombre},{withCredentials:!0}),await u(),v()}catch(g){console.error(g),alert("Error al guardar: "+(g.response?.data?.message||g.message))}finally{I.value=!1}}}return fe(s,p=>{p&&u()},{immediate:!0}),fe(()=>n.catalogName,()=>{s.value&&u()}),Oe(()=>{s.value&&u()}),(p,g)=>(q(),ae(le,{modelValue:s.value,"onUpdate:modelValue":g[8]||(g[8]=R=>s.value=R),"max-width":"700",height:"auto",scrollable:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(J,{class:"rounded-xl elevation-24"},{default:a(()=>[l("div",en,[l("div",tn,[l("div",an,[t(B,{color:"primary",size:"32"},{default:a(()=>[A(U(e.icon),1)]),_:1})]),l("div",null,[l("h2",ln,U(e.title),1),l("p",on,U(e.description),1)])]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:g[0]||(g[0]=R=>s.value=!1)})]),t(ve,{class:"mx-8"}),t(ne,{class:"px-8 py-6 bg-grey-lighten-5"},{default:a(()=>[t(me,{class:"mb-6 align-center"},{default:a(()=>[t(H,{cols:"12",md:"4"},{default:a(()=>[t(se,{modelValue:C.value,"onUpdate:modelValue":g[1]||(g[1]=R=>C.value=R),"prepend-inner-icon":"mdi-magnify",label:`Buscar en ${e.title}...`,variant:"outlined",density:"compact","hide-details":"","bg-color":"white",color:"primary",class:"rounded-lg"},null,8,["modelValue","label"])]),_:1}),t(H,{cols:"12",md:"3"},{default:a(()=>[t(Me,{modelValue:b.value,"onUpdate:modelValue":g[2]||(g[2]=R=>b.value=R),items:[{title:"Todos",value:"all"},{title:"Activos",value:"active"},{title:"Inactivos",value:"inactive"}],label:"Estado",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",color:"primary",class:"rounded-lg"},null,8,["modelValue"])]),_:1}),t(re),t(H,{cols:"12",md:"auto"},{default:a(()=>[t(z,{color:"#1e293b",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:g[3]||(g[3]=R=>V(null))},{default:a(()=>[...g[9]||(g[9]=[A(" Nuevo ",-1)])]),_:1})]),_:1})]),_:1}),t(J,{class:"rounded-lg border-0 elevation-1",loading:m.value},{default:a(()=>[t(gt,{headers:w,items:c.value,search:C.value,loading:m.value,hover:"",density:"comfortable",class:"rounded-lg","onClick:row":g[4]||(g[4]=(R,{item:X})=>V(X))},{"item.Id":a(({item:R})=>[l("span",nn,U(String(R.Id).padStart(3,"0")),1)]),"item.Nombre":a(({item:R})=>[l("span",sn,U(R.Nombre),1)]),"item.Activo":a(({item:R})=>[t(Ve,{color:R.Activo?"emerald":"grey",class:ee([R.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:a(()=>[t(B,{size:"8",class:"mr-1",color:R.Activo?"success":"grey"},{default:a(()=>[...g[10]||(g[10]=[A("mdi-circle",-1)])]),_:1},8,["color"])]),default:a(()=>[A(" "+U(R.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),"no-data":a(()=>[l("div",rn,[t(B,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:a(()=>[A(U(e.icon),1)]),_:1}),g[11]||(g[11]=l("div",{class:"text-body-1 text-grey"},"No hay registros",-1))])]),_:1},8,["items","search","loading"])]),_:1},8,["loading"])]),_:1})]),_:1}),t(le,{modelValue:k.value,"onUpdate:modelValue":g[7]||(g[7]=R=>k.value=R),"max-width":"500",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl"},{default:a(()=>[t(Ie,{class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},{default:a(()=>[l("span",dn,U(x.value.Id?"Editar Registro":"Nuevo Registro"),1),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:v})]),_:1}),t(ve,{class:"mx-6"}),t(ne,{class:"px-6 py-4"},{default:a(()=>[t(Ae,{ref_key:"form",ref:S,onSubmit:ye(T,["prevent"])},{default:a(()=>[g[13]||(g[13]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NOMBRE",-1)),t(se,{modelValue:x.value.Nombre,"onUpdate:modelValue":g[5]||(g[5]=R=>x.value.Nombre=R),placeholder:"Ingrese el nombre",variant:"outlined",density:"compact","bg-color":"grey-lighten-5",class:"rounded-lg mb-4",rules:[R=>!!R||"El nombre es requerido"],"hide-details":"auto",autofocus:""},null,8,["modelValue","rules"]),x.value.Id?(q(),ge("div",un,[g[12]||(g[12]=l("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO",-1)),t(Le,{modelValue:x.value.Activo,"onUpdate:modelValue":g[6]||(g[6]=R=>x.value.Activo=R),color:"primary",label:x.value.Activo?"Activo":"Inactivo","hide-details":"",inset:""},null,8,["modelValue","label"])])):Qe("",!0)]),_:1},512)]),_:1}),t(we,{class:"px-6 pb-6 pt-2"},{default:a(()=>[t(re),t(z,{variant:"text",color:"grey-darken-1",class:"text-capitalize",onClick:v},{default:a(()=>[...g[14]||(g[14]=[A("Cancelar",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",onClick:T,loading:I.value},{default:a(()=>[...g[15]||(g[15]=[A(" Guardar ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},vn=De(cn,[["__scopeId","data-v-0bba62d9"]]),fn=de({alwaysFilter:Boolean,autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...ta({filterKeys:["title"]}),...hl({hideNoData:!0,returnObject:!0}),...ct(bl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VCombobox"),ze=Se()({name:"VCombobox",props:fn(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,i){let{emit:n,slots:o}=i;const{t:s}=Be(),r=P(),m=Ee(!1),C=Ee(!0),k=Ee(!1),I=P(),S=P(),b=Ee(-1);let w=!1;const{items:f,transformIn:x,transformOut:c}=fl(e),{textColorClasses:u,textColorStyles:V}=al(()=>r.value?.color),v=Te(e,"modelValue",[],N=>x(Je(N)),N=>{const W=c(N);return e.multiple?W:W[0]??null}),T=pl(e),p=O(()=>!!(e.chips||o.chip)),g=O(()=>p.value||!!o.selection),R=Ee(!e.multiple&&!g.value?v.value[0]?.title??"":""),X=Ee(null),F=O({get:()=>R.value,set:async N=>{if(R.value=N??"",N===null||N===""&&!e.multiple&&!g.value?v.value=[]:!e.multiple&&!g.value&&(v.value=[Ze(e,N)],Re(()=>S.value?.scrollToIndex(0))),N&&e.multiple&&e.delimiters?.length){const W=zt(N);W.length>1&&(Mt(W),R.value="")}N||(b.value=-1),C.value=!N}}),$=O(()=>typeof e.counterValue=="function"?e.counterValue(v.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?v.value.length:F.value.length),{filteredItems:d,getMatches:D}=ea(e,f,()=>X.value??(e.alwaysFilter||!C.value?F.value:"")),j=O(()=>e.hideSelected&&X.value===null?d.value.filter(N=>!v.value.some(W=>W.value===N.value)):d.value),M=O(()=>e.hideNoData&&!j.value.length||T.isReadonly.value||T.isDisabled.value),y=Te(e,"menu"),E=O({get:()=>y.value,set:N=>{y.value&&!N&&I.value?.ΨopenChildren.size||N&&M.value||(y.value=N)}}),{menuId:te,ariaExpanded:G,ariaControls:h,ariaLabel:_}=yl(e,E);fe(R,N=>{w?Re(()=>w=!1):m.value&&!E.value&&(E.value=!0),n("update:search",N)}),fe(v,N=>{!e.multiple&&!g.value&&(R.value=N[0]?.title??"")});const Y=O(()=>v.value.map(N=>N.value)),He=O(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&F.value===j.value[0]?.title)&&j.value.length>0&&!C.value&&!k.value),qe=P(),pt=xl(qe,r);function bt(N){w=!0,Re(()=>w=!1),e.openOnClear&&(E.value=!0)}function yt(){M.value||(E.value=!0)}function xt(N){M.value||(m.value&&(N.preventDefault(),N.stopPropagation()),E.value=!E.value)}function xe(N){(Ut(N)||N.key==="Backspace")&&r.value?.focus()}function ke(N){if(Ba(N)||T.isReadonly.value)return;const W=r.value?.selectionStart,ue=v.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(N.key)&&N.preventDefault(),["Enter","ArrowDown"].includes(N.key)&&(E.value=!0),["Escape"].includes(N.key)&&(E.value=!1),He.value&&["Enter","Tab"].includes(N.key)&&!v.value.some(L=>{let{value:Z}=L;return Z===j.value[0].value})&&Ce(d.value[0]),N.key==="ArrowDown"&&He.value&&qe.value?.focus("next"),N.key==="Enter"&&F.value&&(Ce(Ze(e,F.value),!0,!0),g.value&&(R.value="")),["Backspace","Delete"].includes(N.key)){if(!e.multiple&&g.value&&v.value.length>0&&!F.value)return Ce(v.value[0],!1);if(~b.value){N.preventDefault();const L=b.value;Ce(v.value[b.value],!1),b.value=L>=ue-1?ue-2:L}else N.key==="Backspace"&&!F.value&&(b.value=ue-1);return}if(e.multiple)if(N.key==="ArrowLeft"){if(b.value<0&&W&&W>0)return;const L=b.value>-1?b.value-1:ue-1;v.value[L]?b.value=L:(b.value=-1,r.value?.setSelectionRange(F.value.length,F.value.length))}else if(N.key==="ArrowRight"){if(b.value<0)return;const L=b.value+1;v.value[L]?b.value=L:(b.value=-1,r.value?.setSelectionRange(0,0))}else~b.value&&Ut(N)&&(b.value=-1)}function ht(N){const W=N?.clipboardData?.getData("Text")??"",ue=zt(W);ue.length>1&&e.multiple&&(N.preventDefault(),Mt(ue))}function wt(){e.eager&&S.value?.calculateVisibleItems()}function Vt(){m.value&&r.value?.focus(),C.value=!0,X.value=null}function Ce(N){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!(!N||N.props.disabled))if(e.multiple){const L=v.value.findIndex(ie=>(e.valueComparator||dt)(ie.value,N.value)),Z=W??!~L;if(~L){const ie=Z?[...v.value,N]:[...v.value];ie.splice(L,1),v.value=ie}else Z&&(v.value=[...v.value,N]);e.clearOnSelect&&(F.value="")}else{const L=W!==!1;v.value=L?[N]:[],(!C.value||e.alwaysFilter)&&R.value&&(X.value=R.value),R.value=L&&!g.value?N.title:"",Re(()=>{E.value=ue,C.value=!0})}}function zt(N){const ue=[`
`,...e.delimiters??[]].map(La).join("|");return N.split(new RegExp(`(?:${ue})+`))}async function Mt(N){for(let W of N)W=W.trim(),W&&(Ce(Ze(e,W)),await Re())}function Ia(N){m.value=!0,setTimeout(()=>{k.value=!0})}function Sa(N){k.value=!1}return fe(m,(N,W)=>{if(!(N||N===W)&&(b.value=-1,E.value=!1,F.value)){if(e.multiple){Ce(Ze(e,F.value));return}if(!g.value)return;v.value.some(ue=>{let{title:L}=ue;return L===F.value})?R.value="":Ce(Ze(e,F.value))}}),fe(E,N=>{if(!e.hideSelected&&N&&v.value.length&&C.value){const W=j.value.findIndex(ue=>v.value.some(L=>(e.valueComparator||dt)(L.value,ue.value)));ja&&window.requestAnimationFrame(()=>{W>=0&&S.value?.scrollToIndex(W)})}N&&(X.value=null)}),fe(f,(N,W)=>{E.value||m.value&&!W.length&&N.length&&(E.value=!0)}),$e(()=>{const N=!!(!e.hideNoData||j.value.length||o["prepend-item"]||o["append-item"]||o["no-data"]),W=v.value.length>0,ue=se.filterProps(e);return t(se,Q({ref:r},ue,{modelValue:F.value,"onUpdate:modelValue":L=>F.value=L,focused:m.value,"onUpdate:focused":L=>m.value=L,validationValue:v.externalValue,counterValue:$.value,dirty:W,class:["v-combobox",{"v-combobox--active-menu":E.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!g.value,"v-combobox--selecting-index":b.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:T.isReadonly.value,placeholder:W?void 0:e.placeholder,"onClick:clear":bt,"onMousedown:control":yt,onKeydown:ke,onPaste:ht,"aria-expanded":G.value,"aria-controls":h.value}),{...o,default:()=>l(ce,null,[t(ml,Q({id:te.value,ref:I,modelValue:E.value,"onUpdate:modelValue":L=>E.value=L,activator:"parent",contentClass:"v-combobox__content",disabled:M.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:wt,onAfterLeave:Vt},e.menuProps),{default:()=>[N&&t(Tt,Q({ref:qe,filterable:!0,selected:Y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:L=>L.preventDefault(),selectable:!0,onKeydown:xe,onFocusin:Ia,onFocusout:Sa,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},pt,e.listProps),{default:()=>[o["prepend-item"]?.(),!j.value.length&&!e.hideNoData&&(o["no-data"]?.()??t(Ue,{key:"no-data",title:s(e.noDataText)},null)),t(wl,{ref:S,renderless:!0,items:j.value,itemKey:"value"},{default:L=>{let{item:Z,index:ie,itemRef:lt}=L;const Ke=Q(Z.props,{ref:lt,key:Z.value,active:He.value&&ie===0?!0:void 0,onClick:()=>Ce(Z,null)});return Z.type==="divider"?o.divider?.({props:Z.raw,index:ie})??t(ve,Q(Z.props,{key:`divider-${ie}`}),null):Z.type==="subheader"?o.subheader?.({props:Z.raw,index:ie})??t(gl,Q(Z.props,{key:`subheader-${ie}`}),null):o.item?.({item:Z,index:ie,props:Ke})??t(Ue,Q(Ke,{role:"option"}),{prepend:We=>{let{isSelected:be}=We;return l(ce,null,[e.multiple&&!e.hideSelected?t(Ye,{key:Z.value,modelValue:be,ripple:!1,tabindex:"-1",onClick:Pa=>Pa.preventDefault()},null):void 0,Z.props.prependAvatar&&t(cl,{image:Z.props.prependAvatar},null),Z.props.prependIcon&&t(B,{icon:Z.props.prependIcon},null)])},title:()=>C.value?Z.title:Vl("v-combobox",Z.title,D(Z)?.title)})}}),o["append-item"]?.()]})]}),v.value.map((L,Z)=>{function ie(be){be.stopPropagation(),be.preventDefault(),Ce(L,!1)}const lt=Q(Ve.filterProps(L.props),{"onClick:close":ie,onKeydown(be){be.key!=="Enter"&&be.key!==" "||(be.preventDefault(),be.stopPropagation(),ie(be))},onMousedown(be){be.preventDefault(),be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),Ke=p.value?!!o.chip:!!o.selection,We=Ke?Ha(p.value?o.chip({item:L,index:Z,props:lt}):o.selection({item:L,index:Z})):void 0;if(!(Ke&&!We))return l("div",{key:L.value,class:ee(["v-combobox__selection",Z===b.value&&["v-combobox__selection--selected",u.value]]),style:tt(Z===b.value?V.value:{})},[p.value?o.chip?t(ll,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:L.title}}},{default:()=>[We]}):t(Ve,Q({key:"chip",closable:e.closableChips,size:"small",text:L.title,disabled:L.props.disabled},lt),null):We??l("span",{class:"v-combobox__selection-text"},[L.title,e.multiple&&Z<v.value.length-1&&l("span",{class:"v-combobox__selection-comma"},[A(",")])])])})]),"append-inner":function(){for(var L=arguments.length,Z=new Array(L),ie=0;ie<L;ie++)Z[ie]=arguments[ie];return l(ce,null,[o["append-inner"]?.(...Z),(!e.hideNoData||e.items.length)&&e.menuIcon?t(B,{class:"v-combobox__menu-icon",color:r.value?.fieldIconColor,icon:e.menuIcon,onMousedown:xt,onClick:Ga,"aria-label":_.value,title:_.value,tabindex:"-1"},null):void 0])}})}),vl({isFocused:m,isPristine:C,menu:E,search:F,selectionIndex:b,filteredItems:d,select:Ce},r)}}),mn={class:"px-8 pt-6 pb-6 bg-white elevation-0 border-bottom"},gn={class:"d-flex align-center justify-space-between"},pn={class:"d-flex align-center"},bn={class:"header-icon-box mr-4 bg-blue-grey-lighten-5"},yn={class:"mt-6 d-flex align-center flex-wrap gap-4"},xn={style:{width:"280px"}},hn={style:{width:"200px"}},wn={style:{width:"220px"}},Vn={class:"text-caption font-weight-bold text-grey"},kn={class:"font-weight-bold text-grey-darken-3"},Cn={class:"text-body-2 text-grey-darken-1"},In={class:"py-8 text-center"},Sn={class:"text-h6 font-weight-bold text-blue-grey-darken-4"},_e="http://localhost:5000/api/config/catalogs",Pn={__name:"ProcessorConfig",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:i}){const n=e,o=i,s=O({get:()=>n.modelValue,set:$=>o("update:modelValue",$)}),r=P([]),m=P([]),C=P([]),k=P(!1),I=P(""),S=P(null),b=P(null),w=[{title:"ID",key:"Id",align:"start",width:"80px"},{title:"MARCA",key:"Marca",align:"start",width:"120px"},{title:"TIPO",key:"Tipo",align:"start"},{title:"GENERACIÓN",key:"Generacion",align:"start"},{title:"ESTADO",key:"Estado",align:"end",width:"120px"},{title:"",key:"actions",align:"end",sortable:!1,width:"50px"}],f=O(()=>{let $=C.value.map(d=>{const D=m.value.find(M=>M.Id===d.TipoId),j=D?r.value.find(M=>M.Id===D.MarcaId):null;return{Id:d.Id,Generacion:d.Nombre,Tipo:D?D.Nombre:"Sin Tipo",TipoId:d.TipoId,Marca:j?j.Nombre:"Sin Marca",MarcaId:j?j.Id:null,Raw:d,Level:"generacion"}});return S.value&&($=$.filter(d=>d.MarcaId===S.value)),b.value&&($=$.filter(d=>d.TipoId===b.value)),$}),x=P(!1),c=P(!1),u=P(!1),V=P({Id:null,Generacion:"",Marca:"",Tipo:""}),v=O(()=>{const $=r.value.find(d=>d.Nombre===V.value.Marca);return $?m.value.filter(d=>d.MarcaId===$.Id):[]}),T=O(()=>{const $=r.value.find(D=>D.Nombre===V.value.Marca);if(!$)return[];const d=m.value.find(D=>D.Nombre===V.value.Tipo&&D.MarcaId===$.Id);return d?C.value.filter(D=>D.TipoId===d.Id):[]});async function p(){k.value=!0;try{const[$,d,D]=await Promise.all([K.get(`${_e}/marcas_procesador`,{withCredentials:!0}),K.get(`${_e}/tipos_procesador`,{withCredentials:!0}),K.get(`${_e}/generaciones_procesador`,{withCredentials:!0})]);r.value=$.data,m.value=d.data,C.value=D.data}catch($){console.error("Error loading data",$)}finally{k.value=!1}}function g($){const d=($||"").toLowerCase();return d.includes("intel")?"blue":d.includes("amd")?"red":d.includes("apple")?"grey":"blue-grey"}function R(){u.value=!1,V.value={Id:null,Generacion:"",Marca:"",Tipo:""},x.value=!0}function X($){u.value=!0,V.value={Id:$.Id,Generacion:$.Generacion,Tipo:$.Tipo,Marca:$.Marca},x.value=!0}async function F(){if(!V.value.Generacion||!V.value.Marca||!V.value.Tipo){alert("Por favor complete todos los campos");return}c.value=!0;try{let $=null;const d=r.value.find(y=>y.Nombre.toLowerCase()===V.value.Marca.toLowerCase());if(d)$=d.Id;else{const y=await K.post(`${_e}/marcas_procesador`,{Nombre:V.value.Marca},{withCredentials:!0});await p();const E=r.value.find(te=>te.Nombre===V.value.Marca);E&&($=E.Id)}if(!$)throw new Error("Error al procesar la Marca");let D=null;const j=m.value.find(y=>y.Nombre.toLowerCase()===V.value.Tipo.toLowerCase()&&y.MarcaId===$);if(j)D=j.Id;else{await K.post(`${_e}/tipos_procesador`,{Nombre:V.value.Tipo,MarcaId:$},{withCredentials:!0}),await p();const y=m.value.find(E=>E.Nombre===V.value.Tipo&&E.MarcaId===$);y&&(D=y.Id)}if(!D)throw new Error("Error al procesar el Tipo");const M={Nombre:V.value.Generacion,TipoId:D};u.value&&V.value.Id?await K.put(`${_e}/generaciones_procesador/${V.value.Id}`,M,{withCredentials:!0}):await K.post(`${_e}/generaciones_procesador`,M,{withCredentials:!0}),await p(),x.value=!1}catch($){alert("Error al guardar: "+($.response?.data?.message||$.message))}finally{c.value=!1}}return fe(s,$=>{$&&p()}),($,d)=>(q(),ae(le,{modelValue:s.value,"onUpdate:modelValue":d[10]||(d[10]=D=>s.value=D),"max-width":"900",scrollable:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(J,{class:"bg-grey-lighten-5 rounded-xl",height:"600"},{default:a(()=>[l("div",mn,[l("div",gn,[l("div",pn,[l("div",bn,[t(B,{color:"blue-grey-darken-1",size:"28"},{default:a(()=>[...d[11]||(d[11]=[A("mdi-cpu-64-bit",-1)])]),_:1})]),d[12]||(d[12]=l("div",null,[l("h2",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-0"},"Procesadores"),l("p",{class:"text-caption text-grey"},"Gestiona las especificaciones de CPUs disponibles.")],-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:d[0]||(d[0]=D=>s.value=!1)})]),l("div",yn,[l("div",xn,[t(se,{modelValue:I.value,"onUpdate:modelValue":d[1]||(d[1]=D=>I.value=D),"prepend-inner-icon":"mdi-magnify",placeholder:"Buscar modelo...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg search-input"},null,8,["modelValue"])]),l("div",hn,[t(Me,{modelValue:S.value,"onUpdate:modelValue":d[2]||(d[2]=D=>S.value=D),items:r.value,"item-title":"Nombre","item-value":"Id",placeholder:"Todas las Marcas",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),l("div",wn,[t(Me,{modelValue:b.value,"onUpdate:modelValue":d[3]||(d[3]=D=>b.value=D),items:m.value,"item-title":"Nombre","item-value":"Id",placeholder:"Todos los Tipos",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),t(re),t(z,{color:"#1e293b",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:R},{default:a(()=>[...d[13]||(d[13]=[A(" Agregar ",-1)])]),_:1})])]),t(vt,{fluid:"",class:"pa-8"},{default:a(()=>[t(J,{class:"rounded-lg border-thin elevation-0 overflow-hidden"},{default:a(()=>[t(gt,{headers:w,items:f.value,search:I.value,loading:k.value,hover:"",class:"header-bg"},{"item.Id":a(({item:D})=>[l("span",Vn,U(String(D.Id).padStart(3,"0")),1)]),"item.Marca":a(({item:D})=>[t(Ve,{size:"small",color:g(D.Marca),variant:"flat",class:ee(["font-weight-bold",`bg-${g(D.Marca)}-lighten-5 text-${g(D.Marca)}-darken-2`])},{default:a(()=>[A(U(D.Marca),1)]),_:2},1032,["color","class"])]),"item.Tipo":a(({item:D})=>[l("span",kn,U(D.Tipo),1)]),"item.Generacion":a(({item:D})=>[l("span",Cn,U(D.Generacion),1)]),"item.Estado":a(({item:D})=>[t(Ve,{color:"emerald",class:"bg-green-lighten-5 text-green-darken-1 font-weight-bold",size:"small",variant:"flat"},{prepend:a(()=>[t(B,{size:"8",class:"mr-1",color:"success"},{default:a(()=>[...d[14]||(d[14]=[A("mdi-circle",-1)])]),_:1})]),default:a(()=>[d[15]||(d[15]=A(" Activo ",-1))]),_:1})]),"item.actions":a(({item:D})=>[t(z,{icon:"",variant:"text",size:"small",color:"grey",onClick:j=>X(D)},{default:a(()=>[t(B,{size:"18"},{default:a(()=>[...d[16]||(d[16]=[A("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"])]),"no-data":a(()=>[l("div",In,[t(B,{size:"48",color:"grey-lighten-2",class:"mb-2"},{default:a(()=>[...d[17]||(d[17]=[A("mdi-cpu-64-bit",-1)])]),_:1}),d[18]||(d[18]=l("div",{class:"text-grey"},"No hay datos disponibles",-1))])]),_:1},8,["items","search","loading"])]),_:1})]),_:1})]),_:1}),t(le,{modelValue:x.value,"onUpdate:modelValue":d[9]||(d[9]=D=>x.value=D),"max-width":"450",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:a(()=>[l("div",null,[l("span",Sn,U(u.value?"Editar Procesador":"Nuevo Procesador"),1),d[19]||(d[19]=l("p",{class:"text-caption text-grey mt-1"},"Registra un nuevo modelo de CPU.",-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:d[4]||(d[4]=D=>x.value=!1)})]),_:1}),t(ve,{class:"mx-4 opacity-10 mb-4"}),t(ne,{class:"px-4 py-0"},{default:a(()=>[t(Ae,{onSubmit:ye(F,["prevent"])},{default:a(()=>[t(me,{"no-gutters":""},{default:a(()=>[t(H,{cols:"12",class:"mb-4"},{default:a(()=>[d[20]||(d[20]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"MARCA"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe para crear")],-1)),t(ze,{"model-value":V.value.Marca,"onUpdate:modelValue":d[5]||(d[5]=D=>V.value.Marca=D?.toUpperCase()??""),items:r.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. INTEL",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5"},null,8,["model-value","items"])]),_:1}),t(H,{cols:"12",class:"mb-4"},{default:a(()=>[d[21]||(d[21]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"TIPO (FAMILIA)"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Vinculado a la Marca")],-1)),t(ze,{"model-value":V.value.Tipo,"onUpdate:modelValue":d[6]||(d[6]=D=>V.value.Tipo=D?.toUpperCase()??""),items:v.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. CORE I9",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5",disabled:!V.value.Marca},null,8,["model-value","items","disabled"])]),_:1}),t(H,{cols:"12",class:"mb-2"},{default:a(()=>[d[22]||(d[22]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"GENERACIÓN"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Vinculado al Tipo")],-1)),t(ze,{"model-value":V.value.Generacion,"onUpdate:modelValue":d[7]||(d[7]=D=>V.value.Generacion=D?.toUpperCase()??""),items:T.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 13TH GEN",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5",disabled:!V.value.Tipo},null,8,["model-value","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:d[8]||(d[8]=D=>x.value=!1)},{default:a(()=>[...d[23]||(d[23]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:F,loading:c.value},{default:a(()=>[t(B,{start:"",class:"mr-2"},{default:a(()=>[...d[24]||(d[24]=[A("mdi-content-save-outline",-1)])]),_:1}),d[25]||(d[25]=A(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},An=De(Pn,[["__scopeId","data-v-f10d9f40"]]),Tn={class:"px-8 pt-6 pb-6 bg-white elevation-0 border-bottom"},$n={class:"d-flex align-center justify-space-between"},Dn={class:"d-flex align-center"},En={class:"header-icon-box mr-4 bg-teal-lighten-5"},Nn={class:"mt-6 d-flex align-center flex-wrap gap-4"},_n={style:{width:"280px"}},Fn={style:{width:"200px"}},Rn={class:"text-body-2 text-grey-darken-1"},Fe="http://localhost:5000/api/config",zn={__name:"RamConfig",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:i}){const n=e,o=i,s=O({get:()=>n.modelValue,set:M=>o("update:modelValue",M)}),r=P([]),m=P([]),C=P([]),k=P(!1),I=P(""),S=P(null),b=[{title:"TIPO",key:"Tipo",align:"start",width:"120px"},{title:"VELOCIDAD",key:"Velocidad",align:"start"},{title:"ESTADO",key:"Estado",align:"end",width:"120px"}],w=O(()=>{let M=C.value.map(y=>{const E=r.value.find(te=>te.Id===y.TipoRAMId);return{Id:y.Id,Velocidad:y.Nombre,Tipo:E?E.Nombre:"?",TipoId:y.TipoRAMId,Activo:y.Activo}});return S.value&&(M=M.filter(y=>y.TipoId===S.value)),M}),f=P(!1),x=P(!1),c=P({Tipo:"",Velocidad:""}),u=P(!1),V=P({Id:null,Tipo:"",Velocidad:"",Activo:!0}),v=P(!1),T=P(!1),p=P(""),g=O(()=>{const M=r.value.find(y=>y.Nombre===c.value.Tipo);return M?C.value.filter(y=>y.TipoRAMId===M.Id):[]});async function R(){k.value=!0;try{const[M,y,E]=await Promise.all([K.get(`${Fe}/tipos_ram`,{withCredentials:!0}),K.get(`${Fe}/capacidades_ram`,{withCredentials:!0}),K.get(`${Fe}/velocidades_ram`,{withCredentials:!0})]);r.value=M.data,m.value=y.data,C.value=E.data}catch(M){console.error("Error loading RAM data",M)}finally{k.value=!1}}function X(){c.value={Tipo:"",Velocidad:""},f.value=!0}function F(M,{item:y}){V.value={Id:y.Id,Tipo:y.Tipo,Velocidad:y.Velocidad,Activo:y.Activo},u.value=!0}async function $(){if(V.value.Velocidad){x.value=!0;try{await K.put(`${Fe}/velocidades_ram/${V.value.Id}`,{Nombre:V.value.Velocidad,Activo:V.value.Activo},{withCredentials:!0}),await R(),u.value=!1}catch(M){alert("Error al actualizar: "+(M.response?.data?.message||M.message))}finally{x.value=!1}}}function d(){p.value="",v.value=!0}async function D(){if(p.value){T.value=!0;try{if(m.value.find(y=>y.Nombre===p.value)){alert("Esa capacidad ya existe"),T.value=!1;return}await K.post(`${Fe}/capacidades_ram`,{Nombre:p.value},{withCredentials:!0}),await R(),v.value=!1}catch(M){alert("Error al guardar capacidad: "+(M.response?.data?.message||M.message))}finally{T.value=!1}}}async function j(){if(!c.value.Tipo||!c.value.Velocidad){alert("Por favor complete Tipo y Velocidad");return}x.value=!0;try{let M=null;const y=r.value.find(te=>te.Nombre===c.value.Tipo);if(y)M=y.Id;else{const te=await K.post(`${Fe}/tipos_ram`,{Nombre:c.value.Tipo},{withCredentials:!0});await R();const G=r.value.find(h=>h.Nombre===c.value.Tipo);G&&(M=G.Id)}C.value.find(te=>te.Nombre===c.value.Velocidad&&te.TipoRAMId===M)?alert("Esta velocidad ya existe para este tipo de RAM"):await K.post(`${Fe}/velocidades_ram`,{Nombre:c.value.Velocidad,TipoRAMId:M},{withCredentials:!0}),await R(),f.value=!1}catch(M){alert("Error al guardar: "+(M.response?.data?.message||M.message))}finally{x.value=!1}}return Oe(()=>{s.value&&R()}),fe(s,M=>{M&&R()}),(M,y)=>(q(),ae(le,{modelValue:s.value,"onUpdate:modelValue":y[20]||(y[20]=E=>s.value=E),"max-width":"900",scrollable:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(J,{class:"bg-grey-lighten-5 rounded-xl",height:"600"},{default:a(()=>[l("div",Tn,[l("div",$n,[l("div",Dn,[l("div",En,[t(B,{color:"teal-darken-1",size:"28"},{default:a(()=>[...y[21]||(y[21]=[A("mdi-memory",-1)])]),_:1})]),y[22]||(y[22]=l("div",null,[l("h2",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-0"},"Memoria RAM"),l("p",{class:"text-caption text-grey"},"Gestiona tipos, capacidades y velocidades de memoria.")],-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:y[0]||(y[0]=E=>s.value=!1)})]),l("div",Nn,[l("div",_n,[t(se,{modelValue:I.value,"onUpdate:modelValue":y[1]||(y[1]=E=>I.value=E),"prepend-inner-icon":"mdi-magnify",placeholder:"Buscar memoria...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg search-input"},null,8,["modelValue"])]),l("div",Fn,[t(Me,{modelValue:S.value,"onUpdate:modelValue":y[2]||(y[2]=E=>S.value=E),items:r.value,"item-title":"Nombre","item-value":"Id",placeholder:"Todos los Tipos",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg",clearable:""},null,8,["modelValue","items"])]),t(re),t(z,{color:"blue-grey-lighten-4",variant:"flat",class:"text-blue-grey-darken-4 text-capitalize rounded-lg px-4 mr-2",height:"40","prepend-icon":"mdi-database-plus",elevation:"0",onClick:d},{default:a(()=>[...y[23]||(y[23]=[A(" Capacidad ",-1)])]),_:1}),t(z,{color:"#1e293b",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:X},{default:a(()=>[...y[24]||(y[24]=[A(" RAM ",-1)])]),_:1})])]),t(vt,{fluid:"",class:"pa-8"},{default:a(()=>[t(J,{class:"rounded-lg border-thin elevation-0 overflow-hidden"},{default:a(()=>[t(gt,{headers:b,items:w.value,search:I.value,loading:k.value,hover:"",class:"header-bg cursor-pointer","onClick:row":F},{"item.Tipo":a(({item:E})=>[t(Ve,{size:"small",color:"teal",variant:"flat",class:"font-weight-bold bg-teal-lighten-5 text-teal-darken-2"},{default:a(()=>[A(U(E.Tipo),1)]),_:2},1024)]),"item.Velocidad":a(({item:E})=>[l("span",Rn,U(E.Velocidad),1)]),"item.Estado":a(({item:E})=>[t(Ve,{color:E.Activo?"emerald":"grey",class:ee([E.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:a(()=>[t(B,{size:"8",class:"mr-1",color:E.Activo?"success":"grey"},{default:a(()=>[...y[25]||(y[25]=[A("mdi-circle",-1)])]),_:1},8,["color"])]),default:a(()=>[A(" "+U(E.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),_:1},8,["items","search","loading"])]),_:1})]),_:1})]),_:1}),t(le,{modelValue:f.value,"onUpdate:modelValue":y[7]||(y[7]=E=>f.value=E),"max-width":"450",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:a(()=>[y[26]||(y[26]=l("div",null,[l("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nueva Velocidad RAM "),l("p",{class:"text-caption text-grey mt-1"},"Registra Tipo y Velocidad de bus.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:y[3]||(y[3]=E=>f.value=!1)})]),_:1}),t(ve,{class:"mx-4 opacity-10 mb-4"}),t(ne,{class:"px-4 py-0"},{default:a(()=>[t(Ae,{onSubmit:ye(j,["prevent"])},{default:a(()=>[t(me,{"no-gutters":""},{default:a(()=>[t(H,{cols:"12",class:"mb-4"},{default:a(()=>[y[27]||(y[27]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"TIPO"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe (ej. DDR4)")],-1)),t(ze,{"model-value":c.value.Tipo,"onUpdate:modelValue":y[4]||(y[4]=E=>c.value.Tipo=E?.toUpperCase()??""),items:r.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. DDR4",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5"},null,8,["model-value","items"])]),_:1}),t(H,{cols:"12",class:"mb-2"},{default:a(()=>[y[28]||(y[28]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"VELOCIDAD"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Vinculada al Tipo (ej. 3200MHZ)")],-1)),t(ze,{"model-value":c.value.Velocidad,"onUpdate:modelValue":y[5]||(y[5]=E=>c.value.Velocidad=E?.toUpperCase()??""),items:g.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 3200MHZ",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","return-object":!1,"bg-color":"grey-lighten-5",disabled:!c.value.Tipo},null,8,["model-value","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:y[6]||(y[6]=E=>f.value=!1)},{default:a(()=>[...y[29]||(y[29]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:j,loading:x.value},{default:a(()=>[t(B,{start:"",class:"mr-2"},{default:a(()=>[...y[30]||(y[30]=[A("mdi-content-save-outline",-1)])]),_:1}),y[31]||(y[31]=A(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:u.value,"onUpdate:modelValue":y[14]||(y[14]=E=>u.value=E),"max-width":"450",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:a(()=>[y[32]||(y[32]=l("div",null,[l("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Editar Velocidad "),l("p",{class:"text-caption text-grey mt-1"},"Modifica la velocidad o cambia su estado.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:y[8]||(y[8]=E=>u.value=!1)})]),_:1}),t(ve,{class:"mx-4 opacity-10 mb-4"}),t(ne,{class:"px-4 py-0"},{default:a(()=>[t(Ae,{onSubmit:ye($,["prevent"])},{default:a(()=>[t(me,{"no-gutters":""},{default:a(()=>[t(H,{cols:"12",class:"mb-4"},{default:a(()=>[y[33]||(y[33]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"TIPO")],-1)),t(se,{modelValue:V.value.Tipo,"onUpdate:modelValue":y[9]||(y[9]=E=>V.value.Tipo=E),variant:"outlined",density:"comfortable","bg-color":"grey-lighten-4",class:"rounded-lg text-uppercase","hide-details":"auto",readonly:""},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",class:"mb-4"},{default:a(()=>[y[34]||(y[34]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"VELOCIDAD")],-1)),t(se,{modelValue:V.value.Velocidad,"onUpdate:modelValue":[y[10]||(y[10]=E=>V.value.Velocidad=E),y[11]||(y[11]=E=>V.value.Velocidad=E?.toUpperCase()??"")],placeholder:"Ej. 3200MHZ",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5"},null,8,["modelValue"])]),_:1}),t(H,{cols:"12",class:"mb-2"},{default:a(()=>[t(Le,{modelValue:V.value.Activo,"onUpdate:modelValue":y[12]||(y[12]=E=>V.value.Activo=E),color:"success",label:"Activo","hide-details":"",inset:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:y[13]||(y[13]=E=>u.value=!1)},{default:a(()=>[...y[35]||(y[35]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:$,loading:x.value},{default:a(()=>[t(B,{start:"",class:"mr-2"},{default:a(()=>[...y[36]||(y[36]=[A("mdi-content-save-outline",-1)])]),_:1}),y[37]||(y[37]=A(" Actualizar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:v.value,"onUpdate:modelValue":y[19]||(y[19]=E=>v.value=E),"max-width":"400",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:a(()=>[y[38]||(y[38]=l("div",null,[l("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nueva Capacidad "),l("p",{class:"text-caption text-grey mt-1"},"Añade una capacidad global.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:y[15]||(y[15]=E=>v.value=!1)})]),_:1}),t(ve,{class:"mx-4 opacity-10 mb-4"}),t(ne,{class:"px-4 py-0"},{default:a(()=>[t(Ae,{onSubmit:ye(D,["prevent"])},{default:a(()=>[t(me,{"no-gutters":""},{default:a(()=>[t(H,{cols:"12",class:"mb-2"},{default:a(()=>[y[39]||(y[39]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"CAPACIDAD"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe (ej. 64GB)")],-1)),t(ze,{modelValue:p.value,"onUpdate:modelValue":[y[16]||(y[16]=E=>p.value=E),y[17]||(y[17]=E=>p.value=E?.toUpperCase()??"")],items:m.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 64GB",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:y[18]||(y[18]=E=>v.value=!1)},{default:a(()=>[...y[40]||(y[40]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:D,loading:T.value},{default:a(()=>[t(B,{start:"",class:"mr-2"},{default:a(()=>[...y[41]||(y[41]=[A("mdi-content-save-outline",-1)])]),_:1}),y[42]||(y[42]=A(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},Mn=De(zn,[["__scopeId","data-v-dc5d612a"]]),On=de({color:String,...Qt(),..._t(),...Ka(),...Jt(),...ul(),...dl(),...Zt(),...Nt(),...Et()},"VSheet"),Kt=Se()({name:"VSheet",props:On(),setup(e,i){let{slots:n}=i;const{themeClasses:o}=Dt(e),{backgroundColorClasses:s,backgroundColorStyles:r}=Xt(()=>e.color),{borderClasses:m}=ol(e),{dimensionStyles:C}=qa(e),{elevationClasses:k}=nl(e),{locationStyles:I}=sl(e),{positionClasses:S}=il(e),{roundedClasses:b}=rl(e);return $e(()=>t(e.tag,{class:ee(["v-sheet",o.value,s.value,m.value,k.value,S.value,b.value,e.class]),style:tt([r.value,C.value,I.value,e.style])},n)),{}}}),Un={class:"px-8 pt-6 pb-6 bg-white elevation-0 border-bottom"},Ln={class:"d-flex align-center justify-space-between"},Bn={class:"d-flex align-center"},jn={class:"header-icon-box mr-4 bg-teal-lighten-5"},Gn={class:"mt-6 d-flex align-center flex-wrap gap-4"},Hn={style:{width:"280px"}},qn={class:"d-flex flex-wrap gap-1"},Kn={key:0,class:"text-caption text-grey"},Wn={class:"d-flex flex-wrap gap-1"},Zn={key:0,class:"text-caption text-grey"},Jn={class:"text-h6 font-weight-bold text-blue-grey-darken-4"},Qn={class:"mb-6"},Xn={class:"d-flex align-center justify-space-between mb-2"},Yn={class:"d-flex align-center justify-space-between mb-2"},es={class:"text-h6 font-weight-bold text-blue-grey-darken-4"},Pe="http://localhost:5000/api/config",ts={__name:"StorageConfig",props:{modelValue:{default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(e){const i=Wa(e,"modelValue"),n=P([]),o=P([]),s=P([]),r=P([]),m=P(!1),C=P(""),k=[{title:"TIPO",key:"Tipo",align:"start",width:"150px"},{title:"PROTOCOLOS",key:"Protocolos",align:"start"},{title:"FACTORES DE FORMA",key:"Factores",align:"start"},{title:"ESTADO",key:"Estado",align:"end",width:"120px"}],I=O(()=>{let G=n.value.map(h=>({Id:h.Id,Tipo:h.Nombre,Activo:h.Activo,Protocolos:s.value.filter(_=>_.TipoId===h.Id),Factores:r.value.filter(_=>_.TipoId===h.Id)}));if(C.value){const h=C.value.toUpperCase();G=G.filter(_=>_.Tipo.includes(h)||_.Protocolos.some(Y=>Y.Nombre.includes(h))||_.Factores.some(Y=>Y.Nombre.includes(h)))}return G}),S=P(!1),b=P(!1),w=P(""),f=P(!1),x=P({Id:null,Tipo:"",Protocolos:[],Factores:[]}),c=P(!1),u=P(!1),V=P(""),v=P(!1),T=P("protocol"),p=P(""),g=P(!1);async function R(){m.value=!0;try{const[G,h,_,Y]=await Promise.all([K.get(`${Pe}/tipos_almacenamiento`,{withCredentials:!0}),K.get(`${Pe}/capacidades_almacenamiento`,{withCredentials:!0}),K.get(`${Pe}/protocolos_almacenamiento`,{withCredentials:!0}),K.get(`${Pe}/factores_forma_almacenamiento`,{withCredentials:!0})]);n.value=G.data,o.value=h.data,s.value=_.data,r.value=Y.data}catch(G){console.error("Error loading Storage data",G)}finally{m.value=!1}}function X(){w.value="",S.value=!0}async function F(){if(w.value){b.value=!0;try{await K.post(`${Pe}/tipos_almacenamiento`,{Nombre:w.value},{withCredentials:!0}),await R(),S.value=!1}catch(G){alert("Error: "+G.message)}finally{b.value=!1}}}function $(){V.value="",c.value=!0}async function d(){if(V.value){u.value=!0;try{await K.post(`${Pe}/capacidades_almacenamiento`,{Nombre:V.value},{withCredentials:!0}),await R(),c.value=!1}catch(G){alert("Error: "+G.message)}finally{u.value=!1}}}function D(G,{item:h}){x.value={Id:h.Id,Tipo:h.Tipo,Protocolos:h.Protocolos,Factores:h.Factores},f.value=!0}function j(){T.value="protocol",p.value="",v.value=!0}function M(){T.value="factor",p.value="",v.value=!0}async function y(){if(p.value){g.value=!0;try{const G=T.value==="protocol"?"protocolos_almacenamiento":"factores_forma_almacenamiento";await K.post(`${Pe}/${G}`,{Nombre:p.value,TipoId:x.value.Id},{withCredentials:!0}),await R();const h=I.value.find(_=>_.Id===x.value.Id);h&&(x.value.Protocolos=h.Protocolos,x.value.Factores=h.Factores),v.value=!1}catch(G){alert("Error: "+G.message)}finally{g.value=!1}}}async function E(G){try{await K.put(`${Pe}/protocolos_almacenamiento/${G.Id}`,{Activo:G.Activo},{withCredentials:!0})}catch(h){console.error(h),G.Activo=!G.Activo}}async function te(G){try{await K.put(`${Pe}/factores_forma_almacenamiento/${G.Id}`,{Activo:G.Activo},{withCredentials:!0})}catch(h){console.error(h),G.Activo=!G.Activo}}return Oe(()=>{R()}),(G,h)=>(q(),ae(le,{modelValue:i.value,"onUpdate:modelValue":h[19]||(h[19]=_=>i.value=_),"max-width":"1000",scrollable:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(J,{class:"bg-grey-lighten-5 rounded-xl",height:"700"},{default:a(()=>[l("div",Un,[l("div",Ln,[l("div",Bn,[l("div",jn,[t(B,{color:"teal-darken-1",size:"28"},{default:a(()=>[...h[20]||(h[20]=[A("mdi-harddisk",-1)])]),_:1})]),h[21]||(h[21]=l("div",null,[l("h2",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-0"},"Almacenamiento"),l("p",{class:"text-caption text-grey"},"Gestiona tipos, protocolos y factores de forma.")],-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",onClick:h[0]||(h[0]=_=>i.value=!1)})]),l("div",Gn,[l("div",Hn,[t(se,{modelValue:C.value,"onUpdate:modelValue":h[1]||(h[1]=_=>C.value=_),"prepend-inner-icon":"mdi-magnify",placeholder:"Buscar almacenamiento...",variant:"outlined",density:"compact","hide-details":"","bg-color":"white",class:"rounded-lg search-input"},null,8,["modelValue"])]),t(re),t(z,{color:"blue-grey-lighten-4",variant:"flat",class:"text-blue-grey-darken-4 text-capitalize rounded-lg px-4 mr-2",height:"40","prepend-icon":"mdi-database-plus",elevation:"0",onClick:$},{default:a(()=>[...h[22]||(h[22]=[A(" Capacidad ",-1)])]),_:1}),t(z,{color:"#1e293b",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-plus",elevation:"0",onClick:X},{default:a(()=>[...h[23]||(h[23]=[A(" Tipo ",-1)])]),_:1})])]),t(vt,{fluid:"",class:"pa-8"},{default:a(()=>[t(J,{class:"rounded-lg border-thin elevation-0 overflow-hidden"},{default:a(()=>[t(gt,{headers:k,items:I.value,loading:m.value,hover:"",class:"header-bg cursor-pointer","onClick:row":D},{"item.Tipo":a(({item:_})=>[t(Ve,{size:"small",color:"indigo",variant:"flat",class:"font-weight-bold bg-indigo-lighten-5 text-indigo-darken-2"},{default:a(()=>[A(U(_.Tipo),1)]),_:2},1024)]),"item.Protocolos":a(({item:_})=>[l("div",qn,[(q(!0),ge(ce,null,Ne(_.Protocolos,Y=>(q(),ae(Ve,{key:Y.Id,size:"x-small",class:"mr-1 mb-1",color:Y.Activo?"blue":"grey",variant:"tonal"},{default:a(()=>[A(U(Y.Nombre),1)]),_:2},1032,["color"]))),128)),_.Protocolos.length===0?(q(),ge("span",Kn,"-")):Qe("",!0)])]),"item.Factores":a(({item:_})=>[l("div",Wn,[(q(!0),ge(ce,null,Ne(_.Factores,Y=>(q(),ae(Ve,{key:Y.Id,size:"x-small",class:"mr-1 mb-1",color:Y.Activo?"purple":"grey",variant:"tonal"},{default:a(()=>[A(U(Y.Nombre),1)]),_:2},1032,["color"]))),128)),_.Factores.length===0?(q(),ge("span",Zn,"-")):Qe("",!0)])]),"item.Estado":a(({item:_})=>[t(Ve,{color:_.Activo?"emerald":"grey",class:ee([_.Activo?"bg-green-lighten-5 text-green-darken-1":"bg-grey-lighten-4 text-grey-darken-1","font-weight-bold"]),size:"small",variant:"flat"},{prepend:a(()=>[t(B,{size:"8",class:"mr-1",color:_.Activo?"success":"grey"},{default:a(()=>[...h[24]||(h[24]=[A("mdi-circle",-1)])]),_:1},8,["color"])]),default:a(()=>[A(" "+U(_.Activo?"Activo":"Inactivo"),1)]),_:2},1032,["color","class"])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1}),t(le,{modelValue:S.value,"onUpdate:modelValue":h[6]||(h[6]=_=>S.value=_),"max-width":"500",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:a(()=>[h[25]||(h[25]=l("div",null,[l("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nuevo Tipo de Almacenamiento "),l("p",{class:"text-caption text-grey mt-1"},"Define un tipo base (ej. SSD, M.2).")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:h[2]||(h[2]=_=>S.value=!1)})]),_:1}),t(ve,{class:"mx-4 opacity-10 mb-4"}),t(ne,{class:"px-4 py-0"},{default:a(()=>[t(Ae,{onSubmit:ye(F,["prevent"])},{default:a(()=>[t(me,{"no-gutters":""},{default:a(()=>[t(H,{cols:"12",class:"mb-4"},{default:a(()=>[h[26]||(h[26]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"NOMBRE DEL TIPO"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Ej. NVMe, SAS")],-1)),t(se,{modelValue:w.value,"onUpdate:modelValue":[h[3]||(h[3]=_=>w.value=_),h[4]||(h[4]=_=>w.value=_?.toUpperCase()??"")],placeholder:"Ej. NVMe",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:h[5]||(h[5]=_=>S.value=!1)},{default:a(()=>[...h[27]||(h[27]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:F,loading:b.value},{default:a(()=>[t(B,{start:"",class:"mr-2"},{default:a(()=>[...h[28]||(h[28]=[A("mdi-content-save-outline",-1)])]),_:1}),h[29]||(h[29]=A(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:f.value,"onUpdate:modelValue":h[9]||(h[9]=_=>f.value=_),"max-width":"600",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:a(()=>[l("div",null,[l("span",Jn," Configurar "+U(x.value.Tipo),1),h[30]||(h[30]=l("p",{class:"text-caption text-grey mt-1"},"Gestiona protocolos y factores de forma asociados.",-1))]),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:h[7]||(h[7]=_=>f.value=!1)})]),_:1}),t(ve,{class:"mx-4 opacity-10 mb-4"}),t(ne,{class:"px-4 py-0",style:{"max-height":"600px","overflow-y":"auto"}},{default:a(()=>[l("div",Qn,[l("div",Xn,[h[32]||(h[32]=l("label",{class:"text-subtitle-2 font-weight-bold text-blue-grey-darken-3"},"Protocolos",-1)),t(z,{size:"small",variant:"text",color:"primary","prepend-icon":"mdi-plus",onClick:j},{default:a(()=>[...h[31]||(h[31]=[A("Agregar",-1)])]),_:1})]),t(Kt,{border:"",class:"rounded-lg pa-0 overflow-hidden"},{default:a(()=>[t(Tt,{density:"compact",class:"py-0"},{default:a(()=>[(q(!0),ge(ce,null,Ne(x.value.Protocolos,_=>(q(),ae(Ue,{key:_.Id,title:_.Nombre},{append:a(()=>[t(Le,{modelValue:_.Activo,"onUpdate:modelValue":[Y=>_.Activo=Y,Y=>E(_)],color:"success",density:"compact","hide-details":"",inset:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128)),x.value.Protocolos.length===0?(q(),ae(Ue,{key:0},{default:a(()=>[...h[33]||(h[33]=[l("span",{class:"text-caption text-grey font-italic"},"No hay protocolos definidos",-1)])]),_:1})):Qe("",!0)]),_:1})]),_:1})]),l("div",null,[l("div",Yn,[h[35]||(h[35]=l("label",{class:"text-subtitle-2 font-weight-bold text-blue-grey-darken-3"},"Factores de Forma",-1)),t(z,{size:"small",variant:"text",color:"primary","prepend-icon":"mdi-plus",onClick:M},{default:a(()=>[...h[34]||(h[34]=[A("Agregar",-1)])]),_:1})]),t(Kt,{border:"",class:"rounded-lg pa-0 overflow-hidden"},{default:a(()=>[t(Tt,{density:"compact",class:"py-0"},{default:a(()=>[(q(!0),ge(ce,null,Ne(x.value.Factores,_=>(q(),ae(Ue,{key:_.Id,title:_.Nombre},{append:a(()=>[t(Le,{modelValue:_.Activo,"onUpdate:modelValue":[Y=>_.Activo=Y,Y=>te(_)],color:"success",density:"compact","hide-details":"",inset:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128)),x.value.Factores.length===0?(q(),ae(Ue,{key:0},{default:a(()=>[...h[36]||(h[36]=[l("span",{class:"text-caption text-grey font-italic"},"No hay factores definidos",-1)])]),_:1})):Qe("",!0)]),_:1})]),_:1})])]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"44",onClick:h[8]||(h[8]=_=>f.value=!1)},{default:a(()=>[...h[37]||(h[37]=[A(" Listo ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:v.value,"onUpdate:modelValue":h[13]||(h[13]=_=>v.value=_),"max-width":"400",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2"},{default:a(()=>[l("span",es," Nuevo "+U(T.value==="protocol"?"Protocolo":"Factor de Forma"),1)]),_:1}),t(ne,{class:"px-4 py-0"},{default:a(()=>[t(se,{modelValue:p.value,"onUpdate:modelValue":[h[10]||(h[10]=_=>p.value=_),h[11]||(h[11]=_=>p.value=_?.toUpperCase()??"")],placeholder:T.value==="protocol"?"Ej. SATA":"Ej. 2.5",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5",autofocus:""},null,8,["modelValue","placeholder"])]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{variant:"text",color:"grey",onClick:h[12]||(h[12]=_=>v.value=!1)},{default:a(()=>[...h[38]||(h[38]=[A("Cancelar",-1)])]),_:1}),t(z,{color:"primary",variant:"flat",onClick:y,loading:g.value},{default:a(()=>[...h[39]||(h[39]=[A("Guardar",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:c.value,"onUpdate:modelValue":h[18]||(h[18]=_=>c.value=_),"max-width":"400",persistent:""},{default:a(()=>[t(J,{class:"rounded-xl pa-4"},{default:a(()=>[t(Ie,{class:"px-4 pt-2 pb-2 d-flex align-start justify-space-between"},{default:a(()=>[h[40]||(h[40]=l("div",null,[l("span",{class:"text-h6 font-weight-bold text-blue-grey-darken-4"}," Nueva Capacidad "),l("p",{class:"text-caption text-grey mt-1"},"Añade una capacidad global.")],-1)),t(z,{icon:"mdi-close",variant:"text",color:"grey",density:"comfortable",onClick:h[14]||(h[14]=_=>c.value=!1)})]),_:1}),t(ve,{class:"mx-4 opacity-10 mb-4"}),t(ne,{class:"px-4 py-0"},{default:a(()=>[t(Ae,{onSubmit:ye(d,["prevent"])},{default:a(()=>[t(me,{"no-gutters":""},{default:a(()=>[t(H,{cols:"12",class:"mb-2"},{default:a(()=>[h[41]||(h[41]=l("div",{class:"d-flex justify-space-between align-center mb-1"},[l("label",{class:"text-caption font-weight-bold text-grey-darken-1"},"CAPACIDAD"),l("span",{class:"text-caption text-grey-lighten-1",style:{"font-size":"10px"}},"Selecciona o escribe (ej. 512GB)")],-1)),t(ze,{modelValue:V.value,"onUpdate:modelValue":[h[15]||(h[15]=_=>V.value=_),h[16]||(h[16]=_=>V.value=_?.toUpperCase()??"")],items:o.value,"item-title":"Nombre","item-value":"Nombre",placeholder:"Ej. 512GB",variant:"outlined",density:"comfortable",color:"primary",class:"rounded-lg text-uppercase","hide-details":"auto","bg-color":"grey-lighten-5","return-object":!1},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),t(we,{class:"px-4 pb-2 pt-4"},{default:a(()=>[t(re),t(z,{variant:"text",color:"blue-grey-darken-1",class:"text-capitalize font-weight-medium px-4",onClick:h[17]||(h[17]=_=>c.value=!1)},{default:a(()=>[...h[42]||(h[42]=[A(" Cancelar ",-1)])]),_:1}),t(z,{color:"#1e293b",variant:"flat",class:"text-white text-capitalize rounded-lg px-6 ml-2",height:"44",onClick:d,loading:u.value},{default:a(()=>[t(B,{start:"",class:"mr-2"},{default:a(()=>[...h[43]||(h[43]=[A("mdi-content-save-outline",-1)])]),_:1}),h[44]||(h[44]=A(" Guardar ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}},as=De(ts,[["__scopeId","data-v-64c86218"]]),ls={class:"w-100"},os={class:"mb-8"},ns={class:"text-caption text-grey mb-1"},ss={class:"mb-8"},is={class:"d-flex align-center mb-4"},rs={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 mb-0 line-height-tight"},ds={class:"mb-8"},us={class:"d-flex align-center mb-4"},cs={class:"text-subtitle-2 font-weight-bold text-grey-darken-3 mb-0 line-height-tight"},vs={class:"mb-8"},fs={class:"d-flex align-center mb-4"},ms={class:"card-corner-decoration bg-orange-lighten-5"},gs={class:"icon-box bg-orange-lighten-5"},ps={__name:"SystemConfig",setup(e){Za();const i=P(!1),n=P(!1),o=P(!1),s=P(!1),r=P(""),m=P(""),C=P(""),k=P(""),I=P(!1),S=P(!1),b=P(!1),w=P(!1),f=P(""),x=[{title:"Mis Empresas",icon:"mdi-domain",action:"companies",color:"blue-grey"},{title:"Mis Sedes",icon:"mdi-map-marker",action:"sedes",color:"blue-grey"},{title:"Mis Usuarios",icon:"mdi-account-group",action:"users",color:"blue-grey"},{title:"Áreas",icon:"mdi-chart-tree",action:"catalog",catalog:"areas",description:"Administra las dependencias y departamentos.",color:"blue-grey"},{title:"Cargos",icon:"mdi-badge-account",action:"catalog",catalog:"cargos",description:"Gestiona los cargos y roles laborales.",color:"blue-grey"}],c=[{title:"Estado Equipo",icon:"mdi-toggle-switch",action:"catalog",catalog:"estados_equipo",description:"Estados posibles de un equipo (Nuevo, Usado, etc).",color:"teal"},{title:"Tipo Equipo",icon:"mdi-laptop",action:"catalog",catalog:"tipos_equipo",description:"Tipos de dispositivos (Laptop, Desktop, Móvil).",color:"teal"},{title:"Fabricantes",icon:"mdi-factory",action:"catalog",catalog:"fabricantes",description:"Marcas y fabricantes de hardware.",color:"teal"},{title:"Catálogo de Procesadores",icon:"mdi-cpu-64-bit",action:"processors",description:"Configuración de Marcas, Tipos y Generaciones.",color:"teal"},{title:"RAM",icon:"mdi-memory",action:"ram",description:"Tipos, Capacidades y Velocidades.",color:"teal"},{title:"Almacenamiento",icon:"mdi-harddisk",action:"storage",description:"Discos, tipos y capacidades",color:"teal"},{title:"Puertos",icon:"mdi-serial-port",action:"catalog",catalog:"puertos",description:"Tipos de puertos y conexiones.",color:"teal"},{title:"Sistema Operativo",icon:"mdi-monitor",action:"catalog",catalog:"sistemas_operativos",description:"Sistemas operativos soportados.",color:"teal"},{title:"Ofimáticas",icon:"mdi-file-document",action:"catalog",catalog:"ofimaticas",description:"Suites de ofimática y versiones.",color:"teal"},{title:"Antivirus",icon:"mdi-shield-check",action:"catalog",catalog:"antivirus",description:"Soluciones de seguridad y antivirus.",color:"teal"},{title:"Aplicaciones",icon:"mdi-apps",action:"catalog",catalog:"aplicaciones",description:"Otras aplicaciones y software corporativo.",color:"teal"}];function u(T){T.action==="catalog"?V(T):T.action==="companies"?I.value=!0:T.action==="sedes"?S.value=!0:T.action==="users"?b.value=!0:T.action==="processors"?n.value=!0:T.action==="ram"?o.value=!0:T.action==="storage"?s.value=!0:(f.value=T.title,w.value=!0)}function V(T){r.value=T.catalog,m.value=T.title,C.value=T.icon,k.value=T.description||"Gestión de catálogo del sistema.",i.value=!0}function v(){f.value="Auditoría",w.value=!0}return(T,p)=>(q(),ae(vt,{fluid:"",class:"bg-grey-lighten-5 fill-height align-start"},{default:a(()=>[l("div",ls,[l("div",os,[l("div",ns,[t(B,{size:"small",class:"mr-1"},{default:a(()=>[...p[13]||(p[13]=[A("mdi-home",-1)])]),_:1}),p[14]||(p[14]=A(" / Sistema / Configuración ",-1))]),p[15]||(p[15]=l("h1",{class:"text-h4 font-weight-bold text-primary mb-1"}," Configuración del Sistema ",-1)),p[16]||(p[16]=l("p",{class:"text-body-1 text-grey-darken-1"}," Administra los parámetros generales, usuarios y catálogos. ",-1))]),l("div",ss,[l("div",is,[t(B,{color:"primary",class:"mr-2"},{default:a(()=>[...p[17]||(p[17]=[A("mdi-domain",-1)])]),_:1}),p[18]||(p[18]=l("h2",{class:"text-h6 font-weight-bold text-grey-darken-3"},"Empresa y Usuarios",-1))]),t(me,null,{default:a(()=>[(q(),ge(ce,null,Ne(x,g=>t(H,{cols:"12",sm:"6",md:"3",lg:"2",key:g.title},{default:a(()=>[It((q(),ae(J,{class:"config-card border-0 elevation-1",height:"120",onClick:R=>u(g)},{default:a(()=>[l("div",{class:ee(["card-corner-decoration",`bg-${g.color}-lighten-5`])},[t(B,{size:"small",color:g.color},{default:a(()=>[...p[19]||(p[19]=[A("mdi-chevron-right",-1)])]),_:1},8,["color"])],2),t(ne,{class:"pa-3 d-flex flex-column justify-space-between h-100"},{default:a(()=>[l("div",{class:ee(["icon-box",`bg-${g.color}-lighten-5`])},[t(B,{size:"24",color:g.color},{default:a(()=>[A(U(g.icon),1)]),_:2},1032,["color"])],2),l("div",null,[l("div",rs,U(g.title),1),p[20]||(p[20]=l("div",{class:"text-caption text-grey",style:{"font-size":"0.7rem !important"}},"Configurar",-1))])]),_:2},1024)]),_:2},1032,["onClick"])),[[St]])]),_:2},1024)),64))]),_:1})]),l("div",ds,[l("div",us,[t(B,{color:"teal",class:"mr-2"},{default:a(()=>[...p[21]||(p[21]=[A("mdi-database",-1)])]),_:1}),p[22]||(p[22]=l("h2",{class:"text-h6 font-weight-bold text-grey-darken-3"},"Catálogos de Inventario",-1))]),t(me,null,{default:a(()=>[(q(),ge(ce,null,Ne(c,g=>t(H,{cols:"12",sm:"6",md:"3",lg:"2",key:g.title},{default:a(()=>[It((q(),ae(J,{class:"config-card border-0 elevation-1",height:"120",onClick:R=>u(g)},{default:a(()=>[l("div",{class:ee(["card-corner-decoration",`bg-${g.color}-lighten-5`])},[t(B,{size:"small",color:g.color},{default:a(()=>[...p[23]||(p[23]=[A("mdi-chevron-right",-1)])]),_:1},8,["color"])],2),t(ne,{class:"pa-3 d-flex flex-column justify-space-between h-100"},{default:a(()=>[l("div",{class:ee(["icon-box",`bg-${g.color}-lighten-5`])},[t(B,{size:"24",color:g.color},{default:a(()=>[A(U(g.icon),1)]),_:2},1032,["color"])],2),l("div",null,[l("div",cs,U(g.title),1),p[24]||(p[24]=l("div",{class:"text-caption text-grey",style:{"font-size":"0.7rem !important"}},"Configurar",-1))])]),_:2},1024)]),_:2},1032,["onClick"])),[[St]])]),_:2},1024)),64))]),_:1})]),l("div",vs,[l("div",fs,[t(B,{color:"orange",class:"mr-2"},{default:a(()=>[...p[25]||(p[25]=[A("mdi-shield-search",-1)])]),_:1}),p[26]||(p[26]=l("h2",{class:"text-h6 font-weight-bold text-grey-darken-3"},"Auditoría y Seguridad",-1))]),t(me,null,{default:a(()=>[t(H,{cols:"12",sm:"6",md:"3",lg:"2"},{default:a(()=>[It((q(),ae(J,{class:"config-card border-0 elevation-1",height:"120",onClick:v},{default:a(()=>[l("div",ms,[t(B,{size:"small",color:"orange"},{default:a(()=>[...p[27]||(p[27]=[A("mdi-chevron-right",-1)])]),_:1})]),t(ne,{class:"pa-3 d-flex flex-column justify-space-between h-100"},{default:a(()=>[l("div",gs,[t(B,{size:"24",color:"orange"},{default:a(()=>[...p[28]||(p[28]=[A("mdi-history",-1)])]),_:1})]),p[29]||(p[29]=l("div",null,[l("div",{class:"text-subtitle-2 font-weight-bold text-grey-darken-3 mb-0 line-height-tight"}," Log de Auditoría "),l("div",{class:"text-caption text-grey",style:{"font-size":"0.7rem !important"}},"Configurar")],-1))]),_:1})]),_:1})),[[St]])]),_:1})]),_:1})])]),t(le,{modelValue:i.value,"onUpdate:modelValue":p[1]||(p[1]=g=>i.value=g),fullscreen:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(vn,{modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=g=>i.value=g),"catalog-name":r.value,title:m.value,icon:C.value,description:k.value},null,8,["modelValue","catalog-name","title","icon","description"])]),_:1},8,["modelValue"]),t(An,{modelValue:n.value,"onUpdate:modelValue":p[2]||(p[2]=g=>n.value=g)},null,8,["modelValue"]),t(Mn,{modelValue:o.value,"onUpdate:modelValue":p[3]||(p[3]=g=>o.value=g)},null,8,["modelValue"]),t(as,{modelValue:s.value,"onUpdate:modelValue":p[4]||(p[4]=g=>s.value=g)},null,8,["modelValue"]),t(le,{modelValue:w.value,"onUpdate:modelValue":p[6]||(p[6]=g=>w.value=g),"max-width":"600"},{default:a(()=>[t(J,null,{default:a(()=>[t(Ie,null,{default:a(()=>[...p[30]||(p[30]=[A("En Construcción",-1)])]),_:1}),t(ne,null,{default:a(()=>[p[31]||(p[31]=A(" La funcionalidad ",-1)),l("strong",null,U(f.value),1),p[32]||(p[32]=A(" está siendo implementada. ",-1))]),_:1}),t(we,null,{default:a(()=>[t(re),t(z,{color:"primary",onClick:p[5]||(p[5]=g=>w.value=!1)},{default:a(()=>[...p[33]||(p[33]=[A("Cerrar",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:I.value,"onUpdate:modelValue":p[8]||(p[8]=g=>I.value=g),fullscreen:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(Gl,{modelValue:I.value,"onUpdate:modelValue":p[7]||(p[7]=g=>I.value=g)},null,8,["modelValue"])]),_:1},8,["modelValue"]),t(le,{modelValue:S.value,"onUpdate:modelValue":p[10]||(p[10]=g=>S.value=g),fullscreen:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(fo,{modelValue:S.value,"onUpdate:modelValue":p[9]||(p[9]=g=>S.value=g)},null,8,["modelValue"])]),_:1},8,["modelValue"]),t(le,{modelValue:b.value,"onUpdate:modelValue":p[12]||(p[12]=g=>b.value=g),fullscreen:"",transition:"dialog-bottom-transition"},{default:a(()=>[t(kl,{modelValue:b.value,"onUpdate:modelValue":p[11]||(p[11]=g=>b.value=g)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}))}},Cs=De(ps,[["__scopeId","data-v-33440af5"]]);export{Cs as default};
