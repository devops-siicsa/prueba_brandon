import{z as ge,N as gl,S as _e,ac as Ie,y as xe,E as ke,W as nl,G as W,J as Dl,K as Ve,f as s,a4 as Fe,$ as ve,ag as ct,x as pl,s as ae,d as j,aD as Fl,L as J,a as t,a2 as dl,M as re,af as dt,j as T,ak as De,U as Be,aE as Ke,P as ol,O as hl,R as vt,A as ft,D as _l,aa as Qe,aF as mt,ax as Ge,m as me,aG as gt,B as Tl,a9 as sl,aq as kl,aH as pt,t as ie,v as vl,aI as ht,q as ul,as as Ml,ae as yt,aA as bt,p as kt,l as yl,k as qe,aB as xt,ao as xl,aw as Xe,aJ as Ct,az as Bl,g as te,a3 as Le,ay as Vt,aK as St,c as Ae,o as Y,w as A,a0 as he,h as wt,i as Te,a1 as Ne,a7 as Se}from"./index-C00rILNG.js";import{x as It,k as Ol,l as Me,R as Ye,a as ne,p as zl,q as Ul,b as At,i as Ll,u as Pt,c as Et,d as Rt,y as Dt,z as Ft,A as _t,j as Tt,B as Mt,m as Bt,f as Ot,g as zt,C as Ut,h as Re,D as Lt,n as Nt,L as $t,_ as Nl}from"./index-BZPMV4V2.js";import{b as He,a as $e,c as Ze,d as Cl}from"./VCard-CkjxDFEY.js";import{m as $l,u as Kl,c as Vl,d as Sl,e as Kt,g as Gt,f as il,h as Ht,b as Gl,V as Pe}from"./index-B7DE2XA0.js";import{n as jt,l as Hl,o as jl,p as Wt,j as Wl,f as ql,g as el,e as Ee,k as Jl,u as qt,V as wl,d as Jt}from"./VMenu-SEDkpfpU.js";import{e as Qt,u as Ql,f as Xt,c as we,m as Xl,g as Yt,h as Il,i as Zt,b as ea,V as ll,a as de,d as Al}from"./VTextField-zX8p1YQR.js";const fl=It("v-spacer","div","VSpacer"),Yl=Symbol.for("vuetify:selection-control-group"),Zl=ge({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ie,trueIcon:Ie,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Me},..._e(),...Ol(),...gl()},"SelectionControlGroup"),la=ge({...Zl({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");xe()({name:"VSelectionControlGroup",props:la(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:a}=i;const o=ke(e,"modelValue"),n=nl(),m=W(()=>e.id||`v-selection-control-group-${n}`),u=W(()=>e.name||m.value),c=new Set;return ct(Yl,{modelValue:o,forceUpdate:()=>{c.forEach(v=>v())},onForceUpdate:v=>{c.add(v),pl(()=>{c.delete(v)})}}),Dl({[e.defaultsTarget]:{color:W(()=>e.color),disabled:W(()=>e.disabled),density:W(()=>e.density),error:W(()=>e.error),inline:W(()=>e.inline),modelValue:o,multiple:W(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),name:u,falseIcon:W(()=>e.falseIcon),trueIcon:W(()=>e.trueIcon),readonly:W(()=>e.readonly),ripple:W(()=>e.ripple),type:W(()=>e.type),valueComparator:W(()=>e.valueComparator)}}),Ve(()=>s("div",{class:ve(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:Fe(e.style),role:e.type==="radio"?"radiogroup":void 0},[a.default?.()])),{}}});const bl=ge({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,..._e(),...Zl()},"VSelectionControl");function ta(e){const i=dt(Yl,void 0),{densityClasses:a}=zl(e),o=ke(e,"modelValue"),n=T(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),m=T(()=>e.falseValue!==void 0?e.falseValue:!1),u=T(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),c=T({get(){const V=i?i.modelValue.value:o.value;return u.value?De(V).some(D=>e.valueComparator(D,n.value)):e.valueComparator(V,n.value)},set(V){if(e.readonly)return;const D=V?n.value:m.value;let F=D;u.value&&(F=V?[...De(o.value),D]:De(o.value).filter(R=>!e.valueComparator(R,n.value))),i?i.modelValue.value=F:o.value=F}}),{textColorClasses:v,textColorStyles:k}=Ul(()=>{if(!(e.error||e.disabled))return c.value?e.color:e.baseColor}),{backgroundColorClasses:f,backgroundColorStyles:C}=At(()=>c.value&&!e.error&&!e.disabled?e.color:e.baseColor),S=T(()=>c.value?e.trueIcon:e.falseIcon);return{group:i,densityClasses:a,trueValue:n,falseValue:m,model:c,textColorClasses:v,textColorStyles:k,backgroundColorClasses:f,backgroundColorStyles:C,icon:S}}const tl=xe()({name:"VSelectionControl",directives:{vRipple:Ye},inheritAttrs:!1,props:bl(),emits:{"update:modelValue":e=>!0},setup(e,i){let{attrs:a,slots:o}=i;const{group:n,densityClasses:m,icon:u,model:c,textColorClasses:v,textColorStyles:k,backgroundColorClasses:f,backgroundColorStyles:C,trueValue:S}=ta(e),V=nl(),D=ae(!1),F=ae(!1),R=j(),x=W(()=>e.id||`input-${V}`),P=W(()=>!e.disabled&&!e.readonly);n?.onForceUpdate(()=>{R.value&&(R.value.checked=c.value)});function g(O){P.value&&(D.value=!0,Ke(O.target,":focus-visible")!==!1&&(F.value=!0))}function E(){D.value=!1,F.value=!1}function w(O){O.stopPropagation()}function y(O){if(!P.value){R.value&&(R.value.checked=c.value);return}e.readonly&&n&&Be(()=>n.forceUpdate()),c.value=O.target.checked}return Ve(()=>{const O=o.label?o.label({label:e.label,props:{for:x.value}}):e.label,[N,ee]=Fl(a),le=s("input",J({ref:R,checked:c.value,disabled:!!e.disabled,id:x.value,onBlur:E,onFocus:g,onInput:y,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:S.value,name:e.name,"aria-checked":e.type==="checkbox"?c.value:void 0},ee),null);return s("div",J({class:["v-selection-control",{"v-selection-control--dirty":c.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":D.value,"v-selection-control--focus-visible":F.value,"v-selection-control--inline":e.inline},m.value,e.class]},N,{style:e.style}),[s("div",{class:ve(["v-selection-control__wrapper",v.value]),style:Fe(k.value)},[o.default?.({backgroundColorClasses:f,backgroundColorStyles:C}),dl(s("div",{class:ve(["v-selection-control__input"])},[o.input?.({model:c,textColorClasses:v,textColorStyles:k,backgroundColorClasses:f,backgroundColorStyles:C,inputNode:le,icon:u.value,props:{onFocus:g,onBlur:E,id:x.value}})??s(re,null,[u.value&&t(ne,{key:"icon",icon:u.value},null),le])]),[[Ye,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),O&&t(Qt,{for:x.value,onClick:w},{default:()=>[O]})])}),{isFocused:D,input:R}}}),aa=ge({indeterminate:Boolean,indeterminateIcon:{type:Ie,default:"$checkboxIndeterminate"},...bl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),al=xe()({name:"VCheckboxBtn",props:aa(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,i){let{slots:a}=i;const o=ke(e,"indeterminate"),n=ke(e,"modelValue");function m(v){o.value&&(o.value=!1)}const u=W(()=>o.value?e.indeterminateIcon:e.falseIcon),c=W(()=>o.value?e.indeterminateIcon:e.trueIcon);return Ve(()=>{const v=ol(tl.filterProps(e),["modelValue"]);return t(tl,J(v,{modelValue:n.value,"onUpdate:modelValue":[k=>n.value=k,m],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:u.value,trueIcon:c.value,"aria-checked":o.value?"mixed":void 0}),a)}),{}}});function na(e){let{selectedElement:i,containerElement:a,isRtl:o,isHorizontal:n}=e;const m=je(n,a),u=et(n,o,a),c=je(n,i),v=lt(n,i),k=c*.4;return u>v?v-k:u+m<v+c?v-m+c+k:u}function oa(e){let{selectedElement:i,containerElement:a,isHorizontal:o}=e;const n=je(o,a),m=lt(o,i),u=je(o,i);return m-n/2+u/2}function Pl(e,i){return i?.[e?"scrollWidth":"scrollHeight"]||0}function sa(e,i){return i?.[e?"clientWidth":"clientHeight"]||0}function et(e,i,a){if(!a)return 0;const{scrollLeft:o,offsetWidth:n,scrollWidth:m}=a;return e?i?m-n+o:o:a.scrollTop}function je(e,i){return i?.[e?"offsetWidth":"offsetHeight"]||0}function lt(e,i){return i?.[e?"offsetLeft":"offsetTop"]||0}const tt=Symbol.for("vuetify:v-slide-group"),at=ge({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:tt},nextIcon:{type:Ie,default:"$next"},prevIcon:{type:Ie,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},..._e(),...vt({mobile:null}),...hl(),...$l({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),El=xe()({name:"VSlideGroup",props:at(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:a}=i;const{isRtl:o}=ft(),{displayClasses:n,mobile:m}=_l(e),u=Kl(e,e.symbol),c=ae(!1),v=ae(0),k=ae(0),f=ae(0),C=T(()=>e.direction==="horizontal"),{resizeRef:S,contentRect:V}=Qe(),{resizeRef:D,contentRect:F}=Qe(),R=mt(),x=T(()=>({container:S.el,duration:200,easing:"easeOutQuart"})),P=T(()=>u.selected.value.length?u.items.value.findIndex(h=>h.id===u.selected.value[0]):-1),g=T(()=>u.selected.value.length?u.items.value.findIndex(h=>h.id===u.selected.value[u.selected.value.length-1]):-1);if(Ge){let h=-1;me(()=>[u.selected.value,V.value,F.value,C.value],()=>{cancelAnimationFrame(h),h=requestAnimationFrame(()=>{if(V.value&&F.value){const I=C.value?"width":"height";k.value=V.value[I],f.value=F.value[I],c.value=k.value+1<f.value}if(e.scrollToActive&&P.value>=0&&D.el){const I=D.el.children[g.value];w(I,e.centerActive)}})})}const E=ae(!1);function w(h,I){let d=0;I?d=oa({containerElement:S.el,isHorizontal:C.value,selectedElement:h}):d=na({containerElement:S.el,isHorizontal:C.value,isRtl:o.value,selectedElement:h}),y(d)}function y(h){if(!Ge||!S.el)return;const I=je(C.value,S.el),d=et(C.value,o.value,S.el);if(!(Pl(C.value,S.el)<=I||Math.abs(h-d)<16)){if(C.value&&o.value&&S.el){const{scrollWidth:G,offsetWidth:se}=S.el;h=G-se-h}C.value?R.horizontal(h,x.value):R(h,x.value)}}function O(h){const{scrollTop:I,scrollLeft:d}=h.target;v.value=C.value?d:I}function N(h){if(E.value=!0,!(!c.value||!D.el)){for(const I of h.composedPath())for(const d of D.el.children)if(d===I){w(d);return}}}function ee(h){E.value=!1}let le=!1;function ce(h){!le&&!E.value&&!(h.relatedTarget&&D.el?.contains(h.relatedTarget))&&b(),le=!1}function q(){le=!0}function oe(h){if(!D.el)return;function I(d){h.preventDefault(),b(d)}C.value?h.key==="ArrowRight"?I(o.value?"prev":"next"):h.key==="ArrowLeft"&&I(o.value?"next":"prev"):h.key==="ArrowDown"?I("next"):h.key==="ArrowUp"&&I("prev"),h.key==="Home"?I("first"):h.key==="End"&&I("last")}function K(h,I){if(!h)return;let d=h;do d=d?.[I==="next"?"nextElementSibling":"previousElementSibling"];while(d?.hasAttribute("disabled"));return d}function b(h){if(!D.el)return;let I;if(!h)I=gt(D.el)[0];else if(h==="next"){if(I=K(D.el.querySelector(":focus"),h),!I)return b("first")}else if(h==="prev"){if(I=K(D.el.querySelector(":focus"),h),!I)return b("last")}else h==="first"?(I=D.el.firstElementChild,I?.hasAttribute("disabled")&&(I=K(I,"next"))):h==="last"&&(I=D.el.lastElementChild,I?.hasAttribute("disabled")&&(I=K(I,"prev")));I&&I.focus({preventScroll:!0})}function l(h){const I=C.value&&o.value?-1:1,d=(h==="prev"?-I:I)*k.value;let M=v.value+d;if(C.value&&o.value&&S.el){const{scrollWidth:G,offsetWidth:se}=S.el;M+=G-se}y(M)}const r=T(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),B=T(()=>c.value||Math.abs(v.value)>0),X=T(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!m.value;case!0:return B.value;case"mobile":return m.value||B.value;default:return!m.value&&B.value}}),_=T(()=>Math.abs(v.value)>1),U=T(()=>{if(!S.value||!B.value)return!1;const h=Pl(C.value,S.el),I=sa(C.value,S.el);return h-I-Math.abs(v.value)>1});return Ve(()=>t(e.tag,{class:ve(["v-slide-group",{"v-slide-group--vertical":!C.value,"v-slide-group--has-affixes":X.value,"v-slide-group--is-overflowing":c.value},n.value,e.class]),style:Fe(e.style),tabindex:E.value||u.selected.value.length?-1:0,onFocus:ce},{default:()=>[X.value&&s("div",{key:"prev",class:ve(["v-slide-group__prev",{"v-slide-group__prev--disabled":!_.value}]),onMousedown:q,onClick:()=>_.value&&l("prev")},[a.prev?.(r.value)??t(Vl,null,{default:()=>[t(ne,{icon:o.value?e.nextIcon:e.prevIcon},null)]})]),s("div",{key:"container",ref:S,class:ve(["v-slide-group__container",e.contentClass]),onScroll:O},[s("div",{ref:D,class:"v-slide-group__content",onFocusin:N,onFocusout:ee,onKeydown:oe},[a.default?.(r.value)])]),X.value&&s("div",{key:"next",class:ve(["v-slide-group__next",{"v-slide-group__next--disabled":!U.value}]),onMousedown:q,onClick:()=>U.value&&l("next")},[a.next?.(r.value)??t(Vl,null,{default:()=>[t(ne,{icon:o.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:u.selected,scrollTo:l,scrollOffset:v,focus:b,hasPrev:_,hasNext:U}}}),nt=Symbol.for("vuetify:v-chip-group"),ia=ge({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Me},...at({scrollToActive:!1}),..._e(),...$l({selectedClass:"v-chip--selected"}),...hl(),...gl(),...Ll({variant:"tonal"})},"VChipGroup");xe()({name:"VChipGroup",props:ia(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:a}=i;const{themeClasses:o}=Tl(e),{isSelected:n,select:m,next:u,prev:c,selected:v}=Kl(e,nt);return Dl({VChip:{baseColor:W(()=>e.baseColor),color:W(()=>e.color),disabled:W(()=>e.disabled),filter:W(()=>e.filter),variant:W(()=>e.variant)}}),Ve(()=>{const k=El.filterProps(e);return t(El,J(k,{class:["v-chip-group",{"v-chip-group--column":e.column},o.value,e.class],style:e.style}),{default:()=>[a.default?.({isSelected:n,select:m,next:u,prev:c,selected:v.value})]})}),{}}});const ua=ge({activeClass:String,appendAvatar:String,appendIcon:Ie,baseColor:String,closable:Boolean,closeIcon:{type:Ie,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ie,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ie,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:kl(),onClickOnce:kl(),...zt(),..._e(),...Ol(),...Ot(),...Kt(),...Bt(),...Mt(),...Tt(),...hl({tag:"span"}),...gl(),...Ll({variant:"tonal"})},"VChip"),Oe=xe()({name:"VChip",directives:{vRipple:Ye},props:ua(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,i){let{attrs:a,emit:o,slots:n}=i;const{t:m}=sl(),{borderClasses:u}=Pt(e),{densityClasses:c}=zl(e),{elevationClasses:v}=Et(e),{roundedClasses:k}=Rt(e),{sizeClasses:f}=Dt(e),{themeClasses:C}=Tl(e),S=ke(e,"modelValue"),V=Sl(e,nt,!1),D=Sl(e,tt,!1),F=Ft(e,a),R=W(()=>e.link!==!1&&F.isLink.value),x=T(()=>!e.disabled&&e.link!==!1&&(!!V||e.link||F.isClickable.value)),P=W(()=>({"aria-label":m(e.closeLabel),disabled:e.disabled,onClick(N){N.preventDefault(),N.stopPropagation(),S.value=!1,o("click:close",N)}}));me(S,N=>{N?(V?.register(),D?.register()):(V?.unregister(),D?.unregister())});const{colorClasses:g,colorStyles:E,variantClasses:w}=_t(()=>({color:!V||V.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function y(N){o("click",N),x.value&&(F.navigate?.(N),V?.toggle())}function O(N){(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),y(N))}return()=>{const N=F.isLink.value?"a":e.tag,ee=!!(e.appendIcon||e.appendAvatar),le=!!(ee||n.append),ce=!!(n.close||e.closable),q=!!(n.filter||e.filter)&&V,oe=!!(e.prependIcon||e.prependAvatar),K=!!(oe||n.prepend);return S.value&&dl(t(N,J(F.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x.value,"v-chip--filter":q,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&F.isActive?.value},C.value,u.value,g.value,c.value,v.value,k.value,f.value,w.value,V?.selectedClass.value,e.class],style:[E.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:x.value?0:void 0,onClick:y,onKeydown:x.value&&!R.value&&O}),{default:()=>[Ut(x.value,"v-chip"),q&&t(Gt,{key:"filter"},{default:()=>[dl(s("div",{class:"v-chip__filter"},[n.filter?t(Re,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},n.filter):t(ne,{key:"filter-icon",icon:e.filterIcon},null)]),[[pt,V.isSelected.value]])]}),K&&s("div",{key:"prepend",class:"v-chip__prepend"},[n.prepend?t(Re,{key:"prepend-defaults",disabled:!oe,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},n.prepend):s(re,null,[e.prependIcon&&t(ne,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&t(He,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),s("div",{class:"v-chip__content","data-no-activator":""},[n.default?.({isSelected:V?.isSelected.value,selectedClass:V?.selectedClass.value,select:V?.select,toggle:V?.toggle,value:V?.value.value,disabled:e.disabled})??ie(e.text)]),le&&s("div",{key:"append",class:"v-chip__append"},[n.append?t(Re,{key:"append-defaults",disabled:!ee,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},n.append):s(re,null,[e.appendIcon&&t(ne,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&t(He,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),ce&&s("button",J({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},P.value),[n.close?t(Re,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},n.close):t(ne,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[Ye,x.value&&e.ripple,null]])}}}),ra=ge({renderless:Boolean,..._e()},"VVirtualScrollItem"),ca=xe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:ra(),emits:{"update:height":e=>!0},setup(e,i){let{attrs:a,emit:o,slots:n}=i;const{resizeRef:m,contentRect:u}=Qe(void 0,"border");me(()=>u.value?.height,c=>{c!=null&&o("update:height",c)}),Ve(()=>e.renderless?s(re,null,[n.default?.({itemRef:m})]):s("div",J({ref:m,class:["v-virtual-scroll__item",e.class],style:e.style},a),[n.default?.()]))}}),da=-1,va=1,rl=100,fa=ge({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ma(e,i){const a=_l(),o=ae(0);vl(()=>{o.value=parseFloat(e.itemHeight||0)});const n=ae(0),m=ae(Math.ceil((parseInt(e.height)||a.height.value)/(o.value||16))||1),u=ae(0),c=ae(0),v=j(),k=j();let f=0;const{resizeRef:C,contentRect:S}=Qe();vl(()=>{C.value=v.value});const V=T(()=>v.value===document.documentElement?a.height.value:S.value?.height||parseInt(e.height)||0),D=T(()=>!!(v.value&&k.value&&V.value&&o.value));let F=Array.from({length:i.value.length}),R=Array.from({length:i.value.length});const x=ae(0);let P=-1;function g(_){return F[_]||o.value}const E=ht(()=>{const _=performance.now();R[0]=0;const U=i.value.length;for(let h=1;h<=U;h++)R[h]=(R[h-1]||0)+g(h-1);x.value=Math.max(x.value,performance.now()-_)},x),w=me(D,_=>{_&&(w(),f=k.value.offsetTop,E.immediate(),l(),~P&&Be(()=>{Ge&&window.requestAnimationFrame(()=>{B(P),P=-1})}))});pl(()=>{E.clear()});function y(_,U){const h=F[_],I=o.value;o.value=I?Math.min(o.value,U):U,(h!==U||I!==o.value)&&(F[_]=U,E())}function O(_){_=ul(_,0,i.value.length);const U=Math.floor(_),h=_%1,I=U+1,d=R[U]||0,M=R[I]||d;return d+(M-d)*h}function N(_){return ga(R,_)}let ee=0,le=0,ce=0;me(V,(_,U)=>{U&&(l(),_<U&&requestAnimationFrame(()=>{le=0,l()}))});let q=-1;function oe(){if(!v.value||!k.value)return;const _=v.value.scrollTop,U=performance.now();U-ce>500?(le=Math.sign(_-ee),f=k.value.offsetTop):le=_-ee,ee=_,ce=U,window.clearTimeout(q),q=window.setTimeout(K,500),l()}function K(){!v.value||!k.value||(le=0,ce=0,window.clearTimeout(q),l())}let b=-1;function l(){cancelAnimationFrame(b),b=requestAnimationFrame(r)}function r(){if(!v.value||!V.value||!o.value)return;const _=ee-f,U=Math.sign(le),h=Math.max(0,_-rl),I=ul(N(h),0,i.value.length),d=_+V.value+rl,M=ul(N(d)+1,I+1,i.value.length);if((U!==da||I<n.value)&&(U!==va||M>m.value)){const G=O(n.value)-O(I),se=O(M)-O(m.value);Math.max(G,se)>rl?(n.value=I,m.value=M):(I<=0&&(n.value=I),M>=i.value.length&&(m.value=M))}u.value=O(n.value),c.value=O(i.value.length)-O(m.value)}function B(_){const U=O(_);!v.value||_&&!U?P=_:v.value.scrollTop=U}const X=T(()=>i.value.slice(n.value,m.value).map((_,U)=>{const h=U+n.value;return{raw:_,index:h,key:Ml(_,e.itemKey,h)}}));return me(i,()=>{F=Array.from({length:i.value.length}),R=Array.from({length:i.value.length}),E.immediate(),l()},{deep:1}),{calculateVisibleItems:l,containerRef:v,markerRef:k,computedItems:X,paddingTop:u,paddingBottom:c,scrollToIndex:B,handleScroll:oe,handleScrollend:K,handleItemResize:y}}function ga(e,i){let a=e.length-1,o=0,n=0,m=null,u=-1;if(e[a]<i)return a;for(;o<=a;)if(n=o+a>>1,m=e[n],m>i)a=n-1;else if(m<i)u=n,o=n+1;else return m===i?n:o;return u}const pa=ge({items:{type:Array,default:()=>[]},renderless:Boolean,...fa(),..._e(),...xt()},"VVirtualScroll"),ot=xe()({name:"VVirtualScroll",props:pa(),setup(e,i){let{slots:a}=i;const o=yt("VVirtualScroll"),{dimensionStyles:n}=bt(e),{calculateVisibleItems:m,containerRef:u,markerRef:c,handleScroll:v,handleScrollend:k,handleItemResize:f,scrollToIndex:C,paddingTop:S,paddingBottom:V,computedItems:D}=ma(e,W(()=>e.items));return kt(()=>e.renderless,()=>{function F(){const x=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[x]("scroll",v,{passive:!0}),document[x]("scrollend",k)):(u.value?.[x]("scroll",v,{passive:!0}),u.value?.[x]("scrollend",k))}yl(()=>{u.value=jt(o.vnode.el,!0),F(!0)}),pl(F)}),Ve(()=>{const F=D.value.map(R=>t(ca,{key:R.key,renderless:e.renderless,"onUpdate:height":x=>f(R.index,x)},{default:x=>a.default?.({item:R.raw,index:R.index,...x})}));return e.renderless?s(re,null,[s("div",{ref:c,class:"v-virtual-scroll__spacer",style:{paddingTop:qe(S.value)}},null),F,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:qe(V.value)}},null)]):s("div",{ref:u,class:ve(["v-virtual-scroll",e.class]),onScrollPassive:v,onScrollend:k,style:Fe([n.value,e.style])},[s("div",{ref:c,class:"v-virtual-scroll__container",style:{paddingTop:qe(S.value),paddingBottom:qe(V.value)}},[F])])}),{calculateVisibleItems:m,scrollToIndex:C}}});function st(e,i){const a=ae(!1);let o;function n(c){cancelAnimationFrame(o),a.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{a.value=!1})})}async function m(){await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>{if(a.value){const v=me(a,()=>{v(),c()})}else c()})}async function u(c){if(c.key==="Tab"&&i.value?.focus(),!["PageDown","PageUp","Home","End"].includes(c.key))return;const v=e.value?.$el;if(!v)return;(c.key==="Home"||c.key==="End")&&v.scrollTo({top:c.key==="Home"?0:v.scrollHeight,behavior:"smooth"}),await m();const k=v.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(c.key==="PageDown"||c.key==="Home"){const f=v.getBoundingClientRect().top;for(const C of k)if(C.getBoundingClientRect().top>=f){C.focus();break}}else{const f=v.getBoundingClientRect().bottom;for(const C of[...k].reverse())if(C.getBoundingClientRect().bottom<=f){C.focus();break}}}return{onScrollPassive:n,onKeydown:u}}const ha=ge({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function it(e,i){const{t:a}=sl(),o=nl(),n=T(()=>`menu-${o}`),m=W(()=>xl(i)),u=W(()=>n.value),c=W(()=>a(xl(i)?e.closeText:e.openText));return{menuId:n,ariaExpanded:m,ariaControls:u,ariaLabel:c}}const ut=ge({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ie,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...ha(),...Wt({itemChildren:!1})},"Select"),ya=ge({...ut(),...ol(Xl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Lt({transition:{component:jl}})},"VSelect"),kn=xe()({name:"VSelect",props:ya(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:a}=i;const{t:o}=sl(),n=j(),m=j(),u=j(),{items:c,transformIn:v,transformOut:k}=Hl(e),f=ke(e,"modelValue",[],d=>v(d===null?[null]:De(d)),d=>{const M=k(d);return e.multiple?M:M[0]??null}),C=T(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),S=Ql(e),V=Xt(e),D=T(()=>f.value.map(d=>d.value)),F=ae(!1);let R="",x=-1,P;const g=T(()=>e.hideSelected?c.value.filter(d=>!f.value.some(M=>(e.valueComparator||Me)(M,d))):c.value),E=T(()=>e.hideNoData&&!g.value.length||S.isReadonly.value||S.isDisabled.value),w=ke(e,"menu"),y=T({get:()=>w.value,set:d=>{w.value&&!d&&m.value?.ΨopenChildren.size||d&&E.value||(w.value=d)}}),{menuId:O,ariaExpanded:N,ariaControls:ee,ariaLabel:le}=it(e,y),ce=T(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),q=j(),oe=st(q,n);function K(d){e.openOnClear&&(y.value=!0)}function b(){E.value||(y.value=!y.value)}function l(d){Xe(d)&&r(d)}function r(d){if(!d.key||S.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(d.key)&&d.preventDefault(),["Enter","ArrowDown"," "].includes(d.key)&&(y.value=!0),["Escape","Tab"].includes(d.key)&&(y.value=!1),d.key==="Home"?q.value?.focus("first"):d.key==="End"&&q.value?.focus("last");const M=1e3;if(!Xe(d))return;const G=performance.now();G-P>M&&(R="",x=-1),R+=d.key.toLowerCase(),P=G;const se=g.value;function pe(){let Q=H();return Q||R.at(-1)===R.at(-2)&&(R=R.slice(0,-1),Q=H(),Q)||(x=-1,Q=H(),Q)?Q:(R=d.key.toLowerCase(),H())}function H(){for(let Q=x+1;Q<se.length;Q++){const p=se[Q];if(p.title.toLowerCase().startsWith(R))return[p,Q]}}const Z=pe();if(!Z)return;const[fe,Ce]=Z;x=Ce,q.value?.focus(Ce),e.multiple||(f.value=[fe])}function B(d){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!d.props.disabled)if(e.multiple){const G=f.value.findIndex(pe=>(e.valueComparator||Me)(pe.value,d.value)),se=M??!~G;if(~G){const pe=se?[...f.value,d]:[...f.value];pe.splice(G,1),f.value=pe}else se&&(f.value=[...f.value,d])}else{const G=M!==!1;f.value=G?[d]:[],Be(()=>{y.value=!1})}}function X(d){q.value?.$el.contains(d.relatedTarget)||(y.value=!1)}function _(){e.eager&&u.value?.calculateVisibleItems()}function U(){F.value&&n.value?.focus()}function h(d){F.value=!0}function I(d){if(d==null)f.value=[];else if(Ke(n.value,":autofill")||Ke(n.value,":-webkit-autofill")){const M=c.value.find(G=>G.title===d);M&&B(M)}else n.value&&(n.value.value="")}return me(y,()=>{if(!e.hideSelected&&y.value&&f.value.length){const d=g.value.findIndex(M=>f.value.some(G=>(e.valueComparator||Me)(G.value,M.value)));Ge&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{d>=0&&u.value?.scrollToIndex(d)})}}),me(c,(d,M)=>{y.value||F.value&&e.hideNoData&&!M.length&&d.length&&(y.value=!0)}),Ve(()=>{const d=!!(e.chips||a.chip),M=!!(!e.hideNoData||g.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),G=f.value.length>0,se=we.filterProps(e),pe=G||!F.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return t(we,J({ref:n},se,{modelValue:f.value.map(H=>H.props.title).join(", "),name:void 0,"onUpdate:modelValue":I,focused:F.value,"onUpdate:focused":H=>F.value=H,validationValue:f.externalValue,counterValue:C.value,dirty:G,class:["v-select",{"v-select--active-menu":y.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!a.selection},e.class],style:e.style,inputmode:"none",placeholder:pe,"onClick:clear":K,"onMousedown:control":b,onBlur:X,onKeydown:r,"aria-expanded":N.value,"aria-controls":ee.value,"aria-label":le.value,title:le.value}),{...a,default:()=>s(re,null,[s("select",{hidden:!0,multiple:e.multiple,name:V.fieldName.value},[c.value.map(H=>s("option",{key:H.value,value:H.value,selected:D.value.includes(H.value)},null))]),t(Wl,J({id:O.value,ref:m,modelValue:y.value,"onUpdate:modelValue":H=>y.value=H,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:_,onAfterLeave:U},ce.value),{default:()=>[M&&t(ql,J({ref:q,selected:D.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:H=>H.preventDefault(),onKeydown:l,onFocusin:h,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},oe,e.listProps),{default:()=>[a["prepend-item"]?.(),!g.value.length&&!e.hideNoData&&(a["no-data"]?.()??t(el,{key:"no-data",title:o(e.noDataText)},null)),t(ot,{ref:u,renderless:!0,items:g.value,itemKey:"value"},{default:H=>{let{item:Z,index:fe,itemRef:Ce}=H;const Q=Ct(Z.props),p=J(Z.props,{ref:Ce,key:Z.value,onClick:()=>B(Z,null)});return Z.type==="divider"?a.divider?.({props:Z.raw,index:fe})??t(Ee,J(Z.props,{key:`divider-${fe}`}),null):Z.type==="subheader"?a.subheader?.({props:Z.raw,index:fe})??t(Jl,J(Z.props,{key:`subheader-${fe}`}),null):a.item?.({item:Z,index:fe,props:p})??t(el,J(p,{role:"option"}),{prepend:L=>{let{isSelected:ue}=L;return s(re,null,[e.multiple&&!e.hideSelected?t(al,{key:Z.value,modelValue:ue,ripple:!1,tabindex:"-1",onClick:z=>z.preventDefault()},null):void 0,Q.prependAvatar&&t(He,{image:Q.prependAvatar},null),Q.prependIcon&&t(ne,{icon:Q.prependIcon},null)])}})}}),a["append-item"]?.()]})]}),f.value.map((H,Z)=>{function fe(L){L.stopPropagation(),L.preventDefault(),B(H,!1)}const Ce=J(Oe.filterProps(H.props),{"onClick:close":fe,onKeydown(L){L.key!=="Enter"&&L.key!==" "||(L.preventDefault(),L.stopPropagation(),fe(L))},onMousedown(L){L.preventDefault(),L.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),Q=d?!!a.chip:!!a.selection,p=Q?Bl(d?a.chip({item:H,index:Z,props:Ce}):a.selection({item:H,index:Z})):void 0;if(!(Q&&!p))return s("div",{key:H.value,class:"v-select__selection"},[d?a.chip?t(Re,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:H.title}}},{default:()=>[p]}):t(Oe,J({key:"chip",closable:e.closableChips,size:"small",text:H.title,disabled:H.props.disabled},Ce),null):p??s("span",{class:"v-select__selection-text"},[H.title,e.multiple&&Z<f.value.length-1&&s("span",{class:"v-select__selection-comma"},[te(",")])])])})]),"append-inner":function(){for(var H=arguments.length,Z=new Array(H),fe=0;fe<H;fe++)Z[fe]=arguments[fe];return s(re,null,[a["append-inner"]?.(...Z),e.menuIcon?t(ne,{class:"v-select__menu-icon",color:n.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),il({isFocused:F,menu:y,select:B},n)}}),ba=(e,i,a)=>{if(e==null||i==null)return-1;if(!i.length)return 0;e=e.toString().toLocaleLowerCase(),i=i.toString().toLocaleLowerCase();const o=[];let n=e.indexOf(i);for(;~n;)o.push([n,n+i.length]),n=e.indexOf(i,n+i.length);return o.length?o:-1};function cl(e,i){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+i.length]]:Array.isArray(e[0])?e:[e]}const ka=ge({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function xa(e,i,a){const o=[],n=a?.default??ba,m=a?.filterKeys?De(a.filterKeys):!1,u=Object.keys(a?.customKeyFilter??{}).length;if(!e?.length)return o;let c=null;e:for(let v=0;v<e.length;v++){const[k,f=k]=De(e[v]),C={},S={};let V=-1;if((i||u>0)&&!a?.noFilter){let D=!1;if(typeof k=="object"){if(k.type==="divider"||k.type==="subheader"){c?.type==="divider"&&k.type==="subheader"&&o.push(c),c={index:v,matches:{},type:k.type};continue}const x=m||Object.keys(f);D=x.length===u;for(const P of x){const g=Ml(f,P),E=a?.customKeyFilter?.[P];if(V=E?E(g,i,k):n(g,i,k),V!==-1&&V!==!1)E?C[P]=cl(V,i):S[P]=cl(V,i);else if(a?.filterMode==="every")continue e}}else V=n(k,i,k),V!==-1&&V!==!1&&(S.title=cl(V,i));const F=Object.keys(S).length,R=Object.keys(C).length;if(!F&&!R||a?.filterMode==="union"&&R!==u&&!F||a?.filterMode==="intersection"&&(R!==u||!F&&u>0&&!D))continue}c&&(o.push(c),c=null),o.push({index:v,matches:{...S,...C}})}return o}function Ca(e,i,a,o){const n=ae([]),m=ae(new Map),u=T(()=>o?.transform?Le(i).map(v=>[v,o.transform(v)]):Le(i));vl(()=>{const v=typeof a=="function"?a():Le(a),k=typeof v!="string"&&typeof v!="number"?"":String(v),f=xa(u.value,k,{customKeyFilter:{...e.customKeyFilter,...Le(o?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),C=Le(i),S=[],V=new Map;f.forEach(D=>{let{index:F,matches:R}=D;const x=C[F];S.push(x),V.set(x.value,R)}),n.value=S,m.value=V});function c(v){return m.value.get(v.value)}return{filteredItems:n,filteredMatches:m,getMatches:c}}function Va(e,i,a){return a==null||!a.length?i:a.map((o,n)=>{const m=n===0?0:a[n-1][1],u=[s("span",{class:ve(`${e}__unmask`)},[i.slice(m,o[0])]),s("span",{class:ve(`${e}__mask`)},[i.slice(o[0],o[1])])];return n===a.length-1&&u.push(s("span",{class:ve(`${e}__unmask`)},[i.slice(o[1])])),s(re,null,[u])})}const Sa=ge({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...ka({filterKeys:["title"]}),...ut(),...ol(Xl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VAutocomplete"),Je=xe()({name:"VAutocomplete",props:Sa(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:a}=i;const{t:o}=sl(),n=j(),m=ae(!1),u=ae(!0),c=ae(!1),v=j(),k=j(),f=ae(-1),C=ae(null),{items:S,transformIn:V,transformOut:D}=Hl(e),{textColorClasses:F,textColorStyles:R}=Ul(()=>n.value?.color),x=ke(e,"search",""),P=ke(e,"modelValue",[],p=>V(p===null?[null]:De(p)),p=>{const L=D(p);return e.multiple?L:L[0]??null}),g=T(()=>typeof e.counterValue=="function"?e.counterValue(P.value):typeof e.counterValue=="number"?e.counterValue:P.value.length),E=Ql(e),{filteredItems:w,getMatches:y}=Ca(e,S,()=>C.value??(u.value?"":x.value)),O=T(()=>e.hideSelected&&C.value===null?w.value.filter(p=>!P.value.some(L=>L.value===p.value)):w.value),N=T(()=>!!(e.chips||a.chip)),ee=T(()=>N.value||!!a.selection),le=T(()=>P.value.map(p=>p.props.value)),ce=T(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&x.value===O.value[0]?.title)&&O.value.length>0&&!u.value&&!c.value),q=T(()=>e.hideNoData&&!O.value.length||E.isReadonly.value||E.isDisabled.value),oe=ke(e,"menu"),K=T({get:()=>oe.value,set:p=>{oe.value&&!p&&v.value?.ΨopenChildren.size||p&&q.value||(oe.value=p)}}),{menuId:b,ariaExpanded:l,ariaControls:r,ariaLabel:B}=it(e,K),X=j(),_=st(X,n);function U(p){e.openOnClear&&(K.value=!0),x.value=""}function h(){q.value||(K.value=!0)}function I(p){q.value||(m.value&&(p.preventDefault(),p.stopPropagation()),K.value=!K.value)}function d(p){(Xe(p)||p.key==="Backspace")&&n.value?.focus()}function M(p){if(E.isReadonly.value)return;const L=n.value?.selectionStart,ue=P.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(p.key)&&p.preventDefault(),["Enter","ArrowDown"].includes(p.key)&&(K.value=!0),["Escape"].includes(p.key)&&(K.value=!1),ce.value&&["Enter","Tab"].includes(p.key)&&!P.value.some(z=>{let{value:$}=z;return $===O.value[0].value})&&Q(O.value[0]),p.key==="ArrowDown"&&ce.value&&X.value?.focus("next"),["Backspace","Delete"].includes(p.key)){if(!e.multiple&&ee.value&&P.value.length>0&&!x.value)return Q(P.value[0],!1);if(~f.value){p.preventDefault();const z=f.value;Q(P.value[f.value],!1),f.value=z>=ue-1?ue-2:z}else p.key==="Backspace"&&!x.value&&(f.value=ue-1);return}if(e.multiple)if(p.key==="ArrowLeft"){if(f.value<0&&L&&L>0)return;const z=f.value>-1?f.value-1:ue-1;if(P.value[z])f.value=z;else{const $=x.value?.length??null;f.value=-1,n.value?.setSelectionRange($,$)}}else if(p.key==="ArrowRight"){if(f.value<0)return;const z=f.value+1;P.value[z]?f.value=z:(f.value=-1,n.value?.setSelectionRange(0,0))}else~f.value&&Xe(p)&&(f.value=-1)}function G(p){if(Ke(n.value,":autofill")||Ke(n.value,":-webkit-autofill")){const L=S.value.find(ue=>ue.title===p.target.value);L&&Q(L)}}function se(){e.eager&&k.value?.calculateVisibleItems()}function pe(){m.value&&(u.value=!0,n.value?.focus()),C.value=null}function H(p){m.value=!0,setTimeout(()=>{c.value=!0})}function Z(p){c.value=!1}function fe(p){(p==null||p===""&&!e.multiple&&!ee.value)&&(P.value=[])}const Ce=ae(!1);function Q(p){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!p||p.props.disabled))if(e.multiple){const ue=P.value.findIndex($=>(e.valueComparator||Me)($.value,p.value)),z=L??!~ue;if(~ue){const $=z?[...P.value,p]:[...P.value];$.splice(ue,1),P.value=$}else z&&(P.value=[...P.value,p]);e.clearOnSelect&&(x.value="")}else{const ue=L!==!1;P.value=ue?[p]:[],C.value=u.value?"":x.value??"",x.value=ue&&!ee.value?p.title:"",Be(()=>{K.value=!1,u.value=!0})}}return me(m,(p,L)=>{p!==L&&(p?(Ce.value=!0,x.value=e.multiple||ee.value?"":String(P.value.at(-1)?.props.title??""),u.value=!0,Be(()=>Ce.value=!1)):(!e.multiple&&x.value==null&&(P.value=[]),K.value=!1,!u.value&&x.value&&(C.value=x.value),x.value="",f.value=-1))}),me(x,p=>{!m.value||Ce.value||(p&&(K.value=!0),u.value=!p)}),me(K,p=>{if(!e.hideSelected&&p&&P.value.length&&u.value){const L=O.value.findIndex(ue=>P.value.some(z=>ue.value===z.value));Ge&&window.requestAnimationFrame(()=>{L>=0&&k.value?.scrollToIndex(L)})}p&&(C.value=null)}),me(S,(p,L)=>{K.value||m.value&&!L.length&&p.length&&(K.value=!0)}),Ve(()=>{const p=!!(!e.hideNoData||O.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),L=P.value.length>0,ue=we.filterProps(e);return t(we,J({ref:n},ue,{modelValue:x.value,"onUpdate:modelValue":[z=>x.value=z,fe],focused:m.value,"onUpdate:focused":z=>m.value=z,validationValue:P.externalValue,counterValue:g.value,dirty:L,onChange:G,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":K.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!ee.value,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:E.isReadonly.value,placeholder:L?void 0:e.placeholder,"onClick:clear":U,"onMousedown:control":h,onKeydown:M,"aria-expanded":l.value,"aria-controls":r.value}),{...a,default:()=>s(re,null,[t(Wl,J({id:b.value,ref:v,modelValue:K.value,"onUpdate:modelValue":z=>K.value=z,activator:"parent",contentClass:"v-autocomplete__content",disabled:q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:se,onAfterLeave:pe},e.menuProps),{default:()=>[p&&t(ql,J({ref:X,filterable:!0,selected:le.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:z=>z.preventDefault(),onKeydown:d,onFocusin:H,onFocusout:Z,tabindex:"-1",selectable:!0,"aria-live":"polite",color:e.itemColor??e.color},_,e.listProps),{default:()=>[a["prepend-item"]?.(),!O.value.length&&!e.hideNoData&&(a["no-data"]?.()??t(el,{key:"no-data",title:o(e.noDataText)},null)),t(ot,{ref:k,renderless:!0,items:O.value,itemKey:"value"},{default:z=>{let{item:$,index:ye,itemRef:We}=z;const ze=J($.props,{ref:We,key:$.value,active:ce.value&&ye===0?!0:void 0,onClick:()=>Q($,null)});return $.type==="divider"?a.divider?.({props:$.raw,index:ye})??t(Ee,J($.props,{key:`divider-${ye}`}),null):$.type==="subheader"?a.subheader?.({props:$.raw,index:ye})??t(Jl,J($.props,{key:`subheader-${ye}`}),null):a.item?.({item:$,index:ye,props:ze})??t(el,J(ze,{role:"option"}),{prepend:Ue=>{let{isSelected:be}=Ue;return s(re,null,[e.multiple&&!e.hideSelected?t(al,{key:$.value,modelValue:be,ripple:!1,tabindex:"-1",onClick:rt=>rt.preventDefault()},null):void 0,$.props.prependAvatar&&t(He,{image:$.props.prependAvatar},null),$.props.prependIcon&&t(ne,{icon:$.props.prependIcon},null)])},title:()=>u.value?$.title:Va("v-autocomplete",$.title,y($)?.title)})}}),a["append-item"]?.()]})]}),P.value.map((z,$)=>{function ye(be){be.stopPropagation(),be.preventDefault(),Q(z,!1)}const We=J(Oe.filterProps(z.props),{"onClick:close":ye,onKeydown(be){be.key!=="Enter"&&be.key!==" "||(be.preventDefault(),be.stopPropagation(),ye(be))},onMousedown(be){be.preventDefault(),be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),ze=N.value?!!a.chip:!!a.selection,Ue=ze?Bl(N.value?a.chip({item:z,index:$,props:We}):a.selection({item:z,index:$})):void 0;if(!(ze&&!Ue))return s("div",{key:z.value,class:ve(["v-autocomplete__selection",$===f.value&&["v-autocomplete__selection--selected",F.value]]),style:Fe($===f.value?R.value:{})},[N.value?a.chip?t(Re,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:z.title}}},{default:()=>[Ue]}):t(Oe,J({key:"chip",closable:e.closableChips,size:"small",text:z.title,disabled:z.props.disabled},We),null):Ue??s("span",{class:"v-autocomplete__selection-text"},[z.title,e.multiple&&$<P.value.length-1&&s("span",{class:"v-autocomplete__selection-comma"},[te(",")])])])})]),"append-inner":function(){for(var z=arguments.length,$=new Array(z),ye=0;ye<z;ye++)$[ye]=arguments[ye];return s(re,null,[a["append-inner"]?.(...$),e.menuIcon?t(ne,{class:"v-autocomplete__menu-icon",color:n.value?.fieldIconColor,icon:e.menuIcon,onMousedown:I,onClick:Vt,"aria-label":B.value,title:B.value,tabindex:"-1"},null):void 0])}})}),il({isFocused:m,isPristine:u,menu:K,search:x,filteredItems:w,select:Q},n)}}),wa=ge({fullscreen:Boolean,scrollable:Boolean,...ol(Jt({captureFocus:!0,origin:"center center",scrollStrategy:"block",transition:{component:jl},zIndex:2400,retainFocus:!0}),["disableInitialFocus"])},"VDialog"),ml=xe()({name:"VDialog",props:wa(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,i){let{emit:a,slots:o}=i;const n=ke(e,"modelValue"),{scopeId:m}=qt(),u=j();function c(){a("afterEnter"),(e.scrim||e.retainFocus)&&u.value?.contentEl&&!u.value.contentEl.contains(document.activeElement)&&u.value.contentEl.focus({preventScroll:!0})}function v(){a("afterLeave")}return me(n,async k=>{k||(await Be(),u.value.activatorEl?.focus({preventScroll:!0}))}),Ve(()=>{const k=wl.filterProps(e),f=J({"aria-haspopup":"dialog"},e.activatorProps),C=J({tabindex:-1},e.contentProps);return t(wl,J({ref:u,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},k,{modelValue:n.value,"onUpdate:modelValue":S=>n.value=S,"aria-modal":"true",activatorProps:f,contentProps:C,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:c,onAfterLeave:v},m),{activator:o.activator,default:function(){for(var S=arguments.length,V=new Array(S),D=0;D<S;D++)V[D]=arguments[D];return t(Re,{root:"VDialog"},{default:()=>[o.default?.(...V)]})}})}),il({},u)}}),Ia=ge({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Zt(),...bl()},"VSwitch"),Rl=xe()({name:"VSwitch",inheritAttrs:!1,props:Ia(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,i){let{attrs:a,slots:o}=i;const n=ke(e,"indeterminate"),m=ke(e,"modelValue"),{loaderClasses:u}=Nt(e),{isFocused:c,focus:v,blur:k}=Yt(e),f=j(),C=j(),S=St&&window.matchMedia("(forced-colors: active)").matches,V=W(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),D=nl(),F=W(()=>e.id||`switch-${D}`);function R(){n.value&&(n.value=!1)}function x(P){P.stopPropagation(),P.preventDefault(),f.value?.input?.click()}return Ve(()=>{const[P,g]=Fl(a),E=Il.filterProps(e),w=tl.filterProps(e);return t(Il,J({ref:C,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":n.value},u.value,e.class]},P,E,{modelValue:m.value,"onUpdate:modelValue":y=>m.value=y,id:F.value,focused:c.value,style:e.style}),{...o,default:y=>{let{id:O,messagesId:N,isDisabled:ee,isReadonly:le,isValid:ce}=y;const q={model:m,isValid:ce};return t(tl,J({ref:f},w,{modelValue:m.value,"onUpdate:modelValue":[oe=>m.value=oe,R],id:O.value,"aria-describedby":N.value,type:"checkbox","aria-checked":n.value?"mixed":void 0,disabled:ee.value,readonly:le.value,onFocus:v,onBlur:k},g),{...o,default:oe=>{let{backgroundColorClasses:K,backgroundColorStyles:b}=oe;return s("div",{class:ve(["v-switch__track",S?void 0:K.value]),style:Fe(b.value),onClick:x},[o["track-true"]&&s("div",{key:"prepend",class:"v-switch__track-true"},[o["track-true"](q)]),o["track-false"]&&s("div",{key:"append",class:"v-switch__track-false"},[o["track-false"](q)])])},input:oe=>{let{inputNode:K,icon:b,backgroundColorClasses:l,backgroundColorStyles:r}=oe;return s(re,null,[K,s("div",{class:ve(["v-switch__thumb",{"v-switch__thumb--filled":b||e.loading},e.inset||S?void 0:l.value]),style:Fe(e.inset?void 0:r.value)},[o.thumb?t(Re,{defaults:{VIcon:{icon:b,size:"x-small"}}},{default:()=>[o.thumb({...q,icon:b})]}):t(Ht,null,{default:()=>[e.loading?t($t,{name:"v-switch",active:!0,color:ce.value===!1?void 0:V.value},{default:B=>o.loader?o.loader(B):t(Gl,{active:B.isActive,color:B.color,indeterminate:!0,size:"16",width:"2"},null)}):b&&t(ne,{key:String(b),icon:b,size:"x-small"},null)]})])])}})}})}),il({},C)}}),Aa={class:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},Pa={class:"d-flex align-center"},Ea={class:"header-icon-box mr-3"},Ra={class:"text-h6 font-weight-bold text-grey-darken-3",style:{"line-height":"1.2"}},Da={key:0,class:"text-caption text-primary ml-2"},Fa={key:1,class:"text-caption text-grey ml-2"},_a={class:"text-caption text-grey mt-1"},Ta={class:"d-flex align-center justify-space-between"},Ma={class:"d-flex align-center mb-2"},Ba={key:0,class:"d-flex flex-wrap gap-1 mt-1"},Oa={class:"px-5 py-4 d-flex align-center justify-space-between border-bottom"},za={class:"d-flex align-center"},Ua={class:"d-flex align-center"},La={class:"text-caption text-grey mr-4"},Na={class:"px-4 py-3 bg-white d-flex align-center justify-space-between"},$a={class:"d-flex align-center text-indigo-darken-1 font-weight-bold text-subtitle-2"},Ka={class:"px-4 pb-3 pt-0"},Ga={key:0,class:"text-caption font-weight-bold text-grey-darken-1 mb-2 mt-2 pl-1"},Ha={class:"text-body-2 text-grey-darken-2",style:{"line-height":"1.2"}},ja={class:"d-flex align-center"},Wa={__name:"UserForm",props:{modelValue:Boolean,user:Object,allowedRoles:{type:Array,default:()=>[]},clientMode:{type:Boolean,default:!1}},emits:["update:modelValue","save"],setup(e,{emit:i}){const a=e,o=i,n=T({get:()=>a.modelValue,set:b=>o("update:modelValue",b)}),m=T(()=>a.allowedRoles.length===0?C.value:C.value.filter(b=>a.allowedRoles.includes(b.Nombre))),u=T(()=>a.allowedRoles.length>0&&a.allowedRoles.some(b=>b.includes("CLIENTE"))),c=T(()=>{if(!u.value)return V.value;const b=["Navegación / Menú Principal","Panel: Configuración Cliente","Inventario y Dashboard","Ficha de Equipo (Detalle)"],l=["Ver Configuración del Sistema","Ver Dashboard Global (Todos)","Ver Inventario Global"];return V.value.filter(r=>b.includes(r.name)).map(r=>{const B={...r};return B.submodules=r.submodules.map(X=>({...X,permissions:X.permissions.filter(_=>!l.includes(_.Descripcion))})).filter(X=>X.permissions.length>0),B.allPermissions=B.submodules.flatMap(X=>X.permissions),B}).filter(r=>r.allPermissions.length>0)}),v=j(null),k=j(!1),f=j(!1),C=j([]),S=j([]);j([]);const V=j([]),D=j([]),F=j([]),R=j([]),x=j([]),P=b=>{const l=S.value.find(r=>r.Id===b);return l?l.Descripcion:"Desconocido"},g=j({Nombre:"",Apellido:"",Correo:"",Celular:"",CargoId:null,AreaId:null,SedeId:null,RolId:null,PermisosEspecificos:[],EsUsuarioSistema:!1,Password:"",Activo:!0}),E=T(()=>g.value.EsUsuarioSistema?a.user&&!g.value.Password?[]:[b=>!!b||"Requerida"]:[]);async function w(){try{const[b,l,r,B,X,_]=await Promise.all([Se.get("http://localhost:5000/api/config/roles",{withCredentials:!0}),Se.get("http://localhost:5000/api/config/permissions",{withCredentials:!0}),Se.get("http://localhost:5000/api/config/sedes",{withCredentials:!0}),Se.get("http://localhost:5000/api/config/catalogs/cargos",{withCredentials:!0}),Se.get("http://localhost:5000/api/config/catalogs/areas",{withCredentials:!0}),Se.get("http://localhost:5000/api/config/companies",{withCredentials:!0})]);C.value=b.data,S.value=l.data;const U={};S.value.forEach(d=>{const M=d.Modulo||"Otros",G=d.SubModulo||"General";U[M]||(U[M]={}),U[M][G]||(U[M][G]=[]),U[M][G].push(d)});const h={"Seguridad y Acceso":"mdi-lock-outline","Navegación / Menú Principal":"mdi-view-grid-outline","Panel: Configuración del Sistema":"mdi-server","Panel: Configuración Cliente":"mdi-account-cog-outline","Inventario y Dashboard":"mdi-package-variant","Ficha de Equipo (Detalle)":"mdi-wrench-outline",Otros:"mdi-shield-star-outline"},I=["Navegación / Menú Principal","Panel: Configuración del Sistema","Panel: Configuración Cliente","Inventario y Dashboard","Ficha de Equipo (Detalle)","Seguridad y Acceso"];V.value=Object.keys(U).sort((d,M)=>{const G=I.indexOf(d),se=I.indexOf(M);return(G===-1?999:G)-(se===-1?999:se)}).map(d=>{const M=U[d],G=Object.keys(M).sort().map(pe=>({name:pe,permissions:M[pe]})),se=G.flatMap(pe=>pe.permissions);return{name:d,icon:h[d]||"mdi-circle-small",submodules:G,allPermissions:se}}),D.value=r.data,R.value=B.data,x.value=X.data,F.value=_.data}catch(b){console.error(b)}}const y=T(()=>D.value.filter(b=>{if(!b.Activo)return!1;const l=F.value.find(X=>X.Id==b.EmpresaId);if(!l)return console.warn(`Sede ${b.NombreSede} has no company (Id: ${b.EmpresaId})`),!1;const r=l.Activo;return(a.clientMode?l.EsCliente:!l.EsCliente)&&r})),O=b=>{const l=S.value.find(r=>r.Codigo===b);return l?l.Id:null},N=b=>{const l=O("menu:view_sys_config"),r=O("menu:view_client_config");if(!l||!r)return!1;const B=g.value.PermisosEspecificos.includes(l),X=g.value.PermisosEspecificos.includes(r);return b==="Panel: Configuración del Sistema"?!B:b==="Panel: Configuración Cliente"?!X:!1},ee=T(()=>g.value.PermisosEspecificos.length),le=(b,l)=>{if(q.value||N(b.name))return;const r=b.allPermissions.map(B=>B.Id);l?r.forEach(B=>{g.value.PermisosEspecificos.includes(B)||g.value.PermisosEspecificos.push(B)}):g.value.PermisosEspecificos=g.value.PermisosEspecificos.filter(B=>!r.includes(B))},ce=b=>b.allPermissions.length?b.allPermissions.every(l=>g.value.PermisosEspecificos.includes(l.Id)):!1,q=T(()=>{const b=C.value.find(l=>l.Id===g.value.RolId);return b&&b.Nombre==="SUPER ADMINISTRADOR"}),oe=b=>{const l=C.value.find(r=>r.Id===b);l&&(l.Nombre==="SUPER ADMINISTRADOR"?g.value.PermisosEspecificos=S.value.map(r=>r.Id):l.Permisos?g.value.PermisosEspecificos=[...l.Permisos]:g.value.PermisosEspecificos=[])};async function K(){const{valid:b}=await v.value.validate();if(b){k.value=!0;try{const l=a.user?`http://localhost:5000/api/config/users/${a.user.Id}`:"http://localhost:5000/api/config/users",r=a.user?"put":"post";await Se[r](l,g.value,{withCredentials:!0}),o("save"),n.value=!1}catch(l){console.error(l),alert("Error al guardar: "+(l.response?.data?.message||l.message))}finally{k.value=!1}}}return me(()=>a.user,b=>{b?g.value={...b,Password:"",EsUsuarioSistema:!!b.RolId}:g.value={Nombre:"",Apellido:"",Correo:"",Celular:"",CargoId:null,AreaId:null,SedeId:null,RolId:null,EsUsuarioSistema:!1,Password:"",Activo:!0}}),me(()=>a.modelValue,b=>{b&&w()}),yl(()=>{w()}),(b,l)=>(Y(),Ae(ml,{modelValue:n.value,"onUpdate:modelValue":l[18]||(l[18]=r=>n.value=r),"max-width":"600",persistent:""},{default:A(()=>[t($e,{class:"rounded-xl elevation-0"},{default:A(()=>[s("div",Aa,[s("div",Pa,[s("div",Ea,[t(ne,{color:"primary",size:"24"},{default:A(()=>[...l[19]||(l[19]=[te("mdi-account",-1)])]),_:1})]),s("div",null,[s("h2",Ra,[te(ie(e.user?"Editar Usuario":"Registrar Nuevo Usuario")+" ",1),e.clientMode?(Y(),he("span",Da,"(Modo Cliente)")):(Y(),he("span",Fa,"(Modo Sistema)"))]),s("p",_a," Complete la información para "+ie(e.user?"actualizar el":"dar de alta un nuevo")+" usuario. ",1)])]),t(Pe,{icon:"mdi-close",variant:"text",color:"grey-darken-1",density:"comfortable",onClick:l[0]||(l[0]=r=>n.value=!1)})]),t(Ee,{class:"mx-6 my-2"}),t(Ze,{class:"px-6 py-2 scroll-container",style:{"max-height":"60vh","overflow-y":"auto"}},{default:A(()=>[t(ea,{ref_key:"form",ref:v,onSubmit:wt(K,["prevent"])},{default:A(()=>[t(ll,{dense:""},{default:A(()=>[t(de,{cols:"12",md:"6"},{default:A(()=>[l[20]||(l[20]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"NOMBRE",-1)),t(we,{modelValue:g.value.Nombre,"onUpdate:modelValue":l[1]||(l[1]=r=>g.value.Nombre=r),placeholder:"Ej. Juan",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-account-outline","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[r=>!!r||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(de,{cols:"12",md:"6"},{default:A(()=>[l[21]||(l[21]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"APELLIDO",-1)),t(we,{modelValue:g.value.Apellido,"onUpdate:modelValue":l[2]||(l[2]=r=>g.value.Apellido=r),placeholder:"Ej. Pérez",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-account-outline","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[r=>!!r||"Requerido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(de,{cols:"12",md:"6"},{default:A(()=>[l[22]||(l[22]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CORREO ELECTRÓNICO",-1)),t(we,{modelValue:g.value.Correo,"onUpdate:modelValue":l[3]||(l[3]=r=>g.value.Correo=r),placeholder:"juan.perez@empresa.com",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-email-outline","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[r=>!!r||"Requerido",r=>/.+@.+\..+/.test(r)||"Correo inválido"],"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),t(de,{cols:"12",md:"6"},{default:A(()=>[l[23]||(l[23]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CELULAR",-1)),t(we,{modelValue:g.value.Celular,"onUpdate:modelValue":l[4]||(l[4]=r=>g.value.Celular=r),placeholder:"(+57) 300 000 0000",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-phone-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(de,{cols:"12",md:"6"},{default:A(()=>[l[24]||(l[24]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CARGO",-1)),t(Je,{modelValue:g.value.CargoId,"onUpdate:modelValue":l[5]||(l[5]=r=>g.value.CargoId=r),items:R.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-badge-account-horizontal-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(de,{cols:"12",md:"6"},{default:A(()=>[l[25]||(l[25]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ÁREA",-1)),t(Je,{modelValue:g.value.AreaId,"onUpdate:modelValue":l[6]||(l[6]=r=>g.value.AreaId=r),items:x.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-chart-tree","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(de,{cols:"12"},{default:A(()=>[l[26]||(l[26]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"SEDE ASIGNADA",-1)),t(Je,{modelValue:g.value.SedeId,"onUpdate:modelValue":l[7]||(l[7]=r=>g.value.SedeId=r),items:y.value,"item-title":"NombreSede","item-value":"Id",placeholder:"Seleccionar sede...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker-outline","bg-color":"grey-lighten-5",class:"rounded-lg","hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),t(de,{cols:"12"},{default:A(()=>[t(Ee,{class:"my-2"})]),_:1}),t(de,{cols:"12"},{default:A(()=>[s("div",Ta,[l[27]||(l[27]=s("div",null,[s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-0 d-block"},"ACCESO AL SISTEMA"),s("span",{class:"text-caption text-grey"},"Habilitar credenciales de acceso")],-1)),t(Rl,{modelValue:g.value.EsUsuarioSistema,"onUpdate:modelValue":l[8]||(l[8]=r=>g.value.EsUsuarioSistema=r),color:"primary","hide-details":"",density:"compact",inset:"",class:"scale-switch"},null,8,["modelValue"])])]),_:1}),g.value.EsUsuarioSistema?(Y(),he(re,{key:0},[t(de,{cols:"12"},{default:A(()=>[l[28]||(l[28]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ROL DE USUARIO",-1)),t(Je,{modelValue:g.value.RolId,"onUpdate:modelValue":[l[9]||(l[9]=r=>g.value.RolId=r),oe],items:m.value,"item-title":"Nombre","item-value":"Id",placeholder:"Seleccionar rol...",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-shield-account-outline","bg-color":"grey-lighten-5",class:"rounded-lg",rules:[r=>!!r||"Requerido para usuarios de sistema"],"hide-details":"auto"},null,8,["modelValue","items","rules"])]),_:1}),t(de,{cols:"12"},{default:A(()=>[l[30]||(l[30]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"PERMISOS ADICIONALES (GRANULARES)",-1)),s("div",Ma,[t(Pe,{color:"blue-grey-lighten-5",variant:"flat",class:"text-blue-grey-darken-3 text-capitalize rounded-lg flex-grow-1","prepend-icon":"mdi-shield-edit-outline",height:"40",onClick:l[10]||(l[10]=r=>f.value=!0),border:""},{default:A(()=>[...l[29]||(l[29]=[te(" Asignar Permisos Adicionales ",-1)])]),_:1}),g.value.PermisosEspecificos.length>0?(Y(),Ae(Oe,{key:0,color:"primary",class:"ml-2 font-weight-bold",size:"large"},{default:A(()=>[te(ie(g.value.PermisosEspecificos.length),1)]),_:1})):Te("",!0)]),g.value.PermisosEspecificos.length>0?(Y(),he("div",Ba,[(Y(!0),he(re,null,Ne(g.value.PermisosEspecificos,r=>(Y(),Ae(Oe,{key:r,size:"small",color:"blue-grey",variant:"tonal",class:"mr-1 mb-1"},{default:A(()=>[te(ie(P(r)),1)]),_:2},1024))),128))])):Te("",!0)]),_:1}),t(ml,{modelValue:f.value,"onUpdate:modelValue":l[14]||(l[14]=r=>f.value=r),"max-width":"900",scrollable:""},{default:A(()=>[t($e,{class:"rounded-xl bg-white"},{default:A(()=>[s("div",Oa,[s("div",za,[t(ne,{color:"primary",class:"mr-2"},{default:A(()=>[...l[31]||(l[31]=[te("mdi-shield-outline",-1)])]),_:1}),l[32]||(l[32]=s("span",{class:"text-h6 font-weight-bold text-grey-darken-3"},"Permisos Granulares",-1))]),s("div",Ua,[s("span",La,ie(ee.value)+" activos",1),t(Pe,{icon:"mdi-close",variant:"text",density:"comfortable",color:"grey",onClick:l[11]||(l[11]=r=>f.value=!1)})])]),t(Ee),t(Ze,{class:"px-5 py-5 bg-grey-lighten-5",style:{"max-height":"75vh"}},{default:A(()=>[t(ll,null,{default:A(()=>[(Y(!0),he(re,null,Ne(c.value,r=>(Y(),Ae(de,{cols:"12",md:"6",key:r.name},{default:A(()=>[t($e,{class:ve(["rounded-lg h-100 transition-swing",{"opacity-50":N(r.name)}]),elevation:"0",border:"",style:{"border-color":"#e0e0e0"}},{default:A(()=>[s("div",Na,[s("div",$a,[t(ne,{icon:r.icon,size:"small",class:"mr-2"},null,8,["icon"]),te(" "+ie(r.name),1)]),t(al,{"model-value":ce(r),"onUpdate:modelValue":B=>le(r,B),disabled:N(r.name)||q.value,density:"compact",color:"indigo-lighten-1","hide-details":"",class:"ma-0 pa-0"},null,8,["model-value","onUpdate:modelValue","disabled"])]),s("div",Ka,[(Y(!0),he(re,null,Ne(r.submodules,B=>(Y(),he("div",{key:B.name,class:"mb-1"},[B.name!=="General"&&r.submodules.length>1?(Y(),he("div",Ga,ie(B.name.replace("Sección ","")),1)):Te("",!0),(Y(!0),he(re,null,Ne(B.permissions,X=>(Y(),he("div",{key:X.Id,class:"d-flex align-center mb-1 permission-row"},[t(al,{modelValue:g.value.PermisosEspecificos,"onUpdate:modelValue":l[12]||(l[12]=_=>g.value.PermisosEspecificos=_),value:X.Id,disabled:N(r.name)||q.value,density:"compact",color:"indigo-lighten-1","hide-details":"",class:"mr-2"},null,8,["modelValue","value","disabled"]),s("span",Ha,ie(X.Descripcion),1)]))),128))]))),128))])]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1}),q.value?(Y(),Ae(Al,{key:0,type:"success",variant:"tonal",density:"compact",class:"mt-6 text-caption bg-green-lighten-5 text-green-darken-2",icon:"mdi-shield-check",border:"start",style:{"border-color":"#4CAF50"}},{title:A(()=>[...l[33]||(l[33]=[s("span",{class:"text-green-darken-3 font-weight-bold"},"Acceso Total",-1)])]),default:A(()=>[l[34]||(l[34]=te(' El rol "SUPER ADMINISTRADOR" tiene acceso a todos los permisos del sistema automáticamente. ',-1))]),_:1})):(Y(),Ae(Al,{key:1,type:"info",variant:"tonal",density:"compact",class:"mt-6 text-caption bg-blue-lighten-5 text-blue-darken-2",icon:"mdi-information-outline",border:"start",style:{"border-color":"#2196F3"}},{title:A(()=>[...l[35]||(l[35]=[s("span",{class:"text-blue-darken-3 font-weight-bold"},"Modo Personalizado",-1)])]),default:A(()=>[l[36]||(l[36]=te(' Al modificar manualmente cualquier casilla, el rol cambiará automáticamente a "Personalizado". ',-1)),l[37]||(l[37]=s("br",null,null,-1)),l[38]||(l[38]=s("strong",null,"Nota:",-1)),l[39]||(l[39]=te(' Algunas secciones requieren activar permisos de "Navegación" primero. ',-1))]),_:1}))]),_:1}),t(Ee),t(Cl,{class:"px-4 pb-4 pt-2"},{default:A(()=>[t(fl),t(Pe,{color:"primary",variant:"flat",class:"text-capitalize rounded-lg px-6",onClick:l[13]||(l[13]=r=>f.value=!1)},{default:A(()=>[...l[40]||(l[40]=[te(" Listo ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(de,{cols:"12",md:"6"},{default:A(()=>[l[41]||(l[41]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"CONTRASEÑA",-1)),t(we,{modelValue:g.value.Password,"onUpdate:modelValue":l[15]||(l[15]=r=>g.value.Password=r),placeholder:e.user?"Dejar en blanco para mantener":"Contraseña",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-lock-outline","bg-color":"grey-lighten-5",class:"rounded-lg",type:"password",rules:E.value,"hide-details":"auto"},null,8,["modelValue","placeholder","rules"])]),_:1})],64)):Te("",!0),t(de,{cols:"12"},{default:A(()=>[t(Ee,{class:"my-2"})]),_:1}),t(de,{cols:"12"},{default:A(()=>[l[42]||(l[42]=s("label",{class:"text-caption font-weight-bold text-grey-darken-1 mb-1 d-block"},"ESTADO DEL USUARIO",-1)),s("div",{class:ve(["status-box d-flex align-center justify-space-between px-3 py-0 rounded-lg",g.value.Activo?"bg-blue-lighten-5":"bg-grey-lighten-4"])},[s("div",ja,[t(ne,{color:g.value.Activo?"primary":"grey",class:"mr-2",size:"16"},{default:A(()=>[te(ie(g.value.Activo?"mdi-check-circle":"mdi-minus-circle"),1)]),_:1},8,["color"]),s("span",{class:ve(["text-caption font-weight-medium",g.value.Activo?"text-primary":"text-grey-darken-1"])},ie(g.value.Activo?"Usuario Activo":"Usuario Inactivo"),3)]),t(Rl,{modelValue:g.value.Activo,"onUpdate:modelValue":l[16]||(l[16]=r=>g.value.Activo=r),color:"primary","hide-details":"",density:"compact",inset:"",class:"scale-switch"},null,8,["modelValue"])],2)]),_:1})]),_:1})]),_:1},512)]),_:1}),t(Cl,{class:"px-6 pb-6 pt-4 bg-white"},{default:A(()=>[t(fl),t(Pe,{variant:"text",class:"text-capitalize text-grey-darken-1 mr-2",onClick:l[17]||(l[17]=r=>n.value=!1),density:"comfortable"},{default:A(()=>[...l[43]||(l[43]=[te(" Cancelar ",-1)])]),_:1}),t(Pe,{color:"blue-grey-darken-4",variant:"flat",class:"text-white text-capitalize rounded-lg px-6",height:"40","prepend-icon":"mdi-content-save-outline",onClick:K,loading:k.value,elevation:"0",density:"comfortable"},{default:A(()=>[te(ie(e.user?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},qa=Nl(Wa,[["__scopeId","data-v-9ed19707"]]),Ja={class:"px-8 pt-8 pb-4 d-flex justify-space-between align-start"},Qa={class:"text-h5 font-weight-bold text-grey-darken-3 mb-1"},Xa={key:0,class:"d-flex justify-center align-center py-12"},Ya={key:1,class:"d-flex flex-column align-center justify-center py-12 text-center"},Za={class:"empty-state-icon mb-6"},en={class:"plus-badge"},ln={class:"d-flex align-center mb-3"},tn={class:"text-primary font-weight-bold"},an={class:"text-truncate"},nn={class:"text-subtitle-1 font-weight-bold text-grey-darken-3 text-truncate"},on={class:"text-caption text-grey text-truncate"},sn={class:"text-caption text-grey-darken-1 mb-2 font-weight-medium d-flex align-center"},un={class:"text-truncate"},rn={key:0,class:"text-caption text-grey mb-1 d-flex align-center"},cn={class:"text-truncate"},dn={key:1,class:"text-caption text-grey d-flex align-center"},vn={class:"text-truncate"},fn={__name:"UserList",props:{modelValue:Boolean,filterRoles:{type:Array,default:()=>[]},title:{type:String,default:"Mis Usuarios"},embedded:{type:Boolean,default:!1},clientMode:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:i}){const a=e,o=i,n=T({get:()=>a.modelValue,set:E=>o("update:modelValue",E)});T(()=>a.embedded?{}:{modelValue:a.modelValue,"onUpdate:modelValue":E=>o("update:modelValue",E),maxWidth:1100,height:"auto",scrollable:!0,transition:"dialog-bottom-transition"});const m=j([]),u=j([]),c=j([]),v=j(""),k=j(!1),f=j(null),C=j(!1),S=T(()=>{let E=m.value;if(a.filterRoles.length>0&&(E=E.filter(y=>a.filterRoles.includes(y.Rol))),!v.value)return E;const w=v.value.toLowerCase();return E.filter(y=>y.Nombre.toLowerCase().includes(w)||y.Apellido.toLowerCase().includes(w)||y.Correo.toLowerCase().includes(w))});function V(E){return`${E.Nombre.charAt(0)}${E.Apellido.charAt(0)}`.toUpperCase()}function D(E,w){{const y=c.value.find(O=>O.Id===w);return y?y.Nombre:"Desconocido"}}function F(E){const w=u.value.find(y=>y.Id===E);return w?w.NombreSede:"Desconocida"}async function R(){C.value=!0;try{const[E,w,y]=await Promise.all([Se.get("http://localhost:5000/api/config/users",{withCredentials:!0}),Se.get("http://localhost:5000/api/config/sedes",{withCredentials:!0}),Se.get("http://localhost:5000/api/config/catalogs/cargos",{withCredentials:!0})]);m.value=E.data,u.value=w.data,c.value=y.data}catch(E){console.error("Error cargando datos:",E)}finally{C.value=!1}}function x(){f.value=null,k.value=!0}function P(E){f.value={...E},k.value=!0}async function g(){await R(),k.value=!1}return me(n,E=>{E&&R()},{immediate:!0}),yl(()=>{R()}),(E,w)=>(Y(),Ae(ml,{modelValue:n.value,"onUpdate:modelValue":w[3]||(w[3]=y=>n.value=y),"max-width":"1100",height:"auto",scrollable:"",transition:"dialog-bottom-transition"},{default:A(()=>[t($e,{class:"rounded-xl elevation-24"},{default:A(()=>[s("div",Ja,[s("div",null,[s("h2",Qa,ie(e.title),1),w[4]||(w[4]=s("p",{class:"text-body-2 text-grey"},"Gestiona el acceso y los permisos de los usuarios del sistema.",-1))]),t(Pe,{icon:"mdi-close",variant:"text",color:"grey",onClick:w[0]||(w[0]=y=>n.value=!1)})]),t(Ee,{class:"mx-8"}),t(Ze,{class:"px-8 py-6 bg-grey-lighten-5"},{default:A(()=>[t(ll,{class:"mb-6 align-center"},{default:A(()=>[t(de,{cols:"12",md:"5"},{default:A(()=>[t(we,{modelValue:v.value,"onUpdate:modelValue":w[1]||(w[1]=y=>v.value=y),"prepend-inner-icon":"mdi-magnify",label:`Buscar en ${e.title}`,variant:"outlined",density:"compact","hide-details":"","bg-color":"white",color:"primary",class:"rounded-lg"},null,8,["modelValue","label"])]),_:1}),t(fl),t(de,{cols:"12",md:"auto"},{default:A(()=>[t(Pe,{color:"#1e293b",class:"text-white text-capitalize rounded-lg",height:"40","prepend-icon":"mdi-account-plus",elevation:"0",onClick:x},{default:A(()=>[...w[5]||(w[5]=[te(" Nuevo Usuario ",-1)])]),_:1})]),_:1})]),_:1}),C.value?(Y(),he("div",Xa,[t(Gl,{indeterminate:"",color:"primary",size:"64"})])):S.value.length===0?(Y(),he("div",Ya,[s("div",Za,[t(ne,{size:"48",color:"primary"},{default:A(()=>[...w[6]||(w[6]=[te("mdi-account-off",-1)])]),_:1}),s("div",en,[t(ne,{size:"16",color:"white"},{default:A(()=>[...w[7]||(w[7]=[te("mdi-plus",-1)])]),_:1})])]),w[9]||(w[9]=s("h3",{class:"text-h6 font-weight-bold text-grey-darken-3 mb-2"},"No se encontraron registros",-1)),w[10]||(w[10]=s("p",{class:"text-body-2 text-grey mb-8",style:{"max-width":"400px"}}," No hay usuarios registrados que coincidan con tu búsqueda. Crea un nuevo registro para comenzar. ",-1)),t(Pe,{color:"primary",variant:"tonal",class:"text-capitalize rounded-lg px-6",height:"44","prepend-icon":"mdi-account-plus",onClick:x},{default:A(()=>[...w[8]||(w[8]=[te(" Crear nuevo ",-1)])]),_:1})])):(Y(),Ae(ll,{key:2},{default:A(()=>[(Y(!0),he(re,null,Ne(S.value,y=>(Y(),Ae(de,{cols:"12",sm:"6",md:"4",lg:"3",key:y.Id},{default:A(()=>[t($e,{hover:"",onClick:O=>P(y),class:"user-card border-0 elevation-1 h-100 rounded-lg"},{default:A(()=>[s("div",{class:ve(["card-status-strip",y.Activo?"bg-success":"bg-grey"])},null,2),t(Ze,{class:"pa-5"},{default:A(()=>[s("div",ln,[t(He,{color:"blue-lighten-5",size:"40",class:"mr-3"},{default:A(()=>[s("span",tn,ie(V(y)),1)]),_:2},1024),s("div",an,[s("div",nn,ie(y.Nombre)+" "+ie(y.Apellido),1),s("div",on,ie(y.Correo),1)])]),t(Ee,{class:"mb-3"}),s("div",sn,[t(ne,{size:"small",start:"",class:"mr-1"},{default:A(()=>[...w[11]||(w[11]=[te("mdi-shield-account",-1)])]),_:1}),s("span",un,ie(y.Rol||"Sin Rol"),1)]),y.CargoId?(Y(),he("div",rn,[t(ne,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:A(()=>[...w[12]||(w[12]=[te("mdi-badge-account-horizontal",-1)])]),_:1}),s("span",cn,ie(D("cargos",y.CargoId)),1)])):Te("",!0),y.SedeId?(Y(),he("div",dn,[t(ne,{size:"small",start:"",class:"mr-1",color:"grey-lighten-1"},{default:A(()=>[...w[13]||(w[13]=[te("mdi-map-marker",-1)])]),_:1}),s("span",vn,ie(F(y.SedeId)),1)])):Te("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}),t(qa,{modelValue:k.value,"onUpdate:modelValue":w[2]||(w[2]=y=>k.value=y),user:f.value,"allowed-roles":e.filterRoles,"client-mode":e.clientMode,onSave:g},null,8,["modelValue","user","allowed-roles","client-mode"])]),_:1},8,["modelValue"]))}},xn=Nl(fn,[["__scopeId","data-v-4291b77e"]]);export{xn as U,Je as V,Rl as a,fl as b,ml as c,kn as d,al as e,Oe as f,it as g,st as h,ut as i,ot as j,Va as k,ka as m,Ca as u};
