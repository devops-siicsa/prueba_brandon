import{e as E,d as f,k as T,m as N,a7 as p,o as n,a as t,c as _,w as a,a8 as d,aa as g,h as i,af as j,f as s,g as c,W as S,a9 as B,t as x,ae as R}from"./index--cwzPgFN.js";import{u as D,b as $,d as G,c as L}from"./useMobileDetection-DVtk2gMU.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as y,b as P,V}from"./VTextField-oy8GBoI6.js";import{a as q,V as v}from"./VChip-hM0WfqDl.js";import{V as A}from"./VGrid-Bvk_EzwB.js";import{V as F}from"./VContainer-B_ZFSiXZ.js";import"./index-BvfS-qSn.js";const U={class:"h-100"},H={key:0,class:"d-flex justify-center align-center py-12"},W={key:1,class:"d-flex flex-column align-center justify-center py-16 text-center animate-fade-in"},J={class:"bg-grey-lighten-4 rounded-circle pa-6 mb-4"},K={class:"position-absolute top-0 right-0 mt-4 mr-4 z-10"},O={class:"d-flex align-start gap-4 mb-4"},Q={class:"pt-1 pr-12"},X={class:"text-subtitle-1 font-weight-bold text-grey-darken-3 line-height-tight mb-1 clamp-2"},Y={class:"text-caption text-grey font-weight-medium d-flex align-center gap-1"},Z={class:"d-flex align-center justify-space-between text-corporate-blue group-hover:text-primary transition-colors"},ee={__name:"CompanyGallery",setup(k){const{isMobileApp:u}=D(),r=E(),w=f([]),b=f(!1),h=f(""),m=f("all");async function I(){b.value=!0;try{const l=await R.get("/api/config/companies",{withCredentials:!0});w.value=l.data}catch(l){console.error(l)}finally{b.value=!1}}const C=T(()=>w.value.filter(l=>{if(m.value==="clients"&&!l.EsCliente||m.value==="own"&&l.EsCliente)return!1;const e=h.value.toLowerCase();return(l.RazonSocial?.toLowerCase().includes(e)||l.NIT?.includes(e))&&l.Activo}));function z(l){localStorage.setItem("selectedCompanyId",l.Id),r.push({name:"InventoryList",query:{companyId:l.Id,companyName:l.RazonSocial}})}return N(()=>{I()}),(l,e)=>(n(),p("div",U,[t(V,{class:d(["mb-6 align-center",{"flex-column-reverse align-stretch gap-4":g(u)}])},{default:a(()=>[t(y,{cols:"12",md:"6",class:d({"pa-0":g(u)})},{default:a(()=>[t(P,{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=o=>h.value=o),"prepend-inner-icon":"mdi-magnify",label:"Buscar empresa",placeholder:"NIT o Razón Social...",variant:"solo-filled",flat:"",density:"comfortable","hide-details":"","bg-color":"white",class:"search-field rounded-xl elevation-1",clearable:""},null,8,["modelValue"])]),_:1},8,["class"]),t(y,{cols:"12",md:"6",class:d(["d-flex",g(u)?"justify-start pa-0 mb-4 overflow-x-auto":"justify-end"])},{default:a(()=>[t(q,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=o=>m.value=o),"selected-class":"text-white bg-corporate-blue",mandatory:"",class:"filter-chips"},{default:a(()=>[t(v,{filter:"",value:"all",variant:"elevated",class:"font-weight-medium"},{default:a(()=>[...e[2]||(e[2]=[i("Todos",-1)])]),_:1}),t(v,{filter:"",value:"clients",variant:"elevated",class:"font-weight-medium"},{default:a(()=>[...e[3]||(e[3]=[i("Clientes",-1)])]),_:1}),t(v,{filter:"",value:"own",variant:"elevated",class:"font-weight-medium"},{default:a(()=>[...e[4]||(e[4]=[i("Mis Empresas",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["class"])]),_:1},8,["class"]),b.value?(n(),p("div",H,[t(j,{indeterminate:"",color:"corporate-blue",size:"64",width:"6"})])):C.value.length===0?(n(),p("div",W,[s("div",J,[t(c,{size:"48",color:"grey-lighten-1"},{default:a(()=>[...e[5]||(e[5]=[i("mdi-domain-off",-1)])]),_:1})]),e[6]||(e[6]=s("h3",{class:"text-h6 text-grey-darken-3 font-weight-bold mb-1"},"No se encontraron empresas",-1)),e[7]||(e[7]=s("p",{class:"text-body-2 text-grey"},"Intenta ajustar los filtros o la búsqueda.",-1))])):(n(),_(V,{key:2,class:"match-height"},{default:a(()=>[(n(!0),p(S,null,B(C.value,o=>(n(),_(y,{cols:"12",sm:"6",md:"4",lg:"3",key:o.Id},{default:a(()=>[t($,{hover:"",onClick:oe=>z(o),class:d(["company-card border-0 elevation-0 h-100 rounded-xl d-flex flex-column group",{"mobile-card":g(u)}])},{default:a(()=>[s("div",K,[t(v,{size:"x-small",color:o.EsCliente?"teal-lighten-5":"blue-grey-lighten-5",class:d([o.EsCliente?"text-teal-darken-2":"text-blue-grey-darken-2","font-weight-bold text-uppercase tracking-wider border-0"]),variant:"flat"},{default:a(()=>[i(x(o.EsCliente?"Cliente":"Propia"),1)]),_:2},1032,["color","class"])]),t(G,{class:"pa-5 d-flex flex-column h-100 position-relative"},{default:a(()=>[s("div",O,[s("div",{class:d(["rounded-xl d-flex align-center justify-center flex-shrink-0 transition-colors",o.EsCliente?"bg-teal-lighten-5 text-teal-darken-1":"bg-blue-grey-lighten-5 text-blue-grey-darken-1"]),style:{width:"56px",height:"56px"}},[t(c,{size:"32"},{default:a(()=>[i(x(o.EsCliente?"mdi-account-tie":"mdi-domain"),1)]),_:2},1024)],2),s("div",Q,[s("h3",X,x(o.RazonSocial),1),s("div",Y,[t(c,{size:"12"},{default:a(()=>[...e[8]||(e[8]=[i("mdi-identifier",-1)])]),_:1}),i(" "+x(o.NIT),1)])])]),t(L,{class:"mt-auto mb-4 border-dashed"}),s("div",Z,[e[10]||(e[10]=s("span",{class:"text-caption font-weight-bold text-uppercase tracking-wide"},"Gestionar Inventario",-1)),t(A,{icon:"",variant:"text",density:"compact",size:"small",class:"ml-2"},{default:a(()=>[t(c,{class:"transform group-hover:translate-x-1 transition-transform"},{default:a(()=>[...e[9]||(e[9]=[i("mdi-arrow-right",-1)])]),_:1})]),_:1})])]),_:2},1024)]),_:2},1032,["onClick","class"])]),_:2},1024))),128))]),_:1}))]))}},te=M(ee,[["__scopeId","data-v-143ab2c9"]]),ae={class:"w-100"},se={class:"mb-6 mb-md-8"},le={class:"text-caption text-grey mb-1"},pe={__name:"DashboardHome",setup(k){return(u,r)=>(n(),_(F,{fluid:"",class:"bg-grey-lighten-5 fill-height align-start"},{default:a(()=>[s("div",ae,[s("div",se,[s("div",le,[t(c,{size:"small",class:"mr-1"},{default:a(()=>[...r[0]||(r[0]=[i("mdi-home",-1)])]),_:1}),r[1]||(r[1]=i(" / Dashboard ",-1))]),r[2]||(r[2]=s("h1",{class:"text-h5 text-md-h4 font-weight-bold text-primary mb-1"}," Panel Principal ",-1)),r[3]||(r[3]=s("p",{class:"text-body-2 text-md-body-1 text-grey-darken-1"}," Selecciona una empresa para gestionar su inventario. ",-1))]),t(te)])]),_:1}))}};export{pe as default};
